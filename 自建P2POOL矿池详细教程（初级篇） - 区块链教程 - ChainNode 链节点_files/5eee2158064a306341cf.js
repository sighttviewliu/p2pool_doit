(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(27).concat([function(t,e,a){"use strict";a(1123);var i=a(0),r=Object(i.a)({},(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"empty-data"},[this._t("default")],2)}),[],!1,null,"260ec4e8",null);e.a=r.exports},,,,,,,,,,,,,,,function(t,e,a){"use strict";a(12),a(31),a(39);var i=a(14),r={props:{size:{validate:function(t){return["lg",""].includes(t)},default:""},currentId:{type:String|Number},currentIndex:{type:String|Number,default:0},menu:{type:Array}},data:function(){return{width:"lg"===this.size?40:32,offsetLeft:0,opacity:0,timer:null}},computed:{classNames:function(){return[this.size?"bbt-tab--".concat(this.size):"",this.type?"bbt-tab--".concat(this.type):""]}},mounted:function(){var t=this;!this.$el||!this.$el.childNodes||this.currentIndex<0||(this.offsetLeft=Object(i.i)(this.$el.childNodes[0].childNodes[this.currentIndex]).x,this.width=this.$el.childNodes[0].childNodes[this.currentIndex].offsetWidth,this.timer=setTimeout((function(){t.opacity=1}),300))},watch:{currentIndex:function(t){var e=this;this.offsetLeft=Object(i.i)(this.$el.childNodes[0].childNodes[t]).x,this.width=this.$el.childNodes[0].childNodes[t].offsetWidth,this.timer=setTimeout((function(){e.opacity=1}),300)}},beforeDestroy:function(){clearTimeout(this.timer)},methods:{switchTab:function(t){this.currentId!==t.id&&this.$emit("switch",t)}}},n=(a(1152),a(0)),s=Object(n.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"tabs",staticClass:"bbt-tab",class:t.classNames},[a("ul",{staticClass:"bbt-tab__menu bbt-clearfix"},t._l(t.menu,(function(e,i){return a("li",{key:i,class:{active:t.currentId==e.id},on:{click:function(a){return t.switchTab(e)}}},[t._v("\n      "+t._s(e.name)),e.num>=0?a("span",[t._v(t._s(e.num))]):t._e()])})),0),t._v(" "),a("div",{staticClass:"li-active__line",style:{left:t.offsetLeft+"px",width:t.width+"px",opacity:t.opacity}})])}),[],!1,null,"d7dac414",null);e.a=s.exports},,,,,,,,,,,function(t,e,a){"use strict";a(12);var i={props:{menu:{type:Array},currentId:{type:Number|String},isNeedMore:{type:Boolean,default:!1}},data:function(){return{isOpen:!1}},methods:{switchTab:function(t){this.currentId!=t.id&&this.$emit("switch",t)},UpDown:function(){this.isOpen=!this.isOpen}}},r=(a(1117),a(0)),n=Object(r.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-subtab bbt-clearfix"},[a("ul",{staticClass:"bbt-subtab__menu bbt-clearfix",class:t.isOpen?"up":"down"},t._l(t.menu,(function(e,i){return a("li",{key:i,class:{active:t.currentId==e.id},on:{click:function(a){return t.switchTab(e)}}},[t._v("\n      "+t._s(e.name)+"\n    ")])})),0),t._v(" "),t.isNeedMore?a("span",{on:{click:t.UpDown}},[a("bbt-icon",{staticClass:"bbt-subtab__more",class:t.isOpen?"up":"down",staticStyle:{"font-size":"24px"},attrs:{type:"down-circle"}})],1):t._e()])}),[],!1,null,"7533d3e9",null);e.a=n.exports},,,,,,,,function(t,e,a){"use strict";var i={components:{XBanner:a(124).a},props:{title:{type:String}},data:function(){return{routePath:this.$route.fullPath,bannerData:{bgPic:"/images/banner/document-bg@2x.jpg",holdHeight:"80",height:"400"}}},head:function(){return-1!==this.$route.fullPath.indexOf("us/friend")?{title:this.title,meta:[{hid:"robots",name:"robots",content:"noindex,nofollow"}]}:{title:this.title}}},r=a(0),n=Object(r.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main bbt-main"},[a("x-banner",{attrs:{banner:t.bannerData}}),t._v(" "),a("div",{staticClass:"bbt-container"},[a("div",{staticClass:"document-module"},[a("h3",{staticClass:"document-module__title typo-h3"},[t._m(0),t._v(t._s(t.title)+"\n      ")]),t._v(" "),a("div",{staticClass:"document-module__content"},[t._t("default")],2)])])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"square"},[e("i"),e("i")])}],!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";var i={props:["isLoading","text"],methods:{toNext:function(){this.$emit("next")}}},r=a(0),n=Object(r.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("bbt-loading",{attrs:{loading:this.isLoading}},[e("bbt-btn",{attrs:{type:"default",block:!0,size:"lg"},on:{click:this.toNext}},[this._v(this._s(this.text||"查看更多"))])],1)}),[],!1,null,null,null);e.a=n.exports},,,,,,,,,,function(t,e,a){"use strict";var i=a(8),r={props:{data:{type:Array},styles:{type:String}},methods:{route_to_path:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Object(i.j)(t,e,a)}}},n=a(0),s=Object(n.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("bbt-crumb",{staticStyle:{"margin-bottom":"0"},attrs:{type:t.styles,icon:"right"}},[a("bbt-crumb-item",[a("nuxt-link",{attrs:{to:{name:"index"}}},[a("bbt-icon",{staticStyle:{"font-size":"12px"},attrs:{type:"home"}}),t._v(" ChainNode 链节点\n      ")],1)],1),t._v(" "),t.data[1]?a("bbt-crumb-item",[a("nuxt-link",{attrs:{to:{name:"nodes"}}},[t._v(t._s(t.data[1].name))])],1):t._e(),t._v(" "),t.data[2]?a("bbt-crumb-item",[["118","121","42"].includes(""+t.data[2].id)?"118"===t.data[2].id?a("nuxt-link",{attrs:{to:{name:"events"}}},[t._v("\n        区块链活动\n      ")]):"121"===t.data[2].id?a("nuxt-link",{attrs:{to:{name:"ask-me-anything"}}},[t._v("\n        AMA\n      ")]):"42"===t.data[2].id?a("nuxt-link",{attrs:{to:{name:"ask"}}},[t._v("\n        问答\n      ")]):t._e():a("nuxt-link",{attrs:{to:{name:"forum-id",params:{id:""+t.data[2].id}}}},[t._v("\n        "+t._s(t.data[2].name)+"\n      ")])],1):t._e(),t._v(" "),a("bbt-crumb-item",[a("nuxt-link",{attrs:{to:{path:t.route_to_path(t.$route.name,t.$route.params.id)}}},[t._v(t._s(t.data[t.data.length-1].name)+"\n      ")])],1)],1)],1)}),[],!1,null,null,null);e.a=s.exports},,,,,function(t,e,a){"use strict";a(23),a(31),a(39);var i=a(24),r=a.n(i),n=(a(12),a(8)),s={props:{repliesCount:{type:Number},tid:{type:String|Number},type:{type:String|Number},fid:{type:String|Number}},computed:{pagers:function(){for(var t=[],e=2;e<=Math.ceil(this.repliesCount/15);e++)t.push(e);return t}},methods:{routeType:function(t,e,a){return Object(n.n)(t,e,a)}}},o=(a(1183),a(0)),c={components:{XPage:Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._l(t.pagers.slice(0,4),(function(e,i){return a("nuxt-link",{key:i,attrs:{to:{name:t.routeType(t.type,t.fid,e),params:{id:t.tid,page:e}},target:"_blank"}},[t._v(t._s(e))])})),t._v(" "),t.repliesCount>75?a("span",[t._v("...")]):t._e(),t._v(" "),t.pagers[t.pagers.length-1]>5?a("nuxt-link",{attrs:{to:{name:t.routeType(t.type,t.fid,t.pagers[t.pagers.length-1]),params:{id:t.tid,page:t.pagers[t.pagers.length-1]}},target:"_blank"}},[t._v(t._s(t.pagers[t.pagers.length-1]))]):t._e()],2)}),[],!1,null,"5cde4217",null).exports,XAdminBar:a(114).a},props:{data:{type:Array},isSticky:{type:Boolean,default:!1},managePost:{type:Object},canManage:{type:Boolean,default:!1},source:{type:Boolean,default:!1},sort:{type:String,default:"lastpost"},type:{type:String}},data:function(){return{pageSize:15,nowTime:Date.parse(new Date)/1e3}},methods:{closePost:function(t){this.$emit("close",t)},formatterTime:function(t){return r()(1e3*t).format()},routeType:function(t,e){return Object(n.n)(t,e)},amaStatus:function(t){return this.nowTime<t.starttimefrom?"AMA 预热":this.nowTime>=t.starttimefrom&&this.nowTime<=t.starttimeto?"AMA 进行中":"AMA 精彩回顾"},trackEvent:function(t,e,a,i){var r=["forum-id","forum-id-:page"].includes(this.$route.name)&&"1"==this.$route.params.id;i>0||!r||!this.isSticky||window._czc&&window._czc.push(["_trackEvent",t,"点击",e,"",a])},inThisForum:function(t){return t==this.$route.params.id},getRoute:function(t){return 121==t?"/ask-me-anything":118==t?"/events":42==t?"/ask":61==t?"/forum/1":"/forum/".concat(t)}}},l=(a(1186),Object(o.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-list"},t._l(t.data,(function(e,i){return a("div",{key:e.tid,staticClass:"post-item-wrap",on:{click:function(e){return t.trackEvent("CN_ad_A6","首页第一条全局置顶贴","post-item-wrap",i)}}},[a("div",{staticClass:"post-item"},[a("div",{staticClass:"post-item__avatar"},[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:"/user/"+e.author_info.id,target:"_blank"}},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:e.author_info&&e.author_info.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n              src: item.author_info && item.author_info.avatar,\n              error: '/images/default/avatar.gif',\n              loading: '/images/default/avatar.gif',\n            }",arg:"background-image"}]})])],1),t._v(" "),a("div",{staticClass:"post-item__body"},[a("div",{staticClass:"post-item__info bbt-clearfix"},[a("h3",{staticClass:"post-item__title"},[a("nuxt-link",{class:[e.displayorder&&"0"!=e.displayorder?"link-primary font-bold bbt-block":"link-dark-major font-bold bbt-block"],attrs:{to:{name:t.routeType(e.type,e.category&&e.category.id),params:{id:""+e.tid}},target:"_blank"}},["4"==e.type&&e.category&&"121"==e.category.id&&"0"!=e.displayorder&&e.activity?a("span",{staticClass:"post-tag"},[t._v(t._s(t.amaStatus(e.activity)))]):t._e(),t._v(" "),a("span",{domProps:{innerHTML:t._s(e.title)}})])],1),t._v(" "),Number.parseInt(e.replies)>t.pageSize?a("span",{staticClass:"post-item__page"},[a("x-page",{staticStyle:{display:"inline"},attrs:{type:e.type,fid:e.category&&e.category.id,tid:e.tid,repliesCount:Number.parseInt(e.replies)}})],1):t._e(),t._v(" "),a("span",{staticClass:"post-item__tags"},[e.category&&42==e.category.id&&Number.parseInt(e.price)&&Number.parseInt(e.price)>0?a("nuxt-link",{attrs:{to:{name:"ask"}}},[a("bbt-icon",{staticStyle:{color:"#F46300","font-size":"20px"},attrs:{type:"reward"}},[a("span",[t._v("悬赏"+t._s(e.price)+"金币")])])],1):e.category&&42==e.category.id&&Number.parseInt(e.price)&&Number.parseInt(e.price)<0?a("span",[t._v("已解决")]):t._e(),t._v(" "),e.displayorder&&"0"!=e.displayorder?a("bbt-icon",{staticStyle:{"font-size":"20px",color:"#82A01C"},attrs:{title:"1"==e.displayorder?"本版置顶":"2"==e.displayorder?"分类置顶":"全局置顶",type:"stick-"+e.displayorder}}):t._e(),t._v(" "),e.digest&&"0"!=e.digest?a("bbt-icon",{staticStyle:{"font-size":"20px",color:"#FDB500"},attrs:{title:"精华"+e.digest,type:"essence-"+e.digest}}):t._e(),t._v(" "),"1"==e.type?a("bbt-icon",{staticStyle:{"font-size":"20px",color:"#E32C28"},attrs:{title:"投票",type:"vote"}}):"5"==e.type?a("bbt-icon",{staticStyle:{"font-size":"20px",color:"#E32C28"},attrs:{title:"辩论",type:"debate"}}):"4"==e.type&&e.category&&"118"==e.category.id?a("span",[t._v("活动")]):"2"==e.type?a("span",[t._v("广告")]):t._e(),t._v(" "),"1"==e.attachment?a("bbt-icon",{staticStyle:{"font-size":"20px",color:"#9FA19D"},attrs:{title:"普通附件",type:"attachment"}}):"2"==e.attachment?a("bbt-icon",{staticStyle:{"font-size":"20px",color:"#3C9D40"},attrs:{title:"图片附件",type:"picture"}}):t._e(),t._v(" "),e.status.new?a("bbt-icon",{staticStyle:{"font-size":"20px",color:"#F46300"},attrs:{type:"new"}}):t._e(),t._v(" "),e.status.rush?a("bbt-icon",{staticStyle:{"font-size":"20px",color:"#FDB500"},attrs:{title:"抢楼帖",type:"preemption"}}):t._e(),t._v(" "),e.status.like?a("bbt-icon",{staticStyle:{"font-size":"20px",color:"#F46300"},attrs:{title:"帖子被加分",type:"bonus"}}):t._e(),t._v(" "),e.status.hot?a("bbt-icon",{staticStyle:{"font-size":"20px",color:"#FDB500"},attrs:{title:"热度",type:"hot"}}):t._e(),t._v(" "),e.status.close?a("bbt-icon",{staticStyle:{"font-size":"20px",color:"#FDB500"},attrs:{type:"lock"}}):t._e(),t._v(" "),e.status.activity?a("bbt-icon",{staticStyle:{"font-size":"20px",color:"#FDB500"},attrs:{title:"活动",type:"Group"}}):t._e(),t._v(" "),"1"==e.official_response&&e.category&&"313"==e.category.id?a("span",[t._v("官方回应")]):t._e()],1),t._v(" "),t.isSticky?a("span",{staticClass:"post-item__close",on:{click:function(e){return t.closePost(i)}}},[a("bbt-icon",{staticStyle:{"font-size":"16px"},attrs:{type:"close"}})],1):t._e()]),t._v(" "),"search"==t.type?a("div",{staticClass:"post-item__content",domProps:{innerHTML:t._s(e.content)}}):t._e(),t._v(" "),a("div",{staticClass:"post-item__author bbt-clearfix"},[a("div",{staticClass:"post-item__author-left"},[a("nuxt-link",{staticClass:"author_name link-dark-minor",attrs:{to:"/user/"+e.author_info.id,target:"_blank"}},[t._v(t._s(e.author_info.name||e.author_info.display_name))]),t._v(" "),a("span",{staticClass:"bbt-dot"}),t._v(" "),"lastpost"===t.sort?a("time",{attrs:{datatime:t.formatterTime(e.lastpost)}},[t._v(t._s(t._f("timeAgo")(e.lastpost)))]):a("time",{attrs:{datatime:t.formatterTime(e.post_date)}},[t._v(t._s(t._f("timeAgo")(e.post_date)))]),t._v(" "),e.category.id&&"54"!=e.category.id&&t.source?a("nuxt-link",{staticClass:"coin link-dark-minor",attrs:{to:{path:t.getRoute(e.category.id)}}},[t._v(t._s(e.category.name))]):t._e(),t._v(" "),e.source_from?a("span",{staticClass:"source"},[a("i",[t._v("来自")]),a("span",[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"app-download"},target:"_blank"}},[a("bbt-icon",{attrs:{type:"Mobile"}}),t._v("App")],1)],1)]):t._e(),t._v(" "),t.inThisForum(e.category.id)&&t.canManage?a("x-admin-bar",{staticStyle:{margin:"0 4px"},attrs:{managePost:t.managePost,data:e,forbiddenId:e.author_info.id}}):t._e()],1),t._v(" "),a("div",{staticClass:"post-item__author-right"},[a("span",[a("bbt-icon",{attrs:{type:"eye"}}),t._v(" "+t._s(e.views)+"\n            ")],1),t._v(" "),a("span",[a("bbt-icon",{attrs:{type:"comment"}}),t._v(" "+t._s(e.replies)+"\n            ")],1)])])])])])})),0)}),[],!1,null,"92851fa2",null));e.a=l.exports},function(t,e,a){"use strict";a(7),a(5),a(4),a(3),a(6);var i=a(1);a(23);function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function n(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var s={mixins:[a(47).a],props:{data:Array,needLazy:Boolean,title:{type:String,default:"热门跟帖"}},computed:{isQuestion:function(){return"question-id"==this.$route.name||"ask"==this.$route.name||"ask-page"==this.$route.name},isAma:function(){return"ama-id"==this.$route.name||"ask-me-anything"==this.$route.name||"ask-me-anything-:page"==this.$route.name}},watch:{$route:{handler:function(){var t=this,e={};this.isAma&&(e={fid:121}),this.isLoading=!0,this.$store.dispatch("comment/FETCH_HOTCOMMENT_LIST",{params:n({},e,{type:this.isQuestion?"question":this.isAma?"person_bestreply":"new_reply"}),type:"hotComment"}).then((function(){t.isRender=!0,t.isLoading=!1})).catch((function(){t.isLoading=!1}))},deep:!0}},methods:{fetchModule:function(){var t=this,e={};this.isAma&&(e={fid:121}),this.$store.dispatch("comment/FETCH_HOTCOMMENT_LIST",{params:n({},e,{type:this.isQuestion?"question":this.isAma?"person_bestreply":"new_reply"}),type:"hotComment"}).then((function(){window.removeEventListener("scroll",t.debounceFn),t.debounceFn=null,t.isRender=!0,t.isLoading=!1})).catch((function(){t.isLoading=!1}))}}},o=(a(1122),a(0)),c=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data&&t.data.length||t.needLazy&&!t.isRender?a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    "+t._s(t.title)+"\n  ")]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[a("x-skeleton",{attrs:{needLazy:t.needLazy&&!t.isRender,skin:"hotcomment"}},[a("ul",{staticClass:"comment-list"},t._l(t.data,(function(e,i){return a("li",{key:i,staticClass:"comment-list__item"},[a("div",{staticClass:"comment-list__item-content"},[a("bbt-icon",{staticStyle:{"font-size":"20px",transform:"rotate(180deg)",left:"0",top:"0"},attrs:{type:"quote"}}),t._v(t._s(e.message||e.content)),a("bbt-icon",{staticStyle:{"font-size":"20px",right:"0",bottom:"0"},attrs:{type:"quote"}})],1),t._v(" "),a("div",{staticClass:"comment-list__item-source"},[a("div",{staticClass:"source__avatar"},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:e.avatar||e.author_info.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                  src: item.avatar || item.author_info.avatar,\n                  error: '/images/default/avatar.gif',\n                  loading: '/images/default/avatar.gif',\n                }",arg:"background-image"}]})]),t._v(" "),a("span",[t._v("来源"),a("nuxt-link",{staticClass:"link-dark-minor",attrs:{to:{name:"post-id",params:{id:""+e.tid}},target:"_blank"}},[t._v(t._s(e.subject||e.title))])],1)])])})),0)])],1)]):t._e()}),[],!1,null,"97f58512",null);e.a=c.exports},function(t,e,a){"use strict";var i={props:{data:{type:Object}},data:function(){return{isLoading:!1,currentPage:1,pageSize:5}},computed:{tid:function(){return this.$route.params.id||"0"}},methods:{changePage:function(t){var e=this;this.isLoading=!0,this.$store.dispatch("post/FETCH_REWARD_LIST",{params:{num:5,tid:this.tid,page:t},type:"reward"}).then((function(a){e.isLoading=!1,e.currentPage=t})).catch((function(){e.isLoading=!1}))}}},r=(a(1446),a(0)),n=Object(r.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"reward-module"},[a("div",{staticClass:"reward-module__header"},[a("bbt-icon",{staticStyle:{color:"#E32C28","font-size":"24px"},attrs:{type:"read"}}),t._v("打赏信息\n  ")],1),t._v(" "),a("bbt-loading",{attrs:{loading:t.isLoading}},[a("div",{staticClass:"reward-module__body"},[a("div",{staticClass:"reward-module__body-th bbt-clearfix"},[a("div",[t._v("\n          打赏者（"),a("span",[t._v(t._s(t.data.total))]),t._v("）\n        ")]),t._v(" "),a("div",[t._v("\n          打赏数量（"),a("span",[t._v("+"+t._s(t.data.sum))]),t._v("）\n        ")]),t._v(" "),a("div",{staticStyle:{width:"34%"}},[t._v("打赏理由")]),t._v(" "),a("div",[t._v("打赏时间")])]),t._v(" "),a("div",{staticClass:"reward-module__body-tr"},t._l(t.data.list,(function(e,i){return a("div",{key:i,staticClass:"reward-module__body-item bbt-clearfix"},[a("div",[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:e.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                src: item.avatar,\n                error: '/images/default/avatar.gif',\n                loading: '/images/default/avatar.gif',\n              }",arg:"background-image"}]}),t._v("\n            "+t._s(e.username)+"\n          ")]),t._v(" "),a("div",[a("bbt-icon",{staticStyle:{"font-size":"20px","margin-right":"4px",color:"#FDB500"},attrs:{type:"reward"}}),t._v("+"+t._s(e.score)+"\n          ")],1),t._v(" "),a("div",{staticStyle:{width:"34%"}},[e.reason?a("el-tooltip",{attrs:{effect:"dark",content:e.reason,placement:"top-start"}},[a("span",[t._v(t._s(e.reason))])]):a("span",[t._v(" ")])],1),t._v(" "),a("div",[a("span",[t._v(t._s(t._f("timeGMT")(e.dateline)))])])])})),0),t._v(" "),Number.parseInt(t.data.total)>t.pageSize?a("div",{staticClass:"reward-module__page"},[a("el-pagination",{attrs:{layout:"prev, pager, next","current-page":Number.parseInt(t.currentPage),"page-size":t.pageSize,total:Number.parseInt(t.data.total)},on:{"current-change":t.changePage}})],1):t._e()])])],1)}),[],!1,null,"c382ee38",null);e.a=n.exports},function(t,e,a){"use strict";var i={props:{data:{type:Array}},data:function(){return{isVisible:!1}}},r=(a(1445),a(0)),n=Object(r.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"examine-module",on:{click:function(e){t.isVisible=!0}}},[t._v("\n    本主题由 "+t._s(t.data[0].username)+" 于 "+t._s(t._f("timeGMT")(t.data[0].dateline))+"\n    "+t._s(t.data[0].action)+"\n  ")]),t._v(" "),a("el-dialog",{attrs:{title:"主题操作记录",visible:t.isVisible,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":!0,width:"50%"},on:{"update:visible":function(e){t.isVisible=e}}},[a("div",{staticClass:"examine-module__table"},[a("div",{staticClass:"examine-module__th"},[a("div",[t._v("操作者")]),t._v(" "),a("div",{staticStyle:{width:"30%"}},[t._v("时间")]),t._v(" "),a("div",[t._v("操作")]),t._v(" "),a("div",{staticStyle:{width:"30%"}},[t._v("有效期")])]),t._v(" "),t._l(t.data,(function(e,i){return a("div",{key:i,staticClass:"examine-module__tr"},[a("div",[t._v("\n          "+t._s(e.username)+"\n        ")]),t._v(" "),a("div",{staticStyle:{width:"30%"}},[t._v("\n          "+t._s(t._f("timeGMT")(e.dateline))+"\n        ")]),t._v(" "),a("div",[t._v("\n          "+t._s(e.action)+"\n        ")]),t._v(" "),a("div",{staticStyle:{width:"30%"}},[Number.parseInt(e.expiration)?a("span",[t._v(t._s(t._f("timeGMT")(e.expiration)))]):t._e()])])}))],2),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("bbt-btn",{attrs:{type:"primary",size:"sm"},on:{click:function(e){t.isVisible=!1}}},[t._v("\n        确 定\n      ")])],1)])],1)}),[],!1,null,"933c1e1a",null);e.a=n.exports},function(t,e,a){"use strict";a(7),a(5),a(4),a(3),a(6),a(12),a(25);var i,r,n,s,o=a(18),c=(a(23),a(1)),l=a(2),u=a(174),d=a(15),p=a(105),m=a(114),f=a(14),h=a(8),v=a(17);function b(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function _(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?b(Object(a),!0).forEach((function(e){Object(c.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var g={inject:["injectData"],components:{XSharepop:u.a,XDialog:p.a,XAdminBar:m.a},props:["data","type"],data:function(){return{isVisible:!1,isLoading:!1,scrollTop:0,windowHeight:0,elemTopScroll:0,cls:null,debounceSFn:null,debounceRFn:null}},mounted:function(){this.windowHeight=document.documentElement.clientHeight,this.handleScroll(),this.handleResize(),this.debounceSFn=Object(f.b)(this.handleScroll,100),this.debounceRFn=Object(f.b)(this.handleResize,100),this.$nextTick((function(){window.addEventListener("scroll",this.debounceSFn),window.addEventListener("resize",this.debounceRFn)}))},beforeDestroy:function(){window.removeEventListener("scroll",this.debounceSFn),window.removeEventListener("resize",this.debounceRFn)},computed:_({},Object(l.c)({post:function(t){return t.post},manage:function(t){return t.manage},userinfo:function(t){return t.userinfo}}),{uid:function(){return this.userinfo.uid},rewardParams:function(){return this.post.rewardParams},id:function(){return this.$route.params.id||"0"},routeName:function(){return this.$route.name},routePath:function(){return this.$route.path.slice(1)},qrcodeUrl:function(){var t="post";return"0"==this.data.type||"1"==this.data.type||"5"==this.data.type?t="post":"3"==this.data.type?t="question":"4"==this.data.type&&(t=this.data.category&&"121"==this.data.category.id?"ama":"event"),"".concat(d.e.host,"/").concat(t,"/").concat(this.data.id)},weiboUrl:function(){var t="post";return"0"==this.data.type||"1"==this.data.type||"5"==this.data.type?t="post":"3"==this.data.type?t="question":"4"==this.data.type&&(t=this.data.category&&"121"==this.data.category.id?"ama":"event"),this.data.images&&this.data.images[0]?"".concat(d.e.weibo_share_url,"?url=").concat(d.e.host,"/").concat(t,"/").concat(this.data.id,"&title=").concat(this.data.title,"&pic=").concat(this.data.images[0]):"".concat(d.e.weibo_share_url,"?url=").concat(d.e.host,"/").concat(t,"/").concat(this.data.id,"&title=").concat(this.data.title)},managePost:function(){return this.manage.manage.post},canManage:function(){return this.manage.manage.post&&Object(h.h)(this.manage.manage.post)||!1}}),methods:(i=Object(v.a)(),r=Object(v.a)(),n=Object(v.a)(),s={closeDialog:function(){this.isVisible=!1},toComment:function(){document.getElementById("comment-box")&&document.getElementById("comment-box").scrollIntoView()},like:function(t,e){var a=this;this.$store.dispatch("post/SET_LIKE",{params:{pid:t,uid:Number.parseInt(this.uid)},id:e}).catch((function(t){a.$message({message:t.message,type:"danger"})}))},fav:function(t,e){this.$store.dispatch("post/SET_FAV",{params:{id:t,type:"thread",op:e},id:t})},getReward:function(){var t=this;this.$store.dispatch("post/FETCH_REWARKD_PARAMS",{params:{tid:this.id,uid:this.uid,range:1},type:"rewardParams"}).then((function(){t.isVisible=!0})).catch((function(e){t.$message({message:e.message,type:"danger"})}))},goReward:function(t,e,a){var i=this;if(!this.isLoading){this.isLoading=!0;var r={};r["score".concat(t)]=e,this.$store.dispatch("post/FETCH_REWARKD_PARAMS",{params:_({tid:this.id,uid:this.uid,reason:a},r),type:"rewardParams"}).then((function(){i.isVisible=!1,i.isLoading=!1,i.$message({message:"作者已收到你的打赏，感谢你的支持",type:"success"}),i.$store.dispatch("post/FETCH_REWARD_LIST",{params:{num:5,tid:i.id},type:"reward"})})).catch((function(t){i.isVisible=!1,i.isLoading=!1,i.$message({message:t.message,type:"danger"})}))}},getRouteName:function(t){var e="new-post";return"4"==t?e=this.data.category&&"121"==this.data.category.id?"new-ama":"new-event":"3"==t?e="new-wenda":(e="new-post",this.data.category&&"328"==this.data.category.id&&(e="new-flaw")),e},handleScroll:function(){this.elemTopScroll=Object(f.i)(document.getElementsByClassName("share-module")[0]).y,this.scrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,this.scrollTop+this.windowHeight>=this.elemTopScroll?this.cls=null:this.cls="fixed"},handleResize:function(){this.windowHeight=document.documentElement.clientHeight,this.elemTopScroll=Object(f.i)(document.getElementsByClassName("share-module")[0]).y,this.scrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,this.scrollTop+this.windowHeight>=this.elemTopScroll?this.cls=null:this.cls="fixed"}},Object(o.a)(s,"like",[i],Object.getOwnPropertyDescriptor(s,"like"),s),Object(o.a)(s,"fav",[r],Object.getOwnPropertyDescriptor(s,"fav"),s),Object(o.a)(s,"getReward",[n],Object.getOwnPropertyDescriptor(s,"getReward"),s),s)},y=(a(1442),a(0)),w=Object(y.a)(g,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"share-module"},[a("div",{staticClass:"share-module__fix",class:t.cls},[a("div",{class:"fixed"===t.cls?"bbt-container":""},[a("div",{staticClass:"bbt-clearfix",class:"fixed"===t.cls?"bbt-col-xs-16":"",staticStyle:{"padding-left":"0"}},[a("div",{staticClass:"share-module__left"},["1"!=t.data.attitude||t.type&&"activity"!=t.type?"1"==t.data.attitude||t.type&&"activity"!=t.type?"wenda"==t.type?a("bbt-btn",{staticClass:"share-module__item",attrs:{type:"primary"},on:{click:t.toComment}},[t._v("我来回答")]):t._e():a("bbt-btn",{staticClass:"share-module__item",attrs:{type:"primary"},on:{click:function(e){return t.like(t.data.pid,t.data.id)}}},[a("bbt-icon",{attrs:{type:"thumb-up"}}),t._v(" 点赞 "+t._s(t.data.like)+"\n          ")],1):a("bbt-btn",{staticClass:"share-module__item",attrs:{type:"default"},on:{click:function(e){return t.like(t.data.pid,t.data.id)}}},[a("bbt-icon",{attrs:{type:"thumb-up"}}),t._v(" 已赞 "+t._s(t.data.like)+"\n          ")],1),t._v(" "),"0"==t.data.favid?a("a",{staticClass:"link-dark-minor share-module__item",attrs:{href:"javascript:;"},on:{click:function(e){return t.fav(t.data.id)}}},[a("bbt-icon",{attrs:{type:"star-o"}}),t._v(" "+t._s(t.data.favcount)+" 次收藏\n          ")],1):a("a",{staticClass:"link-dark-minor share-module__item",attrs:{href:"javascript:;"},on:{click:function(e){return t.fav(t.data.id,"delete")}}},[a("bbt-icon",{attrs:{type:"star1"}}),t._v(" "+t._s(t.data.favcount)+" 次收藏\n          ")],1),t._v(" "),"activity"!=t.type?a("nuxt-link",{staticClass:"link-dark-minor share-module__item",attrs:{to:{name:"new-complaint",query:{type:"post",tid:t.data.id}},target:"_blank"}},[a("bbt-icon",{attrs:{type:"report"}}),t._v("投诉\n          ")],1):t._e(),t._v(" "),a("div",{staticClass:"link-dark-minor share-module__item"},[a("x-sharepop",{attrs:{offset:"fixed"===t.cls?"visibtop":"visibbottom",qrcodeUrl:t.qrcodeUrl,weiboUrl:t.weiboUrl}})],1),t._v(" "),t.data.author_info.id!=t.userinfo.uid?a("a",{staticClass:"link-dark-minor share-module__item",attrs:{href:"javascript:;"},on:{click:t.getReward}},[a("bbt-icon",{attrs:{type:"bitcoin"}}),t._v("打赏\n          ")],1):t._e(),t._v(" "),t.managePost&&t.managePost.editpost?a("nuxt-link",{staticClass:"link-dark-minor share-module__item",attrs:{to:{name:t.getRouteName(t.data.type),query:{action:"edit",tid:t.data.id,fid:t.data.category&&t.data.category.id}},target:"_blank"}},[a("bbt-icon",{attrs:{type:"edit"}}),t._v("编辑\n          ")],1):t._e(),t._v(" "),t.canManage?a("div",{staticClass:"link-dark-minor share-module__item"},[a("x-admin-bar",{attrs:{data:t.data,managePost:t.managePost,forbiddenId:t.data.author_info.id,offset:"fixed"===t.cls?"visibtop":"visibbottom"}})],1):t._e()],1),t._v(" "),!t.type&&t.data.next&&t.data.next.tid?a("div",{staticClass:"share-module__right"},[t._v("\n          下一篇：\n          "),a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"post-id",params:{id:""+t.data.next.tid}}}},[t._v("\n            "+t._s(t.data.next.subject)+"\n          ")])],1):"wenda"==t.type&&t.data.next&&t.data.next.tid?a("div",{staticClass:"share-module__right"},[t._v("\n          下个问题：\n          "),a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"question-id",params:{id:""+t.data.next.tid}}}},[t._v("\n            "+t._s(t.data.next.subject)+"\n          ")])],1):"activity"==t.type&&t.data.next&&t.data.next.tid?a("div",{staticClass:"share-module__right"},[t._v("\n          下个活动：\n          "),a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"event-id",params:{id:""+t.data.next.tid}}}},[t._v("\n            "+t._s(t.data.next.subject)+"\n          ")])],1):t._e()])])]),t._v(" "),t.isVisible?a("x-dialog",{attrs:{data:t.rewardParams,type:"reward",isVisible:t.isVisible,isLoading:t.isLoading},on:{close:function(e){return t.closeDialog()},reward:t.goReward}}):t._e()],1)}),[],!1,null,"2e8becc3",null);e.a=w.exports},function(t,e,a){"use strict";var i={props:{data:{type:Array},type:{type:String,default:"帖子"}}},r=(a(1438),a(0)),n=Object(r.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tag-module"},[t._v("\n  "+t._s(t.type)+"标签：\n  "),t._l(t.data,(function(e,i){return a("span",{key:i},[a("nuxt-link",{staticClass:"bbt-tag bbt-tag--flame",attrs:{to:{name:"tag-id",params:{id:""+e.tag_id}}}},[t._v("\n      "+t._s(e.tag_name)+"\n    ")])],1)}))],2)}),[],!1,null,"baf3287e",null);e.a=n.exports},function(t,e,a){"use strict";var i=a(40),r={props:{isVisible:{type:Boolean},title:{type:String},option:{type:Object},isLoading:{type:Boolean}},components:{"no-ssr":a.n(i).a},data:function(){return{}},methods:{closeDialog:function(){this.$emit("close")},cropImage:function(){var t=this;this.$refs.cropper.getCropBlob((function(e){t.$emit("crop",e)}))},scaleLarge:function(){this.$refs.cropper.changeScale(5)},scaleSmall:function(){this.$refs.cropper.changeScale(-5)}}},n=(a(1378),a(0)),s=Object(n.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:t.title,visible:t.isVisible,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":!0,width:"500px"},on:{"update:visible":function(e){t.isVisible=e}}},[t.isVisible?a("no-ssr",[a("vueCropper",{ref:"cropper",staticStyle:{width:"100%",height:"320px"},attrs:{img:t.option.img,info:!1,autoCrop:!0,autoCropWidth:t.option.autoCropWidth,autoCropHeight:t.option.autoCropHeight,fixed:!1,centerBox:!1,canMove:!0,canMoveBox:!1,fixedBox:!0,original:!1,fixedNumber:t.option.fixedNumber,enlarge:2}})],1):t._e(),t._v(" "),a("div",{staticClass:"cropper-bar"},[a("bbt-btn",{attrs:{type:"primary",size:"sm"},on:{click:t.scaleLarge}},[t._v("+")]),t._v(" "),a("bbt-btn",{attrs:{type:"primary",size:"sm"},on:{click:t.scaleSmall}},[t._v("-")])],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("bbt-btn",{staticStyle:{"margin-right":"16px"},attrs:{type:"default",size:"sm",disabled:t.isLoading},on:{click:t.closeDialog}},[t._v("取 消")]),t._v(" "),t.isLoading?a("bbt-btn",{attrs:{type:"primary",size:"sm",disabled:""}},[t._v("提交中...")]):a("bbt-btn",{attrs:{type:"primary",size:"sm"},on:{click:t.cropImage}},[t._v("确 定")])],1)],1)}),[],!1,null,"57661a62",null);e.a=s.exports},function(t,e,a){"use strict";a(7),a(5),a(4),a(3),a(6),a(31),a(39),a(23);var i,r,n=a(18),s=(a(54),a(25),a(1)),o=(a(12),a(2)),c=a(52),l=a(537),u=a(8),d=a(17);function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var f={inject:["injectData"],mixins:[c.a,l.a],props:{data:{type:Object},canEdit:{type:Boolean,default:!0},currentStand:{type:String|Number}},data:function(){return{floor:null}},computed:m({},Object(o.c)({userinfo:function(t){return t.userinfo},menu:function(t){return t.menu},comment:function(t){return t.comment}}),{uid:function(){return this.userinfo.uid},tid:function(){return this.$route.params.id||"0"},currentPage:function(){return Number(this.$route.params.page)||1},menuData:function(){return this.menu.comment},commentData:function(){return this.comment.items[this.tid]},totalNum:function(){return Number.parseInt(this.comment.items[this.tid].totalcount)||0},totalStickNum:function(){return Number.parseInt(this.comment.items[this.tid].sticktotal)||0},isWatchMaster:function(){return this.$route.query.authorid||this.$route.query.checkrush},checkrush:function(){return this.$route.query.checkrush||null},showStand:function(){return"5"==this.data.type},rushArr:function(){return this.data.rushreply&&this.data.rushreply.rewardfloor?this.data.rushreply.rewardfloor.split(","):[]},currentId:function(){return void 0!==this.$route.query.sort?this.$route.query.sort:0},currentIndex:function(){var t=this,e=0;return this.menuData.map((function(a,i){a.id==t.currentId&&(e=i)})),e},emojiNum:function(){for(var t=[],e=0;e<=71;e++)t.push(e);return t}}),watch:{$route:function(){this.isLoading=!1,this.floor=null}},methods:(i=Object(d.a)(),r={route_to_path:function(t,e,a){return Object(u.j)(t,e,a)},goFloor:function(t,e,a){var i=t,r={};if(this.currentId&&(r.sort=this.currentId),"floor"==e){if(!t)return;t<=1?i=2:t>Number.parseInt(this.commentData.replies)+1&&(i=Number.parseInt(this.commentData.replies)+1);var n=1==this.currentId?Number.parseInt((this.commentData.replies-Number.parseInt(i))/this.pageSize)+1:Number.parseInt((Number.parseInt(i)-2)/this.pageSize)+1;this.$router.push({name:this.$route.name,params:{page:n||"1",id:this.tid},query:r,hash:"#floor".concat(i)})}else this.$router.push({name:this.$route.name,params:{page:a||"1",id:this.tid},query:r,hash:"#pid".concat(i)})},watchMater:function(t){if(!this.isLoading){this.isLoading=!0;var e={};this.currentId&&(e.sort=this.currentId),this.isWatchMaster?this.$router.push({name:this.$route.name,params:{id:this.tid},query:e,hash:"#comment"}):this.$router.push({name:this.$route.name,params:{id:this.tid},query:m({},e,{authorid:t}),hash:"#comment"})}},isRush:function(t){var e="".concat(t);return 1==this.rushArr.length&&-1!==this.rushArr.join().indexOf("*")?this.rushArr.join().includes(e.substr(e.length-this.rushArr.join().length+1,this.rushArr.join().length-1)):this.rushArr.includes(e)},accept:function(t,e){var a=this;this.$store.dispatch("post/FETCH_ACCEPT_ANSWER",{params:{uid:this.uid,tid:e,pid:t}}).catch((function(t){a.$message({message:t&&t.msg||t&&t.message||"采纳失败，请再试一次",type:"danger"})}))}},Object(n.a)(r,"accept",[i],Object.getOwnPropertyDescriptor(r,"accept"),r),r)},h=(a(1455),a(1456),a(0)),v=Object(h.a)(f,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"comment-module",attrs:{id:"comment"}},[a("div",{staticClass:"comment-module__guide"},[a("x-tab",{attrs:{size:"lg",menu:t.menuData,currentId:t.currentId,currentIndex:t.currentIndex},on:{switch:t.switchTab}}),t._v(" "),a("div",[!t.isWatchMaster&&t.commentData&&t.commentData.list&&t.commentData.list.length?a("span",{staticClass:"link-dark-major",on:{click:function(e){return t.watchMater(t.data.author_info.id)}}},[t._v("只看帖主")]):t.isWatchMaster?a("span",{staticClass:"link-dark-major",on:{click:function(e){return t.watchMater(t.data.author_info.id)}}},[t._v("查看全部楼层")]):t._e(),t._v(" "),t.commentData&&t.commentData.list&&t.commentData.list.length?a("span",[t._v("楼层直达\n        "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.floor,expression:"floor"}],attrs:{type:"number"},domProps:{value:t.floor},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.goFloor(t.floor,"floor")},input:function(e){e.target.composing||(t.floor=e.target.value)}}}),a("span",{on:{click:function(e){return t.goFloor(t.floor,"floor")}}},[a("bbt-icon",{attrs:{type:"right"}})],1)]):t._e()])],1),t._v(" "),t.commentData&&t.commentData.list&&t.commentData.list.length?a("bbt-loading",{style:t.isLoading?"min-height: 1000px;":"",attrs:{loading:t.isLoading}},[a("ul",{staticClass:"comment-module__list"},t._l(t.commentData.list,(function(e,i){return e.author_info&&e.author_info.id?a("li",{key:i,staticClass:"comment",attrs:{id:t.totalStickNum>i&&e.isstick?"floor_stick"+e.position:"floor"+e.position}},[a("div",{staticClass:"comment-body",attrs:{id:t.totalStickNum>i&&e.isstick?"pid_stick"+e.pid:"pid"+e.pid}},[a("div",{staticClass:"comment__title"},[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:"/user/"+e.author_info.id,target:"_blank"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.author_info.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                  src: item.author_info.avatar,\n                  error: '/images/default/avatar.gif',\n                  loading: '/images/default/avatar.gif',\n                }"}],staticClass:"bbt-avatar bbt-avatar--sm",attrs:{src:"/images/default/avatar.gif"}}),t._v("\n              "+t._s(e.author_info.name)+"\n            ")]),t._v(" "),a("span",{staticClass:"comment__level"},[t._v("\n              "+t._s(e.author_info.group_title)+"\n            ")]),t._v(" "),a("span",{staticClass:"comment__time"},[t._v("\n              "+t._s(t._f("timeGMT")(e.post_date))+"\n            ")]),t._v(" "),e.source_from?a("span",{staticClass:"bbt-dot"}):t._e(),t._v(" "),e.source_from?a("span",{staticClass:"source"},[a("i",[t._v("来自")]),a("span",[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"app-download"},target:"_blank"}},[a("bbt-icon",{attrs:{type:"Mobile"}}),t._v("App")],1)],1)]):t._e(),t._v(" "),t.isWatchMaster?t._e():a("span",{staticClass:"bbt-dot"}),t._v(" "),t.isWatchMaster?t._e():a("a",{staticClass:"link-dark-minor",staticStyle:{"font-weight":"normal"},attrs:{href:"javascript:;"},on:{click:function(a){return t.watchMater(e.author_info.id)}}},[t._v("只看该作者")]),t._v(" "),t.showStand?a("span",{staticClass:"comment__stand"},["0"==e.stand?a("i",[t._v("中立")]):"1"==e.stand?a("i",[t._v("正方")]):"2"==e.stand?a("i",[t._v("反方")]):a("i",[t._v("中立")])]):t._e(),t._v(" "),t.isRush(e.position)?a("span",{staticClass:"comment__tag"},[a("bbt-icon",{staticStyle:{"font-size":"20px",color:"#FDB500","font-weight":"normal"},attrs:{type:"preemption"}}),t._v("抢楼帖指定楼层")],1):t._e(),t._v(" "),t.data.replycredit_rule&&e.replycredit?a("span",{staticClass:"comment__tag"},[a("bbt-icon",{staticStyle:{"font-size":"20px",color:"#FDB500","font-weight":"normal",position:"relative",top:"-1px"},attrs:{type:"reward"}}),t._v("金币 +"+t._s(t.data.replycredit_rule.extcredits))],1):t._e(),t._v(" "),t.totalStickNum>i&&e.isstick?a("span",{staticClass:"comment__floor comment__stick"},[a("img",{attrs:{src:"/images/common/pushpin-fill.svg"}}),a("a",{staticClass:"link-dark-minor",attrs:{href:"javascript:;"},on:{click:function(a){return t.goFloor(e.position,"floor")}}},[t._v("来自"+t._s(e.position)+"楼")])]):2==Number.parseInt(e.position)?a("span",{staticClass:"comment__floor comment__floor-2"},[a("nuxt-link",{staticStyle:{color:"inherit"},attrs:{to:{path:t.route_to_path(t.$route.name,t.$route.params.id,t.$route.params.page),hash:"#floor"+e.position,query:{sort:t.$route.query.sort,authorid:t.$route.query.authorid}}}},[t._v("沙发")])],1):3==Number.parseInt(e.position)?a("span",{staticClass:"comment__floor comment__floor-3"},[a("nuxt-link",{staticStyle:{color:"inherit"},attrs:{to:{path:t.route_to_path(t.$route.name,t.$route.params.id,t.$route.params.page),hash:"#floor"+e.position,query:{sort:t.$route.query.sort,authorid:t.$route.query.authorid}}}},[t._v("板凳")])],1):4==Number.parseInt(e.position)?a("span",{staticClass:"comment__floor comment__floor-4"},[a("nuxt-link",{staticStyle:{color:"inherit"},attrs:{to:{path:t.route_to_path(t.$route.name,t.$route.params.id,t.$route.params.page),hash:"#floor"+e.position,query:{sort:t.$route.query.sort,authorid:t.$route.query.authorid}}}},[t._v("地板")])],1):a("span",{staticClass:"comment__floor"},[a("nuxt-link",{staticClass:"link-dark-minor",attrs:{to:{path:t.route_to_path(t.$route.name,t.$route.params.id,t.$route.params.page),hash:"#floor"+e.position,query:{sort:t.$route.query.sort,authorid:t.$route.query.authorid}}}},[t._v(t._s(e.position)+"楼")])],1)],1),t._v(" "),a("div",{directives:[{name:"viewer",rawName:"v-viewer"}],staticClass:"comment__content"},[e.ishiddenreplies||"-5"==e.invisible||e.group_comment_hidden||"提示: 该帖被管理员或版主屏蔽"==e.content?a("div",{staticClass:"isHidden"},[a("bbt-icon",{staticStyle:{"font-size":"16px",color:"rgba(0, 0, 0, 0.56)","margin-right":"4px"},attrs:{type:"lock"}}),a("span",{domProps:{innerHTML:t._s(e.content)}})],1):a("div",{directives:[{name:"lazy-container",rawName:"v-lazy-container",value:{selector:"img"},expression:"{ selector: 'img' }"}],class:e.ismd?"markdown-body":"bbt-editor-text bbt-html",domProps:{innerHTML:t._s(t.transHtmlAsGroup(e.content,e.ismd,"quote"==e.quote_type))}}),t._v(" "),e.parent_id&&"0"!=e.parent_id?a("span",{on:{click:function(a){return t.goFloor(e.parent_id,"pid",e.parent_page)}}},[t._v("楼层直达"),a("bbt-icon",{attrs:{type:"reply"}})],1):t._e()]),t._v(" "),e.attachments&&e.attachments.length&&!e.ishiddenreplies&&"-5"!=e.invisible&&!e.group_comment_hidden?a("x-attachments-module",{directives:[{name:"viewer",rawName:"v-viewer"}],attrs:{data:e.attachments,canView:t.managePost&&t.managePost.editpost}}):t._e(),t._v(" "),a("div",{staticClass:"comment__action"},[t.canManage?a("div",{staticClass:"comment__action-item link-dark-minor"},[a("x-admin-bar",{attrs:{data:t.data,manageReply:t.manageReply,comment:e,pid:e.pid,forbiddenId:e.author_info.id,area:"comment"}})],1):t._e(),t._v(" "),t.manageReply&&t.manageReply.editreply?a("a",{staticClass:"link-dark-minor comment__action-item",attrs:{href:"javascript:;"},on:{click:function(e){return t.edit(i,-1)}}},[a("bbt-icon",{attrs:{type:"report"}}),t._v(" 编辑\n            ")],1):t._e(),t._v(" "),"0"==e.attitude?a("a",{staticClass:"comment__action-item link-dark-minor",attrs:{href:"javascript:;"},on:{click:function(a){return t.like(e.pid,e.tid,i,-1,0)}}},[a("bbt-icon",{attrs:{type:"thumb-up"}}),t._v(" "+t._s(e.like)+" 赞\n            ")],1):a("a",{staticClass:"comment__action-item link-primary",attrs:{href:"javascript:;"},on:{click:function(a){return t.like(e.pid,e.tid,i,-1,0)}}},[a("bbt-icon",{attrs:{type:"thumb-up"}}),t._v(" "+t._s(e.like)+" 赞\n            ")],1),t._v(" "),"0"==e.isagainst?a("a",{staticClass:"comment__action-item link-dark-minor",attrs:{href:"javascript:;"},on:{click:function(a){return t.like(e.pid,e.tid,i,-1,1)}}},[a("bbt-icon",{attrs:{type:"thumb-down"}}),t._v(" "+t._s(e.against)+" 踩\n            ")],1):a("a",{staticClass:"comment__action-item link-primary",attrs:{href:"javascript:;"},on:{click:function(a){return t.like(e.pid,e.tid,i,-1,1)}}},[a("bbt-icon",{attrs:{type:"thumb-down"}}),t._v(" "+t._s(e.against)+" 踩\n            ")],1),t._v(" "),a("a",{staticClass:"comment__action-item link-dark-minor",attrs:{href:"javascript:;"},on:{click:function(e){return t.reply(i)}}},[a("bbt-icon",{attrs:{type:"reply"}}),t._v(" 回复\n            ")],1),t._v(" "),a("nuxt-link",{staticClass:"link-dark-minor comment__action-item",attrs:{to:{name:"new-complaint",query:{type:"comment",pid:e.pid,page:t.currentPage}},target:"_blank"}},[a("bbt-icon",{attrs:{type:"report"}}),t._v(" 投诉\n            ")],1),t._v(" "),t.managePost&&t.managePost.editpost&&t.data.reward&&!t.data.reward.status&&e.author_info.id!==t.data.author_info.id?a("a",{staticClass:"comment__action-item link-dark-minor",attrs:{href:"javascript:;"},on:{click:function(a){return t.accept(e.pid,e.tid)}}},[a("bbt-icon",{staticStyle:{"font-size":"16px"},attrs:{type:"best-answer"}}),t._v("采纳最佳答案\n            ")],1):t._e()],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"0"==e.is_reply,expression:"item.is_reply == '0'"}],staticClass:"reply-form"},[a("div",{staticClass:"reply-form__comment-wrap"},[a("div",{staticClass:"reply-form__textarea"},[a("el-input",{staticClass:"reply-form__comment",attrs:{type:"textarea",autosize:{minRows:1},id:"reply_comment_"+i,placeholder:"回复"+e.author_info.name+"："},nativeOn:{keydown:function(a){return t.handleKeyboard(a,i,-1,e.tid,e.pid)}},model:{value:e.reply_comment,callback:function(a){t.$set(e,"reply_comment",a)},expression:"item.reply_comment"}})],1),t._v(" "),a("a",{staticClass:"link-dark-minor",attrs:{href:"javascript:;"},on:{click:function(a){return t.seniorReply(e.reply_comment,e.pid)}}},[t._v("高级模式")])]),t._v(" "),a("div",{staticClass:"reply-form__action"},[a("bbt-btn",{attrs:{type:"default",link:""},on:{click:function(e){return t.replyCancel(i)}}},[t._v("\n                取消\n              ")]),t._v(" "),a("bbt-btn",{attrs:{type:"primary",disabled:e.reply_comment.replace(/\{\{emoji(([1-6][0-9]?)|(7[0-1])|(0))\}\}/g,"").length<5||"1"==e.is_loading},on:{click:function(a){return t.replySubmit(i,-1,e.tid,e.pid)}}},["0"==e.is_loading?a("span",[t._v("回复")]):a("span",[t._v("回复中")])])],1)])],1)]):t._e()})),0),t._v(" "),a("div",{staticClass:"comment-module__page"},[t.totalNum>t.pageSize?a("el-pagination",{attrs:{layout:t.totalNum>100?"prev, pager, next, jumper":"prev, pager, next","current-page":t.currentPage,"page-size":t.pageSize,total:t.totalNum},on:{"current-change":t.changePage}}):t._e()],1)]):a("div",[a("x-empty",[t._v("沙发，很寂寞......")])],1),t._v(" "),t.userinfo.uid?a("div",{staticClass:"comment-module__box",attrs:{id:"comment-box"}},[a("div",{staticClass:"comment-module__form"},[a("div",{staticClass:"form-item bbt-clearfix",staticStyle:{"text-align":"right",padding:"0 0 16px 0"}},[a("span",{staticStyle:{float:"left"}},[a("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.toggleEmoji(e)}}},[a("bbt-icon",{staticStyle:{"font-size":"20px",color:"rgba(0,0,0,0.56)","margin-right":"16px",cursor:"pointer"},attrs:{type:"emoji"}})],1),t._v(" "),t.canEdit?a("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.seniorReply(t.form.comment)}}},[a("bbt-icon",{staticStyle:{"font-size":"20px",color:"rgba(0,0,0,0.56)",cursor:"pointer"},attrs:{type:"picture"}})],1):t._e()]),t._v(" "),t.data.category?a("nuxt-link",{staticClass:"link-dark-minor",attrs:{to:{name:"forum-rules",query:{id:""+t.data.category.id}},target:"_blank"}},[t._v("本版积分规则")]):t._e(),t._v(" "),t.canEdit?a("a",{staticClass:"link-dark-minor",staticStyle:{"margin-left":"16px"},attrs:{href:"javascript:;"},on:{click:function(e){return t.seniorReply(t.form.comment)}}},[t._v("高级模式")]):t._e(),t._v(" "),t.isShowEmoji?a("div",{staticClass:"emoji-box"},[a("ul",{staticClass:"bbt-clearfix"},t._l(t.emojiNum,(function(e){return a("li",{key:e,on:{click:function(a){return t.getEmoji(e)}}},[a("img",{attrs:{src:"https://bbtcdn.8btc.com/public/emoji/emoji"+e+".png",alt:""}})])})),0)]):t._e()],1),t._v(" "),a("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{staticStyle:{"margin-bottom":"16px"},attrs:{prop:"comment"}},[a("el-input",{ref:"reply__post",attrs:{type:"textarea",disabled:!t.canEdit,autosize:{minRows:3},id:"reply__post",placeholder:t.canEdit?"请发表你的真知灼见（不少于5个字）...":"抱歉，本主题已关闭，不再接受新回复"},nativeOn:{keydown:function(e){return t.handleKeyboard(e)}},model:{value:t.form.comment,callback:function(e){t.$set(t.form,"comment",e)},expression:"form.comment"}})],1),t._v(" "),a("el-form-item",{staticStyle:{"text-align":"right","margin-bottom":"0"}},[a("bbt-btn",{attrs:{type:"primary",disabled:t.isSubmitLoading||!t.canEdit},on:{click:t.onSubmit}},[t.isSubmitLoading?a("span",[t._v("回帖发表中")]):a("span",[t._v("发表回帖")])])],1)],1)],1)]):a("div",{staticClass:"comment-module__alert"},[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"login-password",query:{back_url:t.$route.path}}}},[t._v("\n      登录\n    ")]),t._v("\n    账号发表你的看法，还没有账号？立即免费\n    "),a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"register",query:{redirect_url:t.$route.fullPath}}}},[t._v("\n      注册\n    ")])],1),t._v(" "),t.commentData&&t.commentData.list&&t.commentData.list.length?a("x-comment-dialog",{attrs:{isVisible:t.isEditVisible,isLoading:t.isEditLoading,data:t.commentData.list,index:t.selectEditIndex,subIndex:t.selectEditSubIndex},on:{close:t.closeDialog,save:t.saveEdit}}):t._e()],1)}),[],!1,null,"57327b09",null);e.a=v.exports},,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";a(25),a(12);var i={props:{data:{type:Array},static:{type:Boolean},width:{type:Number|String,default:"100%"},height:{type:Number|String,default:"auto"}},data:function(){return{swiperOption:{autoplay:{delay:5e3,stopOnLastSlide:!1,disableOnInteraction:!0},effect:"fade",lazy:!0,initialSlide:Number.parseInt(Math.random()*this.data.length),loop:this.data.length>1,slidesPerView:"auto",centeredSlides:!0,spaceBetween:0,pagination:{el:".swiper-pagination-ad",type:"bullets"}}}},computed:{classNames:function(){return[this.static?"bbt-ad__normal":"bbt-ad__scale"]}}},r=(a(1452),a(1453),a(0)),n=Object(r.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-ad",class:t.classNames},[a("div",{directives:[{name:"swiper",rawName:"v-swiper:mySwiper",value:t.swiperOption,expression:"swiperOption",arg:"mySwiper"}]},[a("div",{staticClass:"swiper-wrapper"},t._l(t.data,(function(e,i){return a("div",{key:i,staticClass:"swiper-slide"},[a("a",{attrs:{href:e.outer_url,target:"_blank",rel:"nofollow noopener"}},[a("img",{attrs:{src:e.img_url,width:t.width,height:t.height}}),t._v(" "),e.label_name?a("span",{staticClass:"bbt-ad__tag"},[t._v(t._s(e.label_name))]):t._e()])])})),0),t._v(" "),t.data.length>1?a("div",{staticClass:"swiper-pagination-ad",attrs:{slot:"pagination"},slot:"pagination"}):t._e()])])}),[],!1,null,"52f5bcb8",null);e.a=n.exports},function(t,e,a){"use strict";a(7),a(5),a(4),a(3),a(6),a(23),a(54);var i=a(1),r=a(2),n=(a(12),{props:{currentId:{type:String|Number},menu:{type:Array}},data:function(){return{icons:["user","safety","api","lock","info-circle"]}},methods:{switchTab:function(t){this.currentId!=t.id&&this.$emit("switch",t)}}}),s=(a(1424),a(0));function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var c={middleware:"login",components:{XTab:Object(s.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"bbt-tab"},t._l(t.menu,(function(e,i){return a("li",{key:i,class:{active:t.currentId==e.id},on:{click:function(a){return t.switchTab(e)}}},[a("bbt-icon",{staticStyle:{"font-size":"16px"},attrs:{type:t.icons[i]}}),t._v(t._s(e.name)+"\n  ")],1)})),0)}),[],!1,null,"1204f74f",null).exports},data:function(){return{isLoading:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(r.c)({menu:function(t){return t.menu}}),{menuData:function(){return this.menu.user_set},currentType:function(){return this.$route.name.split("-")[2]||null},currentId:function(){var t=this,e=0;return this.menuData&&this.menuData.length&&this.menuData.map((function(a,i){a.route==t.currentType&&(e=a.id)})),e},currentIndex:function(){var t=this,e=0;return this.menuData.map((function(a,i){a.id===t.currentId&&(e=i)})),e}}),watch:{$route:function(){this.isLoading=!1}},methods:{switchTab:function(t){this.isLoading||(this.isLoading=!0,this.$router.push({path:"/user/settings/".concat(t.route)}))}}},l=Object(s.a)(c,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bbt-main bbt-main--margin bbt-main--gray"},[e("div",{staticClass:"bbt-container"},[e("bbt-row",[e("bbt-col",{attrs:{span:{xs:5}}},[e("x-tab",{attrs:{currentId:this.currentId,menu:this.menuData},on:{switch:this.switchTab}})],1),this._v(" "),e("bbt-col",{attrs:{span:{xs:19}}},[this._t("default")],2)],1)],1)])}),[],!1,null,null,null);e.a=l.exports},function(t,e,a){"use strict";a(7),a(5),a(4),a(3),a(6),a(33),a(12),a(25),a(54);var i=a(1),r=a(2);a(17);function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var s={inject:["injectData"],props:{title:{type:String},data:{type:Object|Array}},data:function(){return{pageSize:15}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(r.c)({userinfo:function(t){return t.userinfo}}),{uid:function(){return this.userinfo.uid},tid:function(){return this.$route.params.id||0}}),methods:{goFloor:function(t,e,a){if(this.tid){var i=this.$route.path.split("/")[1];if("floor"==e){var r=Number.parseInt((Number.parseInt(t)-2)/this.pageSize)+1;this.$router.replace({path:r>1?"/".concat(i,"/").concat(this.tid,"-").concat(r):"".concat(this.$route.path),hash:"#floor".concat(t)})}else this.$router.replace({path:a>1?"/".concat(i,"/").concat(this.tid,"-").concat(a):"".concat(this.$route.path),hash:"#pid".concat(t)})}},like:function(t,e,a,i){var r=this;this.$store.dispatch("comment/SET_OFFICIAL_LIKE",{params:{pid:t,is_against:i,uid:Number.parseInt(this.uid)},tid:e,index:a,type:i}).catch((function(t){r.$message({type:"danger",message:t.message})}))}}},o=(a(1443),a(1444),a(0)),c=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return"最佳答案"===t.title?a("div",{staticClass:"bbt-reply"},[a("div",{staticClass:"bbt-reply__header"},[a("bbt-icon",{staticStyle:{color:"#FDB500","font-size":"24px","margin-right":"8px"},attrs:{type:"best-answer"}}),t._v(t._s(t.title)+"\n  ")],1),t._v(" "),a("div",{staticClass:"bbt-reply__body"},[a("div",{staticClass:"bbt-reply__author"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:t.data.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n          src: data.avatar,\n          error: '/images/default/avatar.gif',\n          loading: '/images/default/avatar.gif',\n        }"}],staticClass:"bbt-avatar bbt-avatar--sm",attrs:{src:"/images/default/avatar.gif"}}),t._v(" "),a("div",{staticClass:"author-info"},[a("div",[a("span",[t._v(t._s(t.data.author))]),t._v(t._s(t.data.group_title)+"\n        ")]),t._v(" "),a("div",[t._v(t._s(t._f("timeGMT")(t.data.post_date)))])]),t._v(" "),t.data.content_page&&t.data.pid?a("span",{on:{click:function(e){return t.goFloor(t.data.pid,"pid",t.data.content_page)}}},[t._v("楼层直达"),a("bbt-icon",{attrs:{type:"reply"}})],1):t._e()]),t._v(" "),a("div",{staticClass:"bbt-reply__content",domProps:{innerHTML:t._s(t.data.content.replace(/<[^>]+>/g,""))}})])]):a("div",{staticClass:"bbt-reply"},[a("div",{staticClass:"bbt-reply__header"},[a("bbt-icon",{staticStyle:{color:"#FDB500","font-size":"24px","margin-right":"8px"},attrs:{type:"best-answer"}}),t._v(t._s(t.title)+"\n  ")],1),t._v(" "),a("div",{staticClass:"bbt-reply__body"},t._l(t.data,(function(e,i){return a("div",{key:i,staticClass:"reply-item"},[a("div",{staticClass:"bbt-reply__author"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n            src: item.avatar,\n            error: '/images/default/avatar.gif',\n            loading: '/images/default/avatar.gif',\n          }"}],staticClass:"bbt-avatar bbt-avatar--sm",attrs:{src:"/images/default/avatar.gif"}}),t._v(" "),a("div",{staticClass:"author-info"},[a("div",[a("span",[t._v(t._s(e.author))]),t._v(t._s(e.grouptitle)+"\n          ")]),t._v(" "),a("div",[t._v(t._s(t._f("timeGMT")(e.dateline)))])]),t._v(" "),e.content_page&&e.pid?a("span",{on:{click:function(a){return t.goFloor(e.pid,"pid",e.content_page)}}},[t._v("楼层直达"),a("bbt-icon",{attrs:{type:"reply"}})],1):t._e()]),t._v(" "),a("div",{staticClass:"bbt-reply__content",domProps:{innerHTML:t._s(e.message.replace(/<[^>]+>/g,""))}}),t._v(" "),e.like>=0&&e.against>=0?a("div",{staticClass:"bbt-reply__action"},[e.attitude?a("a",{staticClass:"comment__action-item link-primary",attrs:{href:"javascript:;"},on:{click:function(a){return t.like(e.pid,e.tid,i,0)}}},[a("bbt-icon",{attrs:{type:"thumb-up"}}),t._v(" "+t._s(e.like)+" 赞\n        ")],1):a("a",{staticClass:"comment__action-item link-dark-minor",attrs:{href:"javascript:;"},on:{click:function(a){return t.like(e.pid,e.tid,i,0)}}},[a("bbt-icon",{attrs:{type:"thumb-up"}}),t._v(" "+t._s(e.like)+" 赞\n        ")],1),t._v(" "),e.isagainst?a("a",{staticClass:"comment__action-item link-primary",attrs:{href:"javascript:;"},on:{click:function(a){return t.like(e.pid,e.tid,i,1)}}},[a("bbt-icon",{attrs:{type:"thumb-down"}}),t._v(" "+t._s(e.against)+" 踩\n        ")],1):a("a",{staticClass:"comment__action-item link-dark-minor",attrs:{href:"javascript:;"},on:{click:function(a){return t.like(e.pid,e.tid,i,1)}}},[a("bbt-icon",{attrs:{type:"thumb-down"}}),t._v(" "+t._s(e.against)+" 踩\n        ")],1)]):t._e()])})),0)])}),[],!1,null,"f972a5aa",null);e.a=c.exports},function(t,e,a){"use strict";a(7),a(5),a(4),a(3),a(6),a(12),a(25);var i=a(1),r=a(2);function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var s={props:{isVisible:{type:Boolean},isLoading:{type:Boolean},type:{type:String},data:{type:Array|Object}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(r.c)({userinfo:function(t){return t.userinfo}}),{mobile:function(){return this.userinfo.mobile},tid:function(){return this.$route.params.id||"0"}}),data:function(){return{isHistoryLoading:!1,pageSize:5,currentPage:1,price:0,reason:null,isShowRange:!1,isShowReason:!1,isError:!1,reasonData:[{text:"很给力!"},{text:"赞一个!"},{text:"爆料有奖!"},{text:"神马都是浮云"},{text:"淡定"},{text:"美图"}]}},methods:{closeDialog:function(){this.$emit("close")},selPrice:function(t){this.price=t,this.isShowRange=!1},selReason:function(t){this.reason=t,this.isShowReason=!1},validInput:function(){Number.parseInt(this.price)>Number.parseInt(this.data.rateleft)||Number.parseInt(this.price)<Number.parseInt(this.data.min)||Number.parseInt(this.price)>Number.parseInt(this.data.max)?this.isError=!0:this.isError=!1},changePage:function(t){var e=this;this.isHistoryLoading=!0,this.$store.dispatch("post/FETCH_PAYHISTORY_LIST",{params:{tid:this.tid,page:t},type:"payhistory"}).then((function(){e.currentPage=t,e.isHistoryLoading=!1})).catch((function(){e.isHistoryLoading=!1}))},goReward:function(t){this.validInput(),this.isError||this.$emit("reward",t,this.price,this.reason)},goPay:function(){this.$emit("pay")}}},o=(a(1441),a(0)),c=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isVisible?a("div",{staticClass:"dialog-wrap"},["load"===t.type||"read"===t.type?a("el-dialog",{attrs:{title:"load"===t.type?"下载文库":"付费阅读",visible:t.isVisible,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":!0,width:"500px"},on:{"update:visible":function(e){t.isVisible=e}}},[a("div",{staticClass:"pay-info"},[a("div",{staticClass:"pay-info__item"},[a("div",{staticClass:"label"},[t._v("作者")]),t._v(" "),a("div",{staticClass:"info"},[t._v("\n          "+t._s(t.data.username)+"\n        ")])]),t._v(" "),a("div",{staticClass:"pay-info__item"},[a("div",{staticClass:"label"},[t._v("售价")]),t._v(" "),a("div",{staticClass:"info"},["load"===t.type?a("span",[t._v(t._s(Math.abs(t.data.downpay)))]):a("span",[t._v(t._s(t.data.readpay))]),t._v("\n          金币\n        ")])])]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("bbt-btn",{staticStyle:{"margin-right":"16px"},attrs:{type:"default",size:"sm"},on:{click:t.closeDialog}},[t._v("\n        取 消\n      ")]),t._v(" "),a("bbt-btn",{attrs:{type:"primary",size:"sm",disabled:t.isLoading},on:{click:t.goPay}},[t._v("\n        确 定\n      ")])],1)]):"payPost"===t.type?a("el-dialog",{attrs:{title:"购买主题",visible:t.isVisible,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":!0,width:"500px"},on:{"update:visible":function(e){t.isVisible=e}}},[a("div",{staticClass:"pay-info"},[a("div",{staticClass:"pay-info__item"},[a("div",{staticClass:"label"},[t._v("作者")]),t._v(" "),a("div",{staticClass:"info"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:t.data.user_info.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n              src: data.user_info.avatar,\n              error: '/images/default/avatar.gif',\n              loading: '/images/default/avatar.gif',\n            }"}],staticClass:"bbt-avatar",attrs:{width:"24",src:"`${data.user_info.avatar}`"}}),t._v("\n          "+t._s(t.data.user_info.username)+"\n        ")])]),t._v(" "),a("div",{staticClass:"pay-info__item"},[a("div",{staticClass:"label"},[t._v("售价")]),t._v(" "),a("div",{staticClass:"info"},[a("span",[t._v(t._s(t.data.price))]),t._v("金币\n        ")])]),t._v(" "),a("div",{staticClass:"pay-info__item"},[a("div",{staticClass:"label"},[t._v("作者所的")]),t._v(" "),a("div",{staticClass:"info"},[a("span",[t._v(t._s(t.data.netprice))]),t._v("金币\n        ")])]),t._v(" "),a("div",{staticClass:"pay-info__item"},[a("div",{staticClass:"label"},[t._v("金币余额")]),t._v(" "),a("div",{staticClass:"info"},[a("span",[t._v(t._s(t.data.totalmoney))]),t._v("金币\n        ")])])]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("bbt-btn",{staticStyle:{"margin-right":"16px"},attrs:{type:"default",size:"sm"},on:{click:t.closeDialog}},[t._v("\n        取 消\n      ")]),t._v(" "),a("bbt-btn",{attrs:{type:"primary",size:"sm",disabled:t.isLoading},on:{click:t.goPay}},[t._v("\n        确 定\n      ")])],1)]):"attach"===t.type?a("el-dialog",{attrs:{title:"购买附件",visible:t.isVisible,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":!0,width:"500px"},on:{"update:visible":function(e){t.isVisible=e}}},[a("div",{staticClass:"pay-info"},[a("div",{staticClass:"pay-info__item"},[a("div",{staticClass:"label"},[t._v("作者")]),t._v(" "),a("div",{staticClass:"info"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:t.data.user_info.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n              src: data.user_info.avatar,\n              error: '/images/default/avatar.gif',\n              loading: '/images/default/avatar.gif',\n            }"}],staticClass:"bbt-avatar",attrs:{width:"24",src:"`${data.user_info.avatar}`"}}),t._v("\n          "+t._s(t.data.user_info.username)+"\n        ")])]),t._v(" "),a("div",{staticClass:"pay-info__item"},[a("div",{staticClass:"label"},[t._v("售价")]),t._v(" "),a("div",{staticClass:"info"},[a("span",[t._v(t._s(t.data.price))]),t._v("金币\n        ")])]),t._v(" "),a("div",{staticClass:"pay-info__item"},[a("div",{staticClass:"label"},[t._v("金币余额")]),t._v(" "),a("div",{staticClass:"info"},[a("span",[t._v(t._s(t.data.totalmoney))]),t._v("金币\n        ")])])]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("bbt-btn",{staticStyle:{"margin-right":"16px"},attrs:{type:"default",size:"sm"},on:{click:t.closeDialog}},[t._v("\n        取 消\n      ")]),t._v(" "),a("bbt-btn",{attrs:{type:"primary",size:"sm",disabled:t.isLoading},on:{click:t.goPay}},[t._v("\n        确 定\n      ")])],1)]):"payHistory"===t.type?a("el-dialog",{attrs:{title:"支付记录",visible:t.isVisible,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":!0,width:"500px"},on:{"update:visible":function(e){t.isVisible=e}}},[a("div",{staticClass:"history-list"},[a("div",{staticClass:"history-list__header"},[a("span",{staticStyle:{width:"42%"}},[t._v("购买用户"),Number.parseInt(t.data.total)?a("span",[t._v("（"+t._s(t.data.total)+"）")]):t._e()]),t._v(" "),a("span",[t._v("使用金币")]),t._v(" "),a("span",[t._v("时间")])]),t._v(" "),a("bbt-loading",{attrs:{loading:t.isHistoryLoading}},[t.data.list&&t.data.list.length?a("div",{staticClass:"history-list__body"},t._l(t.data.list,(function(e,i){return a("div",{key:i},[a("span",{staticStyle:{width:"42%"}},[t._v(t._s(e.username))]),t._v(" "),a("span",[a("bbt-icon",{staticStyle:{color:"#FDB500","font-size":"16px"},attrs:{type:"reward"}}),t._v("+"+t._s(Math.abs(e.extcredits2)))],1),t._v(" "),a("span",[t._v(t._s(t._f("timeAgo")(e.dateline)))])])})),0):t._e(),t._v(" "),Number.parseInt(t.data.total)>t.pageSize?a("div",{staticClass:"history-list__page"},[a("el-pagination",{attrs:{layout:"prev, pager, next","current-page":Number.parseInt(t.currentPage),"page-size":t.pageSize,total:Number.parseInt(t.data.total)},on:{"current-change":t.changePage}})],1):t._e()])],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("bbt-btn",{attrs:{type:"primary",size:"sm"},on:{click:t.closeDialog}},[t._v("\n        确 定\n      ")])],1)]):"reward"===t.type?a("el-dialog",{attrs:{title:"打赏帖主",visible:t.isVisible,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":!0,width:"500px"},on:{"update:visible":function(e){t.isVisible=e}}},[a("div",{staticClass:"reward-box"},[a("div",{staticClass:"reward-box__price"},[a("div",[t._v("\n          打赏\n          "),a("span",{staticClass:"price",class:{error:t.isError}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],attrs:{type:"number"},domProps:{value:t.price},on:{input:[function(e){e.target.composing||(t.price=e.target.value)},t.validInput]}}),t._v(" "),a("span",{staticClass:"arrow",on:{click:function(e){t.isShowRange=!t.isShowRange}}}),t._v(" "),a("transition",{attrs:{name:"fade"}},[t.isShowRange?a("ul",{staticClass:"price-sel"},t._l(t.data.range,(function(e){return a("li",{key:e,on:{click:function(a){t.selPrice(e.replace("+",""))}}},[t._v("\n                  "+t._s(e)+"\n                ")])})),0):t._e()])],1),t._v("\n          "+t._s(t.data.title)+"\n        ")]),t._v(" "),a("div",[t._v("\n          打赏区间:\n          "),a("span",[t._v(t._s(t.data.min)+"-"+t._s(t.data.max))]),t._v(" 金币，今日剩余打赏额度\n          "),a("span",[t._v(t._s(t.data.rateleft))]),t._v(" ，您有\n          "),a("span",[t._v(t._s(t.data.totalmoney))]),t._v(" 金币\n        ")])]),t._v(" "),a("div",{staticClass:"reward-box__reason"},[t._v("\n        打赏理由\n        "),a("div",{staticClass:"reason"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],attrs:{type:"text",placeholder:"请选择或输入打赏理由"},domProps:{value:t.reason},on:{input:function(e){e.target.composing||(t.reason=e.target.value)}}}),t._v(" "),a("span",{staticClass:"arrow",on:{click:function(e){t.isShowReason=!t.isShowReason}}}),t._v(" "),a("transition",{attrs:{name:"fade"}},[t.isShowReason?a("ul",{staticClass:"reason-sel"},t._l(t.reasonData,(function(e,i){return a("li",{key:i,on:{click:function(a){return t.selReason(e.text)}}},[t._v("\n                "+t._s(e.text)+"\n              ")])})),0):t._e()])],1)])]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("bbt-btn",{staticStyle:{"margin-right":"16px"},attrs:{type:"default",size:"sm"},on:{click:t.closeDialog}},[t._v("\n        取 消\n      ")]),t._v(" "),a("bbt-btn",{attrs:{type:"primary",size:"sm",disabled:t.isLoading},on:{click:function(e){return t.goReward(t.data.key)}}},[t._v("\n        确 定\n      ")])],1)]):t._e()],1):t._e()}),[],!1,null,"30d796cf",null);e.a=c.exports},function(t,e,a){"use strict";a(25),a(12);var i={props:{time:{type:String|Number},type:{type:String|Number}},data:function(){return{timer:null,countdown:"0天0时0分",isStart:!1,isEnd:!1}},mounted:function(){var t=this;this.timer=setInterval((function(){var e=1e3*t.time-(new Date).getTime();e<=0&&(clearInterval(t.timer),"0"==t.type?(t.isStart=!0,t.$emit("start_callback",t.isStart)):(t.isEnd=!0,t.$emit("end_callback",t.isEnd)));var a=Number.parseInt(e/864e5),i=Number.parseInt((e-864e5*a)/36e5),r=Number.parseInt((e-864e5*a-36e5*i)/6e4);t.countdown="".concat(a<=0?"00":a,"天").concat(i<=0?"00":i,"时").concat(r<=0?"00":r,"分")}),1e3)},beforeDestroy:function(){clearInterval(this.timer)}},r=a(0),n=Object(r.a)(i,(function(){var t=this.$createElement;return(this._self._c||t)("span",{staticClass:"bbt-countdown"},[this._v("\n  "+this._s(this.countdown)+"\n")])}),[],!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";a(7),a(5),a(4),a(3),a(6);var i=a(1),r=a(2),n=a(24),s=a.n(n);function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var c={props:{data:{type:Object}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(r.c)({group:function(t){return t.group}}),{isModerator:function(){return"1"==this.group.groupid}}),methods:{formatterTime:function(t){return s()(1e3*t).format()},toComment:function(){document.getElementById("comment").scrollIntoView()}}},l=(a(1454),a(0)),u=Object(l.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header-module bbt-clearfix"},[t.data.reward?a("div",{staticClass:"header-module__status",class:{done:t.data.reward.status}},[a("div",{staticClass:"price"},[a("bbt-icon",{staticStyle:{color:"#FDB500","font-size":"18px"},attrs:{type:"reward"}}),a("span",[t._v(t._s(t.data.reward.price))])],1),t._v(" "),t.data.reward&&t.data.reward.status?a("div",{staticClass:"status"},[t._v("已解决")]):a("div",{staticClass:"status"},[t._v("未解决")])]):t._e(),t._v(" "),a("div",{staticClass:"header-module__box",style:"padding-left: "+(t.data.reward?"72":"0")+"px;"},[a("h1",[t._v("\n      "+t._s(t.data.title)+"\n      "),t.data.status?a("span",{staticClass:"header-module__tags"},[t.data.displayorder&&"0"!=t.data.displayorder?a("bbt-icon",{staticStyle:{"font-size":"20px",color:"#82A01C"},attrs:{title:"1"==t.data.displayorder?"本版置顶":"2"==t.data.displayorder?"分类置顶":"全局置顶",type:"stick-"+t.data.displayorder}}):t._e(),t._v(" "),t.data.digest&&"0"!=t.data.digest?a("bbt-icon",{staticStyle:{"font-size":"20px",color:"#FDB500"},attrs:{title:"精华"+t.data.digest,type:"essence-"+t.data.digest}}):t._e(),t._v(" "),"1"==t.data.type?a("bbt-icon",{staticStyle:{"font-size":"20px",color:"#E32C28"},attrs:{title:"投票",type:"vote"}}):"5"==t.data.type?a("bbt-icon",{staticStyle:{"font-size":"20px",color:"#E32C28"},attrs:{title:"辩论",type:"debate"}}):"2"==t.data.type?a("span",[t._v("广告")]):t._e(),t._v(" "),"1"==t.data.attachment?a("bbt-icon",{staticStyle:{"font-size":"20px",color:"#9FA19D"},attrs:{title:"普通附件",type:"attachment"}}):"2"==t.data.attachment?a("bbt-icon",{staticStyle:{"font-size":"20px",color:"#3C9D40"},attrs:{title:"图片附件",type:"picture"}}):t._e(),t._v(" "),t.data.status.rush?a("bbt-icon",{staticStyle:{"font-size":"20px",color:"#FDB500"},attrs:{title:"抢楼帖",type:"preemption"}}):t._e(),t._v(" "),t.data.status.like?a("bbt-icon",{staticStyle:{"font-size":"20px",color:"#F46300"},attrs:{title:"帖子被加分",type:"bonus"}}):t._e(),t._v(" "),t.data.status.hot?a("bbt-icon",{staticStyle:{"font-size":"20px",color:"#FDB500"},attrs:{title:"热度",type:"hot"}}):t._e(),t._v(" "),t.data.closed?a("bbt-icon",{staticStyle:{"font-size":"20px",color:"#FDB500"},attrs:{type:"lock"}}):t._e(),t._v(" "),t.data.status.activity?a("bbt-icon",{staticStyle:{"font-size":"20px",color:"#FDB500"},attrs:{title:"活动",type:"Group"}}):t._e()],1):t._e(),t._v(" "),a("span",{staticClass:"header-module__tags"},["1"==t.data.official_response?a("span",[t._v("官方回应")]):t._e(),t._v(" "),t.data.safe_info&&t.data.safe_info.safetype?a("span",[t._v(t._s(t.data.safe_info.safetype))]):t._e(),t._v(" "),-2==t.data.displayorder?a("span",[t._v("审核中")]):t._e()])]),t._v(" "),-2==t.data.displayorder&&t.data.catched?t._e():a("div",{staticClass:"header-module__info bbt-clearfix"},[a("div",{staticClass:"header-module__author"},[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:"/user/"+t.data.author_info.id,target:"_blank"}},[t._v(t._s(t.data.author_info.name||t.data.author_info.display_name))]),t._v(" "),a("span",{staticClass:"bbt-dot"}),t._v(" "),a("span",[t._v(t._s(t.data.author_info.grouptitle))]),t._v(" "),a("span",{staticClass:"bbt-dot"}),t._v(" "),a("time",{attrs:{datatime:t.formatterTime(t.data.post_date)}},[t._v(t._s(t._f("timeGMT")(t.data.post_date)))]),t._v(" "),t.data.category&&"54"!=t.data.category.id?a("span",{staticClass:"bbt-dot"}):t._e(),t._v(" "),t.data.category&&"54"!=t.data.category.id?a("span",[a("i",[t._v("发布在 ")]),a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"forum-id",params:{id:""+t.data.category.id}}}},[t._v(t._s(t.data.category.name))])],1):t._e(),t._v(" "),t.data.source_from?a("span",{staticClass:"bbt-dot"}):t._e(),t._v(" "),t.data.source_from?a("span",{staticClass:"source"},[a("i",[t._v("来自")]),a("span",[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"app-download"},target:"_blank"}},[a("bbt-icon",{attrs:{type:"Mobile"}}),t._v("App")],1)],1)]):t._e(),t._v(" "),t.isModerator?a("span",{staticClass:"bbt-dot"}):t._e(),t._v(" "),t.isModerator?a("a",{staticClass:"link-dark-major",attrs:{rel:"nofollow noopener",href:"http://vb.8btc.com/thread-"+t.data.id+"-1-1.html",target:"_blank"}},[t._v("管理")]):t._e()],1),t._v(" "),a("div",{staticClass:"header-module__num"},[a("span",[a("bbt-icon",{attrs:{type:"eye"}}),t._v(" "+t._s(t.data.views)+" ")],1),t._v(" "),a("span",{on:{click:t.toComment}},[a("bbt-icon",{attrs:{type:"comment"}}),t._v(" "+t._s(t.data.replies)+"\n        ")],1)])])])])}),[],!1,null,"46c00b0e",null);e.a=u.exports},function(t,e,a){"use strict";a(23);var i={props:["error"],computed:{statusCode:function(){return 404===this.error.statusCode?404:500},isMall:function(){var t=this.$route.name;return"mall-item"==t||"mall"==t||"mall-category"==t},isPost:function(){var t=this.$route.name,e=this.$route.path;return"event-id"==t||"question-id"==t||"ama-id"==t||"post-id"==t||-1!=e.indexOf("/thread-")}}},r=(a(898),a(0)),n=Object(r.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticStyle:{padding:"48px 0"}},[a("div",{staticClass:"bbt-container"},[a("div",{staticClass:"error-main",style:"background: url(/images/error/"+t.statusCode+"-"+(t.isPost?"post":"other")+"-bg.svg)"},[a("div",{staticClass:"error-info"},[t.isPost?t._e():a("div",{staticClass:"error-code"},[a("img",{staticStyle:{display:"block",height:"100px"},attrs:{src:"/images/error/"+t.statusCode+".svg",alt:""}})]),t._v(" "),404===t.statusCode?a("div",{staticClass:"error-message"},[t.isPost?a("span",[t._m(0),t._v("帖子被链大星开飞船带走了哦")]):a("span",[t._v("页面不见了，是航行到外太空了么～")])]):a("div",{staticClass:"error-message"},[t._v("\n            链大星开飞船去外太空了～\n          ")]),t._v(" "),a("div",{staticClass:"error-btn"},[a("nuxt-link",{staticClass:"bbt-btn bbt-btn--primary bbt-btn--lg",attrs:{to:{name:t.isMall?"mall":"index"}}},[t._v("\n              返回首页\n            ")])],1)])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[this._v("帖子不存在"),e("br"),this._v("或正在审核中")])}],!1,null,"60041160",null);e.a=n.exports},,,,,,function(t,e,a){"use strict";a(7),a(5),a(4),a(3),a(6),a(23),a(31),a(39);var i=a(1),r=(a(12),a(634),a(2));function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var s={props:{isVisible:{type:Boolean},type:{type:String},data:{type:Object},stickData:{type:Object}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(r.c)({blockList:function(t){return t.block.lists}}),{blockcontactList:function(){var t=[];return this.blockList.length&&this.blockList.map((function(e,a){e.sub.map((function(e,a){t.push({name:e.name,fid:e.fid})}))})),t},typeOptions:function(){var t=[];return this.stickData.stickypost_3&&t.push({label:"全局置顶",value:"3"}),this.stickData.stickypost_2&&t.push({label:"分类置顶",value:"2"}),this.stickData.stickypost_1&&t.push({label:"本版置顶",value:"1"}),t.push({label:"取消置顶",value:"0"}),t}}),data:function(){return{keyword:null,isLoading:!1,isShowReason:!1,isError:!1,reason:null,typeOptions3:[{label:"禁止发言",value:"post"},{label:"禁止访问",value:"visit"},{label:"正常状态",value:"resume"}],forbiddenDay:[{label:"1天",value:864e5},{label:"3天",value:2592e5},{label:"7天",value:6048e5},{label:"永久",value:0}],delReasonData:[{text:"广告/SPAM"},{text:"恶意灌水"},{text:"违规内容"},{text:"文不对题"},{text:"重复发帖"}],topReasonData:[{text:"我很赞同"},{text:"精品文章"},{text:"原创内容"}],ruleForm:{date:null,type:this.stickData.stickypost_3?"3":this.stickData.stickypost_2?"2":"1"},ruleForm2:{block:"61"},ruleForm3:{day:864e5,type:"post"},endTime:{disabledDate:function(t){return t.getTime()<(new Date).getTime()-864e5}}}},mounted:function(){document.addEventListener("click",this.handleClick)},beforeDestroy:function(){document.removeEventListener("click",this.handleClick)},methods:{handleClick:function(){this.isShowReason=!1},showList:function(t,e){t.stopPropagation(),this.isShowReason=!this.isShowReason},closeDialog:function(){this.$emit("close")},selReason:function(t){this.reason=t,this.isShowReason=!1},goOperate:function(t){if(this.isLoading=!0,["del","open","close","officialreply","cancelofficial","stickcomment","cancelstickcomment"].includes(t))this.$emit("goOperate",t,this.reason);else if("delCourseReply"===t||"delDocReply"===t)this.$emit("goOperate",t);else{var e=this.ruleForm;"move"===t?e=this.ruleForm2:"forbidden"===t&&(e=this.ruleForm3),this.$emit("goOperate",t,this.reason,e)}}}},o=(a(1184),a(0)),c=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isVisible?a("div",{staticClass:"dialog-wrap"},["del"===t.type?a("el-dialog",{attrs:{title:"删除主题",visible:t.isVisible,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":!0,width:"500px"},on:{"update:visible":function(e){t.isVisible=e}}},[a("div",{staticClass:"del-box"},[a("p",[t._v("您确认要"),a("b",[t._v("删除")]),t._v("选择的主题么?")]),t._v(" "),a("div",{staticClass:"del-box__reason"},[a("span",{staticClass:"link-primary"},[t._v("* ")]),t._v("删除理由\n        "),a("div",{staticClass:"reason"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],attrs:{type:"text",placeholder:"请选择或输入删除理由"},domProps:{value:t.reason},on:{input:function(e){e.target.composing||(t.reason=e.target.value)}}}),t._v(" "),a("span",{staticClass:"arrow",on:{click:function(e){return t.showList(e,"reason")}}}),t._v(" "),a("transition",{attrs:{name:"fade"}},[t.isShowReason?a("ul",{staticClass:"reason-sel"},t._l(t.delReasonData,(function(e,i){return a("li",{key:i,on:{click:function(a){return t.selReason(e.text)}}},[t._v("\n                "+t._s(e.text)+"\n              ")])})),0):t._e()])],1)])]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("bbt-btn",{staticStyle:{"margin-right":"16px"},attrs:{type:"default",size:"sm"},on:{click:t.closeDialog}},[t._v("\n        取 消\n      ")]),t._v(" "),t.isLoading?a("bbt-btn",{attrs:{type:"primary",size:"sm",disabled:""}},[t._v("\n        操作中...\n      ")]):a("bbt-btn",{attrs:{type:"primary",size:"sm",disabled:!t.reason},on:{click:function(e){return t.goOperate("del")}}},[t._v("\n        确 定\n      ")])],1)]):"top"===t.type?a("el-dialog",{attrs:{title:"置顶主题",visible:t.isVisible,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":!0,width:"500px"},on:{"update:visible":function(e){t.isVisible=e}}},[a("div",{staticClass:"top-box"},[a("el-form",{ref:"ruleForm",staticClass:"bbt-clearfix",attrs:{model:t.ruleForm,"label-width":"64px"}},[a("el-form-item",{attrs:{label:"置顶形式",prop:"type"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择置顶形式"},model:{value:t.ruleForm.type,callback:function(e){t.$set(t.ruleForm,"type",e)},expression:"ruleForm.type"}},t._l(t.typeOptions,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),"0"!==t.ruleForm.type?a("el-form-item",{attrs:{label:"置顶时间",for:"date",prop:"date"}},[a("el-date-picker",{attrs:{placeholder:"请选择结束时间","picker-options":t.endTime,type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.ruleForm.date,callback:function(e){t.$set(t.ruleForm,"date",e)},expression:"ruleForm.date"}})],1):t._e()],1),t._v(" "),a("div",{staticClass:"top-box__reason"},[t._v("\n        置顶理由\n        "),a("div",{staticClass:"reason"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],attrs:{type:"text",placeholder:"请选择或输入置顶理由"},domProps:{value:t.reason},on:{input:function(e){e.target.composing||(t.reason=e.target.value)}}}),t._v(" "),a("span",{staticClass:"arrow",on:{click:function(e){return t.showList(e,"reason")}}}),t._v(" "),a("transition",{attrs:{name:"fade"}},[t.isShowReason?a("ul",{staticClass:"reason-sel"},t._l(t.topReasonData,(function(e,i){return a("li",{key:i,on:{click:function(a){return t.selReason(e.text)}}},[t._v("\n                "+t._s(e.text)+"\n              ")])})),0):t._e()])],1)])],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("bbt-btn",{staticStyle:{"margin-right":"16px"},attrs:{type:"default",size:"sm"},on:{click:t.closeDialog}},[t._v("\n        取 消\n      ")]),t._v(" "),t.isLoading?a("bbt-btn",{attrs:{type:"primary",size:"sm",disabled:""}},[t._v("\n        操作中...\n      ")]):a("bbt-btn",{attrs:{type:"primary",size:"sm"},on:{click:function(e){return t.goOperate("top")}}},[t._v("\n        确 定\n      ")])],1)]):"close"===t.type||"open"===t.type?a("el-dialog",{attrs:{title:"close"===t.type?"关闭主题":"打开主题",visible:t.isVisible,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":!0,width:"500px"},on:{"update:visible":function(e){t.isVisible=e}}},[a("div",{staticClass:"top-box"},[a("p",[t._v("\n        您确认要"),a("strong",[t._v(t._s("close"==t.type?"关闭":"打开"))]),t._v("选择的主题么?\n      ")]),t._v(" "),a("div",{staticClass:"top-box__reason"},["close"==t.type?a("span",{staticClass:"link-primary"},[t._v("* ")]):t._e(),t._v(t._s("close"==t.type?"关闭":"打开")+"理由\n        "),a("div",{staticClass:"reason"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],attrs:{type:"text",placeholder:"请选择或输入"+("close"==t.type?"关闭":"打开")+"理由"},domProps:{value:t.reason},on:{input:function(e){e.target.composing||(t.reason=e.target.value)}}}),t._v(" "),a("span",{staticClass:"arrow",on:{click:function(e){return t.showList(e,"reason")}}}),t._v(" "),a("transition",{attrs:{name:"fade"}},[t.isShowReason&&"close"==t.type?a("ul",{staticClass:"reason-sel"},t._l(t.delReasonData,(function(e,i){return a("li",{key:i,on:{click:function(a){return t.selReason(e.text)}}},[t._v("\n                "+t._s(e.text)+"\n              ")])})),0):t._e(),t._v(" "),t.isShowReason&&"open"==t.type?a("ul",{staticClass:"reason-sel"},t._l(t.topReasonData,(function(e,i){return a("li",{key:i,on:{click:function(a){return t.selReason(e.text)}}},[t._v("\n                "+t._s(e.text)+"\n              ")])})),0):t._e()])],1)])]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("bbt-btn",{staticStyle:{"margin-right":"16px"},attrs:{type:"default",size:"sm"},on:{click:t.closeDialog}},[t._v("\n        取 消\n      ")]),t._v(" "),t.isLoading?a("bbt-btn",{attrs:{type:"primary",size:"sm",disabled:""}},[t._v("\n        操作中...\n      ")]):a("bbt-btn",{attrs:{type:"primary",size:"sm",disabled:!t.reason&&"open"!=t.type},on:{click:function(e){return t.goOperate(t.type)}}},[t._v("\n        确 定\n      ")])],1)]):"move"===t.type?a("el-dialog",{attrs:{title:"移动主题",visible:t.isVisible,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":!0,width:"500px"},on:{"update:visible":function(e){t.isVisible=e}}},[a("div",{staticClass:"move-box"},[a("el-form",{ref:"ruleForm",staticClass:"bbt-clearfix",attrs:{model:t.ruleForm2,"label-width":"64px"}},[a("el-form-item",{attrs:{label:"目标节点",prop:"block"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择目标节点"},model:{value:t.ruleForm2.block,callback:function(e){t.$set(t.ruleForm2,"block",e)},expression:"ruleForm2.block"}},t._l(t.blockcontactList,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.fid}})})),1)],1)],1),t._v(" "),a("div",{staticClass:"move-box__reason"},[t._v("\n        移动理由\n        "),a("div",{staticClass:"reason"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],attrs:{type:"text",placeholder:"请选择或输入移动理由"},domProps:{value:t.reason},on:{input:function(e){e.target.composing||(t.reason=e.target.value)}}}),t._v(" "),a("span",{staticClass:"arrow",on:{click:function(e){return t.showList(e,"reason")}}}),t._v(" "),a("transition",{attrs:{name:"fade"}},[t.isShowReason?a("ul",{staticClass:"reason-sel"},t._l(t.delReasonData,(function(e,i){return a("li",{key:i,on:{click:function(a){return t.selReason(e.text)}}},[t._v("\n                "+t._s(e.text)+"\n              ")])})),0):t._e()])],1)])],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("bbt-btn",{staticStyle:{"margin-right":"16px"},attrs:{type:"default",size:"sm"},on:{click:t.closeDialog}},[t._v("\n        取 消\n      ")]),t._v(" "),t.isLoading?a("bbt-btn",{attrs:{type:"primary",size:"sm",disabled:""}},[t._v("\n        操作中...\n      ")]):a("bbt-btn",{attrs:{type:"primary",size:"sm"},on:{click:function(e){return t.goOperate("move")}}},[t._v("\n        确 定\n      ")])],1)]):"officialreply"===t.type||"cancelofficial"===t.type?a("el-dialog",{attrs:{title:"officialreply"===t.type?"官方回应":"取消官方回应",visible:t.isVisible,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":!0,width:"500px"},on:{"update:visible":function(e){t.isVisible=e}}},[a("div",{staticClass:"del-box"},["officialreply"==t.type?a("p",[t._v("\n        您确认要设置选中回复为"),a("b",[t._v("官方回应")]),t._v("？\n      ")]):a("p",[t._v("您确认要取消选中回复的"),a("b",[t._v("官方回应状态")]),t._v("？")])]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("bbt-btn",{staticStyle:{"margin-right":"16px"},attrs:{type:"default",size:"sm"},on:{click:t.closeDialog}},[t._v("\n        取 消\n      ")]),t._v(" "),t.isLoading?a("bbt-btn",{attrs:{type:"primary",size:"sm",disabled:""}},[t._v("\n        操作中...\n      ")]):a("bbt-btn",{attrs:{type:"primary",size:"sm"},on:{click:function(e){return t.goOperate(t.type)}}},[t._v("\n        确 定\n      ")])],1)]):"delreply"===t.type?a("el-dialog",{attrs:{title:"删除回复",visible:t.isVisible,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":!0,width:"500px"},on:{"update:visible":function(e){t.isVisible=e}}},[a("div",{staticClass:"del-box"},[a("p",[t._v("您确认要"),a("b",[t._v("删除")]),t._v("选择的评论么?")]),t._v(" "),a("div",{staticClass:"del-box__reason"},[a("span",{staticClass:"link-primary"},[t._v("* ")]),t._v("删除理由\n        "),a("div",{staticClass:"reason"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],attrs:{type:"text",placeholder:"请选择或输入删除理由"},domProps:{value:t.reason},on:{input:function(e){e.target.composing||(t.reason=e.target.value)}}}),t._v(" "),a("span",{staticClass:"arrow",on:{click:function(e){return t.showList(e,"reason")}}}),t._v(" "),a("transition",{attrs:{name:"fade"}},[t.isShowReason?a("ul",{staticClass:"reason-sel"},t._l(t.delReasonData,(function(e,i){return a("li",{key:i,on:{click:function(a){return t.selReason(e.text)}}},[t._v("\n                "+t._s(e.text)+"\n              ")])})),0):t._e()])],1)])]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("bbt-btn",{staticStyle:{"margin-right":"16px"},attrs:{type:"default",size:"sm"},on:{click:t.closeDialog}},[t._v("\n        取 消\n      ")]),t._v(" "),t.isLoading?a("bbt-btn",{attrs:{type:"primary",size:"sm",disabled:""}},[t._v("\n        操作中...\n      ")]):a("bbt-btn",{attrs:{type:"primary",size:"sm",disabled:!t.reason},on:{click:function(e){return t.goOperate("delreply")}}},[t._v("\n        确 定\n      ")])],1)]):t._e(),t._v(" "),"stickcomment"===t.type?a("el-dialog",{attrs:{title:"置顶评论",visible:t.isVisible,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":!0,width:"500px"},on:{"update:visible":function(e){t.isVisible=e}}},[a("div",{staticClass:"del-box"},[a("p",[t._v("您确认要"),a("b",[t._v("置顶")]),t._v("选择的评论么?")])]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("bbt-btn",{staticStyle:{"margin-right":"16px"},attrs:{type:"default",size:"sm"},on:{click:t.closeDialog}},[t._v("\n        取 消\n      ")]),t._v(" "),t.isLoading?a("bbt-btn",{attrs:{type:"primary",size:"sm",disabled:""}},[t._v("\n        操作中...\n      ")]):a("bbt-btn",{attrs:{type:"primary",size:"sm"},on:{click:function(e){return t.goOperate("stickcomment")}}},[t._v("\n        确 定\n      ")])],1)]):t._e(),t._v(" "),"cancelstickcomment"===t.type?a("el-dialog",{attrs:{title:"取消置顶评论",visible:t.isVisible,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":!0,width:"500px"},on:{"update:visible":function(e){t.isVisible=e}}},[a("div",{staticClass:"del-box"},[a("p",[t._v("您确认要"),a("b",[t._v("取消置顶")]),t._v("选择的评论么?")])]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("bbt-btn",{staticStyle:{"margin-right":"16px"},attrs:{type:"default",size:"sm"},on:{click:t.closeDialog}},[t._v("\n        取 消\n      ")]),t._v(" "),t.isLoading?a("bbt-btn",{attrs:{type:"primary",size:"sm",disabled:""}},[t._v("\n        操作中...\n      ")]):a("bbt-btn",{attrs:{type:"primary",size:"sm"},on:{click:function(e){return t.goOperate("cancelstickcomment")}}},[t._v("\n        确 定\n      ")])],1)]):"forbidden"===t.type?a("el-dialog",{attrs:{title:"禁止用户",visible:t.isVisible,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":!0,width:"500px"},on:{"update:visible":function(e){t.isVisible=e}}},[a("div",{staticClass:"top-box"},[a("el-form",{ref:"ruleForm",staticClass:"bbt-clearfix",attrs:{model:t.ruleForm,"label-width":"64px"}},[a("el-form-item",{attrs:{label:"禁言类型",prop:"type"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择禁言类型"},model:{value:t.ruleForm3.type,callback:function(e){t.$set(t.ruleForm3,"type",e)},expression:"ruleForm3.type"}},t._l(t.typeOptions3,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"禁言时间",for:"day",prop:"day"}},[a("el-radio-group",{staticStyle:{padding:"10px 0"},model:{value:t.ruleForm3.day,callback:function(e){t.$set(t.ruleForm3,"day",e)},expression:"ruleForm3.day"}},t._l(t.forbiddenDay,(function(e,i){return a("el-radio",{key:i,staticStyle:{display:"inline-block",width:"60px"},attrs:{label:e.value},model:{value:t.ruleForm3.day,callback:function(e){t.$set(t.ruleForm3,"day",e)},expression:"ruleForm3.day"}},[t._v(t._s(e.label))])})),1)],1)],1),t._v(" "),a("div",{staticClass:"top-box__reason"},[t._v("\n        禁言理由\n        "),a("div",{staticClass:"reason"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],attrs:{type:"text",placeholder:"请选择或输入禁言理由"},domProps:{value:t.reason},on:{input:function(e){e.target.composing||(t.reason=e.target.value)}}}),t._v(" "),a("span",{staticClass:"arrow",on:{click:function(e){return t.showList(e,"reason")}}}),t._v(" "),a("transition",{attrs:{name:"fade"}},[t.isShowReason?a("ul",{staticClass:"reason-sel"},t._l(t.delReasonData,(function(e,i){return a("li",{key:i,on:{click:function(a){return t.selReason(e.text)}}},[t._v("\n                "+t._s(e.text)+"\n              ")])})),0):t._e()])],1)])],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("span",{staticStyle:{float:"left"}},[t._v("禁言的同时删除该内容")]),t._v(" "),a("bbt-btn",{staticStyle:{"margin-right":"16px"},attrs:{type:"default",size:"sm"},on:{click:t.closeDialog}},[t._v("\n        取 消\n      ")]),t._v(" "),t.isLoading?a("bbt-btn",{attrs:{type:"primary",size:"sm",disabled:""}},[t._v("\n        操作中...\n      ")]):a("bbt-btn",{attrs:{type:"primary",size:"sm"},on:{click:function(e){return t.goOperate("forbidden")}}},[t._v("\n        确 定\n      ")])],1)]):"delDocReply"===t.type?a("el-dialog",{attrs:{title:"删除回复",visible:t.isVisible,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":!0,width:"500px"},on:{"update:visible":function(e){t.isVisible=e}}},[a("div",{staticClass:"del-box"},[a("p",[t._v("您确认要"),a("b",[t._v("删除")]),t._v("选择的评论么?")])]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("bbt-btn",{staticStyle:{"margin-right":"16px"},attrs:{type:"default",size:"sm"},on:{click:t.closeDialog}},[t._v("\n        取 消\n      ")]),t._v(" "),t.isLoading?a("bbt-btn",{attrs:{type:"primary",size:"sm",disabled:""}},[t._v("\n        操作中...\n      ")]):a("bbt-btn",{attrs:{type:"primary",size:"sm"},on:{click:function(e){return t.goOperate("delDocReply")}}},[t._v("\n        确 定\n      ")])],1)]):"delCourseReply"===t.type?a("el-dialog",{attrs:{title:"删除回复",visible:t.isVisible,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":!0,width:"500px"},on:{"update:visible":function(e){t.isVisible=e}}},[a("div",{staticClass:"del-box"},[a("p",[t._v("您确认要"),a("b",[t._v("删除")]),t._v("选择的评论么?")])]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("bbt-btn",{staticStyle:{"margin-right":"16px"},attrs:{type:"default",size:"sm"},on:{click:t.closeDialog}},[t._v("\n        取 消\n      ")]),t._v(" "),t.isLoading?a("bbt-btn",{attrs:{type:"primary",size:"sm",disabled:""}},[t._v("\n        操作中...\n      ")]):a("bbt-btn",{attrs:{type:"primary",size:"sm"},on:{click:function(e){return t.goOperate("delCourseReply")}}},[t._v("\n        确 定\n      ")])],1)]):t._e()],1):t._e()}),[],!1,null,"2d05c120",null).exports,l=a(91),u=a.n(l),d=a(15);function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var f={components:{XDialog:c},props:{data:{type:Object},comment:{type:Object},offset:{type:String},area:{type:String,default:"post"},pid:{type:String|Number},forbiddenId:{type:String|Number},managePost:{type:Object,default:function(){return{}}},manageReply:{type:Object,default:function(){return{}}},manageOther:{type:Object,default:function(){return{}}},hideTop:{type:Boolean,default:!1}},data:function(){return{isShow:!1,isVisible:!1,type:null}},computed:m({},Object(r.c)({userinfo:function(t){return t.userinfo},group:function(t){return t.group}}),{tid:function(){return this.data.id||this.data.tid},isAdmin:function(){return"1"==this.group.groupid},page:function(){return Number(this.$route.params.page)||1},uid:function(){return this.userinfo.uid},fid:function(){return this.data.category&&this.data.category.id},isForum:function(){return["forum-id","forum-id-:page"].includes(this.$route.name)}}),methods:{openDialog:function(t){var e=this;if("move"==t)this.$store.dispatch("block/FETCH_BLOCK_LIST",{params:{filter:this.isAdmin?0:1},type:"lists"}).then((function(){e.type=t,e.isVisible=!0}));else if("delreply"==t){if(this.comment.official_response)return void this.errCatch({message:"请取消官方推荐再删除"});this.type=t,this.isVisible=!0}else this.type=t,this.isVisible=!0},closeDialog:function(){this.isVisible=!1,this.type=null},overShow:function(){this.isShow=!0},outHide:function(){this.isShow=!1},setComplaint:function(){return d.b.includes(this.fid)&&!this.comment.official_response},resetComplaint:function(){return d.b.includes(this.fid)&&this.comment.official_response},goOperate:function(t,e,a){var i=this;switch(t){case"del":this.delPost(e);break;case"top":this.$store.dispatch("operate/FETCH_STICK_POST",{params:{tid:this.tid,uid:this.uid,fid:this.fid,sticklevel:a.type,reason:e,crimerecord:e?1:0,expiration:a.date||0}}).then((function(t){i.isVisible=!1,i.type=null,i.isForum?i.reFetchList():location.reload()})).catch((function(t){i.errCatch(t)}));break;case"open":this.$store.dispatch("operate/FETCH_OPEN_POST",{params:{tid:this.tid,uid:this.uid,fid:this.fid,reason:e,crimerecord:e?1:0}}).then((function(t){i.isVisible=!1,i.type=null,i.isForum?i.reFetchList():location.reload()})).catch((function(t){i.errCatch(t)}));break;case"close":this.$store.dispatch("operate/FETCH_CLOSE_POST",{params:{tid:this.tid,uid:this.uid,fid:this.fid,reason:e,crimerecord:e?1:0}}).then((function(t){i.isVisible=!1,i.type=null,i.isForum?i.reFetchList():location.reload()})).catch((function(t){i.errCatch(t)}));break;case"move":this.$store.dispatch("operate/FETCH_MOVE_POST",{params:{tid:this.tid,uid:this.uid,fid:this.fid,reason:e,crimerecord:e?1:0,moveto:a.block}}).then((function(t){i.isVisible=!1,i.type=null,i.isForum?i.reFetchList():location.reload()})).catch((function(t){i.errCatch(t)}));break;case"officialreply":this.$store.dispatch("operate/FETCH_RESPONSE_POST",{params:{tid:this.tid,uid:this.uid,pid:this.pid},fid:this.fid}).then((function(t){i.isVisible=!1,i.type=null,location.reload()})).catch((function(t){i.errCatch(t)}));break;case"cancelofficial":this.$store.dispatch("operate/FETCH_CANCELRESPONSE_POST",{params:{tid:this.tid,uid:this.uid,pid:this.pid},fid:this.fid}).then((function(t){i.isVisible=!1,i.type=null,location.reload()})).catch((function(t){i.errCatch(t)}));break;case"delreply":this.delReply(e);break;case"forbidden":this.$store.dispatch("operate/FETCH_FORBIDDEN_USER",{params:{target_id:this.forbiddenId,reason:e,type:a.type,crimerecord:e?1:0,banexpiry:a.day>0?new Date(Date.parse(new Date)+a.day):0}}).then((function(t){i.isVisible=!1,i.type=null,"resume"!==a.type&&(i.pid?i.delReply(e):i.delPost(e))})).catch((function(t){i.errCatch(t)}));break;case"delCourseReply":this.$store.dispatch("operate/FETCH_DEL_COURSECOMMENT",{params:{cid:this.pid}}).then((function(t){i.isVisible=!1,i.type=null,location.reload()})).catch((function(t){i.errCatch(t)}));break;case"delDocReply":this.$store.dispatch("operate/FETCH_DEL_DOCCOMMENT",{params:{commentid:this.pid}}).then((function(t){i.isVisible=!1,i.type=null,location.reload()})).catch((function(t){i.errCatch(t)}));break;case"stickcomment":this.$store.dispatch("operate/FETCH_COMMENT_STICK",{params:{tid:this.tid,pids:["".concat(this.pid)]}}).then((function(t){i.isVisible=!1,i.type=null,window.location.reload()})).catch((function(t){i.errCatch(t)}));break;case"cancelstickcomment":this.$store.dispatch("operate/FETCH_COMMENT_STICK",{params:{tid:this.tid,pids:["".concat(this.pid)],action:"remove"}}).then((function(t){i.isVisible=!1,i.type=null,window.location.reload()})).catch((function(t){i.errCatch(t)}))}},delPost:function(t){var e=this;this.$store.dispatch("operate/FETCH_DEL_POST",{params:{tid:this.tid,uid:this.uid,fid:this.fid,reason:t,crimerecord:t?1:0}}).then((function(t){e.isVisible=!1,e.type=null,e.isForum?e.reFetchList():121==e.fid?e.$router.push({name:"ask-me-anything"}):118==e.fid?e.$router.push({name:"events"}):42==e.fid?e.$router.push({name:"ask"}):e.$router.push({name:"forum-id",params:{id:"".concat(61==e.fid?1:e.fid)}})})).catch((function(t){e.errCatch(t)}))},delReply:function(t){var e=this;this.$store.dispatch("operate/FETCH_DEL_COMMENT",{params:{tid:this.tid,uid:this.uid,pids:this.pid,fid:this.fid,reason:t,crimerecord:t?1:0}}).then((function(t){e.isVisible=!1,e.type=null,location.reload()})).catch((function(t){e.errCatch(t)}))},errCatch:function(t){this.isVisible=!1,this.type=null,this.$message({message:t.message,type:"warning"})},reFetchList:function(){var t={};this.$route.query&&this.$route.query.orderby?t.orderby=this.$route.query.orderby:t.orderby="lastpost",this.$route.query&&"poll"==this.$route.query.specialtype?t.type=1:this.$route.query&&"debate"==this.$route.query.specialtype&&(t.type=5),this.$store.dispatch("post/FETCH_LIST",{params:m({uid:this.uid,fid:this.fid,page:this.page,timestamp:u.a.get("timestamp-".concat(this.fid))},t),type:"lists"})}}},h=(a(1185),Object(o.a)(f,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"admin-box",class:t.offset,on:{mouseenter:t.overShow,mouseleave:t.outHide}},[a("span",[a("bbt-icon",{staticStyle:{"font-size":"16px"},attrs:{type:"guanli"}}),t._v("管理")],1),t._v(" "),t.isShow&&"post"==t.area?a("div",{staticClass:"admin-pop"},[t.managePost&&t.managePost.delpost?a("div",{staticClass:"link-dark-minor",on:{click:function(e){return t.openDialog("del")}}},[t._v("\n      删除\n    ")]):t._e(),t._v(" "),t.managePost&&(t.managePost.stickypost_1||t.managePost.stickypost_2||t.managePost.stickypost_3)&&t.data.category&&"42"!=t.data.category.id?a("div",{staticClass:"link-dark-minor",on:{click:function(e){return t.openDialog("top")}}},[t._v("\n      置顶\n    ")]):t._e(),t._v(" "),t.managePost&&t.managePost.openpost?a("div",[t.data.closed||t.data.status&&t.data.status.close?a("div",{staticClass:"link-dark-minor",on:{click:function(e){return t.openDialog("open")}}},[t._v("\n        打开\n      ")]):a("div",{staticClass:"link-dark-minor",on:{click:function(e){return t.openDialog("close")}}},[t._v("\n        关闭\n      ")])]):t._e(),t._v(" "),t.managePost&&t.managePost.movepost?a("div",{staticClass:"link-dark-minor",on:{click:function(e){return t.openDialog("move")}}},[t._v("\n      移动\n    ")]):t._e(),t._v(" "),t.managePost&&t.managePost.forbidden?a("div",{staticClass:"link-dark-minor",on:{click:function(e){return t.openDialog("forbidden")}}},[t._v("\n      禁言\n    ")]):t._e(),t._v(" "),a("i",{staticClass:"arrow"})]):t._e(),t._v(" "),t.isShow&&"comment"==t.area?a("div",{staticClass:"admin-pop"},[t.manageReply&&t.manageReply.delreply?a("div",{staticClass:"link-dark-minor",on:{click:function(e){return t.openDialog("delreply")}}},[t._v("\n      删除\n    ")]):t._e(),t._v(" "),t.manageReply&&t.manageReply.forbidden?a("div",{staticClass:"link-dark-minor",on:{click:function(e){return t.openDialog("forbidden")}}},[t._v("\n      禁言\n    ")]):t._e(),t._v(" "),!t.hideTop&&t.manageReply&&(t.manageReply.stickreply||t.manageReply.unstickreply)?a("div",[!t.comment.isstick&&t.manageReply&&t.manageReply.stickreply?a("div",{staticClass:"link-dark-minor",on:{click:function(e){return t.openDialog("stickcomment")}}},[t._v("\n        置顶\n      ")]):t.comment.isstick&&t.manageReply&&t.manageReply.unstickreply?a("div",{staticClass:"link-dark-minor",on:{click:function(e){return t.openDialog("cancelstickcomment")}}},[t._v("\n        取消置顶\n      ")]):t._e()]):t._e(),t._v(" "),t.setComplaint()&&t.manageReply&&t.manageReply.officialreply?a("div",{staticClass:"link-dark-minor",on:{click:function(e){return t.openDialog("officialreply")}}},[t._v("\n      官方回应\n    ")]):t.resetComplaint()&&t.manageReply&&t.manageReply.unofficialreply?a("div",{staticClass:"link-dark-minor",on:{click:function(e){return t.openDialog("cancelofficial")}}},[t._v("\n      取消官方\n    ")]):t._e(),t._v(" "),a("i",{staticClass:"arrow"})]):t._e(),t._v(" "),t.isShow&&"course"==t.area&&t.manageOther&&t.manageOther.delCourseReply?a("div",{staticClass:"admin-pop"},[a("div",{staticClass:"link-dark-minor",on:{click:function(e){return t.openDialog("delCourseReply")}}},[t._v("\n      删除\n    ")]),t._v(" "),a("i",{staticClass:"arrow"})]):t._e(),t._v(" "),t.isShow&&"doc"==t.area&&t.manageOther&&t.manageOther.delDocReply?a("div",{staticClass:"admin-pop"},[a("div",{staticClass:"link-dark-minor",on:{click:function(e){return t.openDialog("delDocReply")}}},[t._v("删除")]),t._v(" "),a("i",{staticClass:"arrow"})]):t._e(),t._v(" "),t.isVisible?a("x-dialog",{attrs:{stickData:{stickypost_1:t.managePost&&t.managePost.stickypost_1,stickypost_2:t.managePost&&t.managePost.stickypost_2,stickypost_3:t.managePost&&t.managePost.stickypost_3},isVisible:t.isVisible,type:t.type},on:{close:t.closeDialog,goOperate:t.goOperate}}):t._e()],1)}),[],!1,null,"506c135b",null));e.a=h.exports},function(t,e,a){"use strict";a(7),a(5),a(4),a(3),a(6),a(54);var i,r,n=a(18),s=(a(12),a(25),a(1)),o=a(105),c=a(2),l=a(15),u=a(17);function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var p={inject:["injectData"],components:{XDialog:o.a},props:{data:{type:Array},canView:{type:Boolean}},data:function(){return{isVisible:!1,isLoading:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(c.c)({post:function(t){return t.post},userinfo:function(t){return t.userinfo}}),{attachParams:function(){return this.post.attachParams},uid:function(){return this.userinfo.uid},tid:function(){return this.$route.params.id||"0"},imageData:function(){var t=this,e=[];return this.data.map((function(a,i){"image"==t.getFileType(a.filename)&&(Number.parseInt(a.price||0)<=0||Number.parseInt(a.price||0)>0&&t.canView)&&e.push(a)})),e},filesData:function(){var t=this,e=[];return this.data.map((function(a,i){("image"!=t.getFileType(a.filename)||"image"==t.getFileType(a.filename)&&Number.parseInt(a.price||0)>0&&!t.canView)&&e.push(a)})),e}}),methods:(i=Object(u.a)(),r={getFileType:function(t){var e=null;try{var a=t.split(".");e=a[a.length-1]}catch(t){e=null}if(!e)return!1;if(["png","jpg","jpeg","bmp","gif"].some((function(t){return t.toUpperCase()==e.toUpperCase()})))return"image";if(["txt"].some((function(t){return t.toUpperCase()==e.toUpperCase()})))return"text";if(["xls","xlsx"].some((function(t){return t.toUpperCase()==e.toUpperCase()})))return"excel";if(["doc","docx"].some((function(t){return t.toUpperCase()==e.toUpperCase()})))return"word";if(["pdf"].some((function(t){return t.toUpperCase()==e.toUpperCase()})))return"pdf";if(["ppt"].some((function(t){return t.toUpperCase()==e.toUpperCase()})))return"ppt";if(["mp4","m2v","mkv","mp3","wav","wmv"].some((function(t){return t.toUpperCase()==e.toUpperCase()})))return"video";return["zip","rar","7z","tar","gz"].some((function(t){return t.toUpperCase()==e.toUpperCase()}))?"zip":"other"},getFileSize:function(t){var e=0;return Number.parseInt(t)>0&&(e=t<102.4?t.toFixed(2)+"B":t<104857.6?(t/1024).toFixed(2)+"KB":t<107374182.4?(t/1048576).toFixed(2)+"MB":(t/1073741824).toFixed(2)+"GB"),e},getFileName:function(t){return t.length>=9?"".concat(t.substr(0,3),"...").concat(t.substr(t.length-7,7)):t},closeDialog:function(){this.isVisible=!1},download:function(t){var e=this;Number.parseInt(t.price||0)<=0||this.canView||t.is_down?this.goPay(t.aid):this.$store.dispatch("post/FETCH_DOWN_ATTACH",{params:{aid:t.aid,tid:this.tid,uid:this.uid,range:1},type:"attachParams"}).then((function(t){e.isVisible=!0})).catch((function(t){e.$message({type:"danger",message:t.message})}))},goPay:function(t){var e=this;this.isLoading||(this.isLoading=!0,this.$store.dispatch("post/FETCH_DOWN_ATTACH",{params:{aid:t||this.attachParams.aid,tid:this.tid,uid:this.uid}}).then((function(a){e.isVisible=!1,e.isLoading=!1,a.data.status?window.location.href="".concat(l.e.forum_api,"/forum/forum-related/attach-down?tid=").concat(e.tid,"&aid=").concat(t||e.attachParams.aid,"&uid=").concat(e.uid,"&path=").concat(a.docpath):e.$message({type:"danger",message:"下载附件失败"})})).catch((function(t){e.isLoading=!1,e.$message({type:"danger",message:t&&t.msg||t&&t.message||"下载附件失败"})})))}},Object(n.a)(r,"download",[i],Object.getOwnPropertyDescriptor(r,"download"),r),r)},m=(a(1448),a(0)),f=Object(m.a)(p,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"attachments-module"},[t._l(t.imageData,(function(e,i){return t.imageData.length&&(e.url||e.thumb)?a("div",{key:i,staticClass:"attachments-image"},[a("p",[a("a",{staticClass:"link-dark-major",attrs:{href:"javascript:;",title:e.filename},on:{click:function(a){return t.download(e)}}},[t._v(t._s(t.getFileName(e.filename)))]),t._v(" "),a("span",[t._v(t._s(t.getFileSize(e.filesize)))]),t._v(" "),a("span",[t._v("下载："+t._s(t._f("num_to_thousand")(e.download_times))+"次")]),t._v(" "),Number.parseInt(e.price)?a("span",[t._v("售价："+t._s(t._f("num_to_thousand")(e.price))+"金币")]):t._e()]),t._v(" "),a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.url||e.thumb,error:"/images/default/news.jpg",loading:"/images/default/news.jpg"},expression:"{\n        src: item.url || item.thumb,\n        error: '/images/default/news.jpg',\n        loading: '/images/default/news.jpg',\n      }"}],key:i,attrs:{src:"/images/default/news.jpg",alt:e.filename}})]):t._e()})),t._v(" "),a("bbt-row",t._l(t.filesData,(function(e,i){return t.filesData.length&&e.filename?a("bbt-col",{key:i,attrs:{span:{xs:8}}},[a("div",{staticClass:"attachments-item"},[a("bbt-icon",{staticClass:"file-icon",attrs:{type:"attach"}}),t._v(" "),a("a",{staticClass:"link-dark-major",attrs:{href:"javascript:;",title:e.filename},on:{click:function(a){return t.download(e)}}},[t._v(t._s(t.getFileName(e.filename)))]),t._v(" "),a("p",[a("span",[t._v(t._s(t.getFileSize(e.filesize)))]),t._v(" "),a("span",[t._v("下载："+t._s(t._f("num_to_thousand")(e.download_times))+"次")])]),t._v(" "),a("p",[a("span",[t._v("售价："+t._s(t._f("num_to_thousand")(e.price))+"金币")])]),t._v(" "),a("span",{staticClass:"download-icon",on:{click:function(a){return t.download(e)}}},[a("bbt-icon",{attrs:{type:"download1"}})],1)],1)]):t._e()})),1),t._v(" "),t.isVisible?a("x-dialog",{attrs:{type:"attach",data:t.attachParams,isVisible:t.isVisible,isLoading:t.isLoading},on:{close:function(e){return t.closeDialog()},pay:t.goPay}}):t._e()],2)}),[],!1,null,"2f774605",null);e.a=f.exports},,,,,,,,function(t,e,a){"use strict";a(12);var i={props:{data:{type:Object},replycredit:{type:String|Number}}},r=(a(1439),a(0)),n=Object(r.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"replycredit-module"},[a("bbt-icon",{staticStyle:{color:"#FDB500","font-size":"18px"},attrs:{type:"reward"}}),t._v(" "),a("span",[t._v("回帖奖励")]),t._v("\n  奖励："+t._s(t.replycredit)+t._s(t.data.credittitle)+"，回复本帖可获得\n  "+t._s(t.data.extcredits)+" "+t._s(t.data.credittitle)+"奖励! 每人限\n  "+t._s(t.data.membertimes)+" 次\n  ")],1)}),[],!1,null,"ad0605aa",null);e.a=n.exports},function(t,e,a){"use strict";var i={props:["banner"]},r=(a(1165),a(0)),n=Object(r.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"common-banner",style:{height:t.banner.holdHeight+"px"}},[a("div",{staticClass:"common-banner__bg",style:{backgroundImage:"url("+t.banner.bgPic+")",height:t.banner.height?t.banner.height+"px":"160px"}},[a("div",{staticClass:"bbt-container"},[t.banner.title?a("div",{staticClass:"common-banner__content"},[t.banner.title?a("h1",[a("strong",[t._v(t._s(t.banner.title))])]):t._e(),t._v(" "),t.banner.desc?a("p",[t._v(t._s(t.banner.desc))]):t._e()]):t._e()])])])}),[],!1,null,"68e51948",null);e.a=n.exports},function(t,e,a){"use strict";a(12);var i={props:{count:{type:String|Number},data:{type:Array},span:{type:Number,default:5},styles:{type:String,default:""}}},r=(a(1136),a(0)),n=Object(r.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"video-module bbt-clearfix"},t._l(t.data,(function(e,i){return i<t.count?a("div",{key:i,staticClass:"video-wrap",style:"width: "+100/t.span+"%;"},[a("div",{staticClass:"video-item",class:{"box-shadow":"card"===t.styles}},[a("a",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:e.images[0]||e.image,error:"/images/default/news.jpg",loading:"/images/default/news.jpg"},expression:"{\n          src: item.images[0] || item.image,\n          error: '/images/default/news.jpg',\n          loading: '/images/default/news.jpg',\n        }",arg:"background-image"}],staticClass:"video-item__thumb",style:4===t.span?"height: 166px;background-image: url('/images/default/news.jpg')":"background-image: url('/images/default/news.jpg')",attrs:{target:"_blank",rel:"noopener",href:"https://www.8btc.com/video/"+e.id,alt:e.title}},[a("div",{staticClass:"video-item__mask"})]),t._v(" "),a("div",{staticClass:"video-item__info bbt-clearfix",style:"card"===t.styles?"padding: 8px 16px 16px;":""},[a("h3",{staticClass:"video-item__title"},[a("a",{staticClass:"link-dark-major bbt-block",attrs:{target:"_blank",rel:"noopener",href:"https://www.8btc.com/video/"+e.id},domProps:{innerHTML:t._s(e.title)}})]),t._v(" "),a("span",{staticClass:"video-item__info-item"},[a("bbt-icon",{attrs:{type:"play"}}),t._v(" "+t._s(e.views)+"\n        ")],1),t._v(" "),a("span",{staticClass:"video-item__info-item"},[a("bbt-icon",{attrs:{type:"comment"}}),t._v(" "+t._s(e.replies)+"\n        ")],1)])])]):t._e()})),0)}),[],!1,null,"46e7f88e",null);e.a=n.exports},function(t,e,a){"use strict";a(12);var i={props:{data:{type:Array},span:{type:Number,default:6}},mounted:function(){},data:function(){return{nowTime:Date.parse(new Date)/1e3}},methods:{activityStatus:function(t,e){return this.nowTime<t?"before":this.nowTime>=t&&this.nowTime<e?"in":"end"}}},r=(a(1134),a(0)),n=Object(r.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("bbt-row",t._l(t.data,(function(e,i){return a("bbt-col",{key:i,attrs:{span:{xs:t.span}}},[a("nuxt-link",{staticClass:"activity-item",attrs:{to:{name:"event-id",params:{id:""+e.tid}},target:"_blank"}},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:e.activity.thumb,error:"/images/default/news.jpg",loading:"/images/default/news.jpg"},expression:"{\n          src: item.activity.thumb,\n          error: '/images/default/news.jpg',\n          loading: '/images/default/news.jpg',\n        }",arg:"background-image"}],staticClass:"activity-item__thumb",style:{"backgroun-image":"url('/images/default/news.jpg')"}},["in"!==t.activityStatus(e.activity.starttimefrom,e.activity.starttimeto)?a("div",{staticClass:"activity-item__mask"}):t._e(),t._v(" "),"before"==t.activityStatus(e.activity.starttimefrom,e.activity.starttimeto)?a("div",[a("span",{staticClass:"bbt-label bbt-label--lemon bbt-label--top"},[t._v("报名中")]),t._v(" "),a("bbt-btn",{staticStyle:{color:"#fff"},attrs:{type:"primary"}},[t._v("立即报名")])],1):"in"==t.activityStatus(e.activity.starttimefrom,e.activity.starttimeto)?a("div",[a("span",{staticClass:"bbt-label bbt-label--lemon bbt-label--top"},[t._v("进行中")])]):a("div",[a("bbt-btn",{attrs:{type:"assist"}},[t._v("活动回顾")])],1)]),t._v(" "),a("div",{staticClass:"activity-item__info"},[a("div",{staticClass:"activity-item__title",domProps:{innerHTML:t._s(e.title)}}),t._v(" "),a("div",{staticClass:"activity-item__desc"},[a("p",[a("bbt-icon",{attrs:{type:"calendar"}}),t._v("\n            "+t._s(t._f("timeGMT")(e.activity.starttimefrom))+"\n          ")],1),t._v(" "),a("p",[a("bbt-icon",{attrs:{type:"activity"}}),t._v(" "+t._s(e.activity.place)+"\n          ")],1)])])])],1)})),1)}),[],!1,null,"749482c7",null);e.a=n.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";var i={mixins:[a(47).a],props:{data:Array,needLazy:Boolean,title:{type:String,default:"热帖榜"}},data:function(){return{isLoading:!1,currentType:"week",openIndex:0}},computed:{id:function(){return this.$route.params.id}},watch:{$route:{handler:function(){var t=this;this.isLoading=!0,this.$store.dispatch("post/FETCH_HOTPOST_LIST",{params:{type:"week",fid:"328"!=this.id?61:328},type:"hotPost"}).then((function(){t.isRender=!0,t.isLoading=!1})).catch((function(){t.isLoading=!1})),this.currentType="week"},deep:!0}},methods:{fetchModule:function(){var t=this;this.$store.dispatch("post/FETCH_HOTPOST_LIST",{params:{type:"week",fid:"328"!=this.id?61:328},type:"hotPost"}).then((function(){window.removeEventListener("scroll",t.debounceFn),t.debounceFn=null,t.isRender=!0,t.isLoading=!1})).catch((function(){t.isLoading=!1}))},switchType:function(t){var e=this;this.currentType===t||this.isLoading||(this.isLoading=!0,this.$store.dispatch("post/FETCH_HOTPOST_LIST",{params:{type:t,fid:"328"!=this.id?61:328},type:"hotPost"}).then((function(a){e.isLoading=!1,e.currentType=t})).catch((function(){e.isLoading=!0})),this.openIndex=0)},mouseover:function(t){this.openIndex=t}}},r=(a(1188),a(0)),n=Object(r.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data&&t.data.length||t.needLazy&&!t.isRender?a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    "+t._s(t.title)+"\n    "),a("span",{staticClass:"orderby-nav"},[a("span",{staticClass:"orderby-nav__text",class:{active:"week"==t.currentType},on:{click:function(e){return t.switchType("week")}}},[t._v("本周最热")]),t._v(" "),a("span",{staticClass:"bbt-dot"}),t._v(" "),a("span",{staticClass:"orderby-nav__text",class:{active:"month"==t.currentType},on:{click:function(e){return t.switchType("month")}}},[t._v("本月最热")])])]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[a("x-skeleton",{attrs:{needLazy:t.needLazy&&!t.isRender,skin:"hotpost"}},[a("ul",{staticClass:"post-list"},t._l(t.data.slice(0,5),(function(e,i){return a("li",{key:i,class:[{active:t.openIndex==i},"item-index__"+i,"post-list__item"],on:{mouseenter:function(e){return t.mouseover(i)}}},[a("div",{staticClass:"post-list__item-title"},[a("span",[t._v(t._s(i+1))]),t._v(" "),a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"post-id",params:{id:""+e.tid}},target:"_blank"}},[t._v("\n              "+t._s(e.subject)+"\n            ")])],1),t._v(" "),a("div",{staticClass:"post-list__item-desc"},[t._v(t._s(e.message))])])})),0)])],1)]):t._e()}),[],!1,null,"aa1df682",null);e.a=n.exports},function(t,e,a){"use strict";var i={mixins:[a(47).a],props:{data:Array,needLazy:Boolean},methods:{fetchModule:function(){var t=this;this.$store.dispatch("block/FETCH_RECOMMEND_LIST",{params:{},type:"recommend"}).then((function(){window.removeEventListener("scroll",t.debounceFn),t.debounceFn=null,t.isRender=!0,t.isLoading=!1})).catch((function(){t.isLoading=!1}))}}},r=(a(1483),a(0)),n=Object(r.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data&&t.data.length||t.needLazy&&!t.isRender?a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    热门节点\n    "),"/forum/1"!==t.$route.path?a("span",{staticClass:"bbt-module__more"},[a("nuxt-link",{staticClass:"link-dark-minor",attrs:{to:{name:"forum-id",params:{id:"1"}},target:"_blank"}},[t._v("\n        更多"),a("bbt-icon",{attrs:{type:"right"}})],1)],1):t._e()]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[a("x-skeleton",{attrs:{needLazy:t.needLazy&&!t.isRender,skin:"hotnodes"}},[a("ul",{staticClass:"block-list bbt-clearfix"},t._l(t.data,(function(e,i){return a("li",{key:i,staticClass:"block-list__item"},[a("div",{staticClass:"block-list__item-logo"},[a("nuxt-link",{attrs:{target:"_blank",to:{name:"forum-id",params:{id:""+e.fid}}}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.icon,error:"/images/default/project.jpg",loading:"/images/default/project.jpg"},expression:"{\n                  src: item.icon,\n                  error: '/images/default/project.jpg',\n                  loading: '/images/default/project.jpg',\n                }"}],attrs:{src:"/images/default/project.jpg",alt:e.name,target:"_blank"}})])],1),t._v(" "),a("div",{staticClass:"block-list__info"},[a("p",[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"forum-id",params:{id:""+e.fid}},target:"_blank"}},[t._v("\n                "+t._s(e.name)+"\n              ")])],1)])])})),0)])],1)]):t._e()}),[],!1,null,"e134fb38",null);e.a=n.exports},,,,function(t,e,a){"use strict";a(33),a(23);var i=a(15),r={data:function(){return{wechat:{appid:"wx0f8cd6cfc49cde29",redirect_uri:encodeURIComponent("".concat(i.e.host,"/user_auth?type=weixin&back_url=").concat(encodeURIComponent(this.$route.query.back_url))),scope:"snsapi_login"},qq:{appid:"101557088",redirect_uri:encodeURIComponent("".concat(i.e.host,"/user_auth?type=qq&back_url=").concat(encodeURIComponent(this.$route.query.back_url)))}}},computed:{wechatUrl:function(){return"https://open.weixin.qq.com/connect/qrconnect?appid=".concat(this.wechat.appid,"&redirect_uri=").concat(this.wechat.redirect_uri,"&response_type=code&scope=").concat(this.wechat.scope,"#wechat_redirect")},qqUrl:function(){return"https://graph.qq.com/oauth2.0/show?which=Login&display=pc&response_type=code&client_id=".concat(this.qq.appid,"&redirect_uri=").concat(this.qq.redirect_uri)}},methods:{wechatLogin:function(){this.$emit("switchDialog",!0,this.wechatUrl)}}},n=(a(1177),a(0)),s={components:{ThridPartyModule:Object(n.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"third-party"},[this._m(0),this._v(" "),e("div",{staticClass:"third-party__list bbt-clearfix"},[e("a",{staticClass:"third-party__item third-party__wechat",attrs:{href:"javascript:;"},on:{click:this.wechatLogin}},[e("bbt-icon",{staticStyle:{"font-size":"24px"},attrs:{type:"wechat"}})],1),this._v(" "),e("a",{staticClass:"third-party__item third-party__qq",attrs:{href:this.qqUrl,rel:"nofollow noopener"}},[e("bbt-icon",{staticStyle:{"font-size":"24px"},attrs:{type:"qq"}})],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"third-party__title"},[e("span",[this._v("第三方登录")])])}],!1,null,"3cce3d4b",null).exports},data:function(){return{wechat:{dialogVisible:!1,url:null}}},computed:{isPasswordLogin:function(){return"login-password"===this.$route.name},isCaptchaLogin:function(){return"login-captcha"===this.$route.name},isLogin:function(){return this.isPasswordLogin||this.isCaptchaLogin},isRegister:function(){return"register"===this.$route.name},back_url:function(){return this.$route.query.back_url},back_name:function(){return this.$route.query.back_name},redirect_url:function(){return this.$route.query.redirect_url}},methods:{switchTab:function(t){"login-password"===t&&this.isPasswordLogin||"register"===t&&this.isRegister||this.$router.replace({name:t,query:{back_url:this.back_url,back_name:this.back_name,redirect_url:this.redirect_url}})},switchDialog:function(t,e){this.wechat.dialogVisible=t,this.wechat.url=e}},head:function(){return{title:this.isLogin?"登录":"注册"}}},o=(a(1178),a(1179),Object(n.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"login-main"},[a("div",{staticClass:"login-logo"},[a("nuxt-link",{attrs:{to:{name:"index"}}},[a("img",{attrs:{src:"/images/common/ChainNode.svg",height:"96px",alt:""}})])],1),t._v(" "),a("div",{staticClass:"login-section"},[a("ul",{staticClass:"login-tab"},[a("li",{class:{active:t.isLogin},on:{click:function(e){return t.switchTab("login-password")}}},[t._v("\n          登录\n        ")]),t._v(" "),a("li",{class:{active:t.isRegister},on:{click:function(e){return t.switchTab("register")}}},[t._v("\n          注册\n        ")])]),t._v(" "),t._t("default"),t._v(" "),a("thrid-party-module",{on:{switchDialog:t.switchDialog}})],2)]),t._v(" "),a("el-dialog",{attrs:{visible:t.wechat.dialogVisible,width:"500px",center:""},on:{"update:visible":function(e){return t.$set(t.wechat,"dialogVisible",e)}}},[a("iframe",{staticStyle:{width:"100%",height:"420px"},attrs:{src:t.wechat.url,frameborder:"0"}})])],1)}),[],!1,null,"7aa4ed94",null));e.a=o.exports},function(t,e,a){"use strict";var i={components:{QrcodeVue:a(517).a},props:["qrcodeUrl","weiboUrl","offset"],data:function(){return{isShow:!1,size:100}},methods:{overShow:function(){this.isShow=!0},outHide:function(){this.isShow=!1}}},r=(a(1440),a(0)),n=Object(r.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"share-box",class:t.offset,on:{mouseenter:t.overShow,mouseleave:t.outHide}},[a("span",{staticClass:"link-dark-minor"},[a("bbt-icon",{staticStyle:{"font-size":"16px"},attrs:{type:"share"}}),t._v("分享")],1),t._v(" "),t.isShow?a("div",{staticClass:"share-pop"},[a("i",{staticClass:"arrow"}),t._v(" "),a("a",{staticClass:"share-pop__weibo",attrs:{href:t.weiboUrl,target:"_blank",rel:"nofollow noopener"}},[a("bbt-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"weibo"}}),t._v("新浪微博\n    ")],1),t._v(" "),a("qrcode-vue",{attrs:{value:t.qrcodeUrl,size:t.size}}),t._v(" "),a("p",{staticClass:"txt"},[a("bbt-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"wechat"}}),t._v("微信扫一扫\n    ")],1)],1):t._e()])}),[],!1,null,"50ae1110",null);e.a=n.exports},function(t,e,a){"use strict";var i=a(22),r=a.n(i),n=a(8),s={props:{data:{type:Object}},methods:{type_to_route:function(t){return Object(n.n)(t)},xss:function(t){return r()(t,{whiteList:[],stripIgnoreTag:!0})}}},o=(a(1470),a(0)),c=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"author-module"},[a("div",{staticClass:"author-module__header"},[a("div",{staticClass:"author-module__avatar"},[a("nuxt-link",{attrs:{to:"/user/"+t.data.authorid,target:"_blank"}},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:t.data.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n            src: data.avatar,\n            error: '/images/default/avatar.gif',\n            loading: '/images/default/avatar.gif',\n          }",arg:"background-image"}]})])],1),t._v(" "),a("div",{staticClass:"author-module__right"},[a("div",{staticClass:"author-module__title"},[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:"/user/"+t.data.authorid,target:"_blank"}},[t._v("\n          "+t._s(t.data.username||t.data.display_name)+"\n        ")])],1),t._v(" "),a("div",{staticClass:"author-module__info bbt-clearfix"},[a("span",{staticClass:"author-module__info-item"},[t._v("\n          帖子数 "),a("span",[t._v(t._s(t._f("num_to_thousand")(t.data.posts)))])]),t._v(" "),a("span",{staticClass:"author-module__info-item"},[t._v("\n          获赞数 "),a("span",[t._v(t._s(t._f("num_to_thousand")(t.data.support)))])])])])]),t._v(" "),t.data.desc||t.data.sightml?a("div",{staticClass:"author-module__content"},[t._v("\n    "+t._s(t.xss(t.data.desc||t.data.sightml))+"\n  ")]):t._e(),t._v(" "),t.data.next&&t.data.next.length?a("ul",{staticClass:"bbt-list"},t._l(t.data.next.slice(0,6),(function(e,i){return a("li",{key:i},[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:t.type_to_route(e.type),params:{id:e.tid}},target:"_blank"}},[t._v("\n        "+t._s(e.subject)+"\n      ")])],1)})),0):t._e(),t._v(" "),t.data.next&&t.data.next.length?a("div",{staticClass:"author-module__more"},[a("bbt-btn",{attrs:{type:"primary",block:"",href:"/user/"+t.data.authorid,target:"_blank"}},[t._v("\n      阅读作者更多精彩帖子\n    ")])],1):t._e()])}),[],!1,null,"ff24e24e",null);e.a=c.exports},function(t,e,a){"use strict";var i={props:{title:{type:String}},data:function(){return{isShow:!1}}},r=(a(1391),a(0)),n=Object(r.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"help-coin",on:{mouseout:function(e){t.isShow=!1},mouseover:function(e){t.isShow=!0}}},[a("span",[t._v("?")]),t._v(" "+t._s(t.title)+"\n  "),a("transition",{attrs:{name:"fade"}},[t.isShow?a("div",{staticClass:"help-text"},[a("div",[t._t("default")],2)]):t._e()])],1)}),[],!1,null,"12a40f88",null);e.a=n.exports},function(t,e,a){"use strict";a(7),a(5),a(4),a(3),a(6);var i=a(1);function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function n(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var s={props:{config:{type:Object},weiboStyle:{type:Object},wechatStyle:{type:Object}},data:function(){return{mergeconfig:n({},this.config,{wechatQrcodeTitle:null,wechatQrcodeHelper:'<i class="bbt-icon bbt-icon-wechat" style="color: rgb(130, 160, 28); font-size: 20px;"></i>微信扫一扫'})}},mounted:function(){"function"==typeof window.socialShare&&window.socialShare(this.$el,this.mergeconfig)}},o=(a(1467),a(0)),c=Object(o.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"social-share",attrs:{"data-initialized":"true"}},[e("a",{staticClass:"social-share-icon icon-weibo",attrs:{href:"#"}},[e("bbt-icon",{style:this.weiboStyle,attrs:{type:"weibo"}})],1),this._v(" "),e("a",{staticClass:"social-share-icon icon-wechat",attrs:{href:"#"}},[e("bbt-icon",{style:this.wechatStyle,attrs:{type:"wechat"}})],1)])}),[],!1,null,null,null);e.a=c.exports},function(t,e,a){"use strict";var i=a(34),r=a.n(i),n=a(827),s=a.n(n),o=a(631),c=["legendselectchanged","legendselected","legendunselected","legendscroll","datazoom","datarangeselected","timelinechanged","timelineplaychanged","restore","dataviewchanged","magictypechanged","geoselectchanged","geoselected","geounselected","pieselectchanged","pieselected","pieunselected","mapselectchanged","mapselected","mapunselected","axisareaselected","focusnodeadjacency","unfocusnodeadjacency","brush","brushselected","rendered","finished","click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],l=["theme","initOptions","autoresize"],u=["manualUpdate","watchShallow"];a(243),a(1265),a(1272),a(608),a(1291),a(1297),a(746),a(1298);var d={props:{options:Object,theme:[String,Object],initOptions:Object,group:String,autoresize:Boolean,watchShallow:Boolean,manualUpdate:Boolean},data:function(){return{lastArea:0}},watch:{group:function(t){this.chart.group=t}},methods:{mergeOptions:function(t,e,a){this.manualUpdate&&(this.manualOptions=t),this.chart?this.delegateMethod("setOption",t,e,a):this.init()},appendData:function(t){this.delegateMethod("appendData",t)},resize:function(t){this.delegateMethod("resize",t)},dispatchAction:function(t){this.delegateMethod("dispatchAction",t)},convertToPixel:function(t,e){return this.delegateMethod("convertToPixel",t,e)},convertFromPixel:function(t,e){return this.delegateMethod("convertFromPixel",t,e)},containPixel:function(t,e){return this.delegateMethod("containPixel",t,e)},showLoading:function(t,e){this.delegateMethod("showLoading",t,e)},hideLoading:function(){this.delegateMethod("hideLoading")},getDataURL:function(t){return this.delegateMethod("getDataURL",t)},getConnectedDataURL:function(t){return this.delegateMethod("getConnectedDataURL",t)},clear:function(){this.delegateMethod("clear")},dispose:function(){this.delegateMethod("dispose")},delegateMethod:function(t){var e;this.chart||this.init();for(var a=arguments.length,i=new Array(a>1?a-1:0),r=1;r<a;r++)i[r-1]=arguments[r];return(e=this.chart)[t].apply(e,i)},delegateGet:function(t){return this.chart||this.init(),this.chart[t]()},getArea:function(){return this.$el.offsetWidth*this.$el.offsetHeight},init:function(){var t=this;if(!this.chart){var e=r.a.init(this.$el,this.theme,this.initOptions);this.group&&(e.group=this.group),e.setOption(this.manualOptions||this.options||{},!0),c.forEach((function(a){e.on(a,(function(e){t.$emit(a,e)}))})),this.autoresize&&(this.lastArea=this.getArea(),this.__resizeHandler=s()((function(){0===t.lastArea?(t.mergeOptions({},!0),t.resize(),t.mergeOptions(t.options||t.manualOptions||{},!0)):t.resize(),t.lastArea=t.getArea()}),100,{leading:!0}),Object(o.a)(this.$el,this.__resizeHandler)),Object.defineProperties(this,{width:{configurable:!0,get:function(){return t.delegateGet("getWidth")}},height:{configurable:!0,get:function(){return t.delegateGet("getHeight")}},isDisposed:{configurable:!0,get:function(){return!!t.delegateGet("isDisposed")}},computedOptions:{configurable:!0,get:function(){return t.delegateGet("getOption")}}}),this.chart=e}},initOptionsWatcher:function(){var t=this;this.__unwatchOptions&&(this.__unwatchOptions(),this.__unwatchOptions=null),this.manualUpdate||(this.__unwatchOptions=this.$watch("options",(function(e,a){!t.chart&&e?t.init():t.chart.setOption(e,e!==a)}),{deep:!this.watchShallow}))},destroy:function(){this.autoresize&&Object(o.b)(this.$el,this.__resizeHandler),this.dispose(),this.chart=null},refresh:function(){this.chart&&(this.destroy(),this.init())}},created:function(){var t=this;this.initOptionsWatcher(),l.forEach((function(e){t.$watch(e,(function(){t.refresh()}),{deep:!0})})),u.forEach((function(e){t.$watch(e,(function(){t.initOptionsWatcher(),t.refresh()}))}))},mounted:function(){this.options&&this.init()},activated:function(){this.autoresize&&this.chart&&this.chart.resize()},destroyed:function(){this.chart&&this.destroy()},connect:function(t){"string"!=typeof t&&(t=t.map((function(t){return t.chart}))),r.a.connect(t)},disconnect:function(t){r.a.disConnect(t)},registerMap:function(t,e,a){r.a.registerMap(t,e,a)},registerTheme:function(t,e){r.a.registerTheme(t,e)},graphic:r.a.graphic},p=a(0),m=Object(p.a)(d,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"echarts"})}),[],!1,null,null,null);e.a=m.exports},function(t,e,a){"use strict";a(12);var i=a(171),r={components:{XCountTo:a.n(i).a},props:{type:{type:String},num:{type:String|Number}},data:function(){return{keyword:"",bgPic:"library"===this.type?"/images/banner/library@2x.jpg":"/images/banner/course@2x.jpg"}},methods:{search:function(t){(this.keyword||t)&&this.$emit("search",this.keyword||t)}}},n=(a(1149),a(1150),a(0)),s=Object(n.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"course-banner",style:"background-image: url("+t.bgPic+");"},[a("div",{staticClass:"bbt-container"},["library"==t.type?a("h2",[a("nuxt-link",{staticClass:"link-light-major",attrs:{to:{name:"library"}}},[t._v("区块链文库")]),a("em",[t._v("收录文档数\n        "),a("x-count-to",{style:"display:inline-block;width:"+11*(t.num.length+1)+"px;text-align:center;",attrs:{startVal:0,endVal:Number.parseInt(t.num),duration:1500}}),t._v("份")],1)],1):a("h2",[a("nuxt-link",{staticClass:"link-light-major",attrs:{to:{name:"tutorials"}}},[t._v("区块链教程")]),a("em",[t._v("累计阅读量"),a("x-count-to",{style:"display:inline-block;width:"+11*(t.num.length+1)+"px;text-align:center;",attrs:{startVal:0,endVal:Number.parseInt(t.num),duration:1500}}),t._v("次")],1)],1),t._v(" "),a("div",{staticClass:"search-ipt"},[a("el-input",{attrs:{placeholder:"请输入关键词搜索"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),t._v(" "),a("span",{on:{click:t.search}},[a("bbt-icon",{attrs:{type:"search"}})],1)],1),t._v(" "),a("div",{staticClass:"search-hot"},[t._v("\n      热门搜索:\n      "),a("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.search("区块链")}}},[t._v("区块链")]),t._v(" "),a("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.search("比特币")}}},[t._v("比特币")]),t._v(" "),a("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.search("钱包")}}},[t._v("钱包")]),t._v(" "),a("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.search("跨链侧链")}}},[t._v("跨链侧链")]),t._v(" "),a("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.search("去中心化交易所")}}},[t._v("交易所")]),t._v(" "),a("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.search("区块链与人工智能")}}},[t._v("区块链与人工智能")])])])])}),[],!1,null,"2e9212e4",null);e.a=s.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},,function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},,,,function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6),a(23);var i=a(1),r=(a(31),a(4),a(3),a(19),a(12),a(2)),n=a(179),s=a(42),o=a(53),c={props:{sortMenu:{type:Array},currentOrderBy:{type:String|Number}},methods:{switchTab:function(t){t.type!==this.currentOrderBy&&this.$emit("switch",t)}}},l=(a(1308),a(0)),u=Object(l.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-filter"},[a("ul",{staticClass:"bbt-filter__sort"},t._l(t.sortMenu,(function(e,i){return a("li",{key:i,class:{active:e.type==t.currentOrderBy},on:{click:function(a){return t.switchTab(e)}}},[1==i?a("bbt-icon",{attrs:{type:"hot"}}):t._e(),t._v(t._s(e.name)+"\n    ")],1)})),0)])}),[],!1,null,"4a9064e3",null).exports,d=a(523),p=a(27);function m(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function f(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?m(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var h={components:{XBanner:n.a,XTab:s.a,XTagFilter:o.a,XSortFilter:u,XCourseListModule:d.a,XEmpty:p.a},validate:function(t){var e=t.params;return(!e.id||/^[1-9]+[0-9]*]*$/.test(e.id))&&(!e.page||/^[1-9]+[0-9]*]*$/.test(e.page))},watchQuery:["tag_id","order_by"],fetch:function(t){var e=t.store,a=(t.res,t.error),i=t.redirect,r=t.route,n=r.params,s=n.id,o=n.page,c=r.query,l=c.tag_id,u=c.order_by;if(1===Number(o))return i(301,{path:"/tutotials/".concat(s)});var d={};return"1"!=s&&(d.cat_id=s),l&&(d.tag_id=l),u&&(d.order_by=u),Promise.all([e.dispatch("tutorial/FETCH_TAG",{type:"tags"}),e.dispatch("tutorial/FETCH_CATEGORY",{type:"category"}).then((function(t){var e=[];if(t.map((function(t){e.push("".concat(t.id))})),s&&!e.includes(s))throw{code:404}})),e.dispatch("tutorial/FETCH_LIST",{params:f({page_size:28,order_by:"new",page:Number(o)||1},d),type:"lists"})]).catch((function(t){return t&&404===t.code?a({statusCode:404}):a({statusCode:500})}))},computed:f({},Object(r.c)({menu:function(t){return t.menu},tutorial:function(t){return t.tutorial}}),{id:function(){return this.$route.params.id||"1"},currentPage:function(){return Number(this.$route.params.page)||1},num:function(){return Number(this.tutorial.num.view_num)||0},tagData:function(){return this.tutorial.tags},menuData:function(){return this.tutorial.category},sortData:function(){return this.menu.course_type},courseData:function(){return this.tutorial.lists},totalNum:function(){return Number(this.tutorial.lists.total)||0},currentId:function(){return this.id},currentTagId:function(){return this.$route.query&&this.$route.query.tag_id},currentOrderBy:function(){return this.$route.query&&this.$route.query.order_by},currentIndex:function(){var t=this,e=0;return this.menuData.map((function(a,i){a.id==t.currentId&&(e=i)})),e}}),data:function(){return{isLoading:!1,pageSize:32}},watch:{$route:function(){this.isLoading=!1}},mounted:function(){Promise.all([this.$store.dispatch("tutorial/FETCH_NUM")]).catch((function(t){}))},methods:{search:function(t){this.$router.push({name:"search",query:{keyword:t,type:"tutorial"}})},switchTab:function(t){this.isLoading||this.currentId==t.id||(this.isLoading=!0,this.$router.push({name:"tutorials-id",params:{id:"".concat(t.id)}}))},switchSubTab:function(t){this.isLoading||this.currentTagId==t.id||(this.isLoading=!0,this.$router.push({name:"tutorials-id",params:{id:"".concat(this.currentId)},query:{tag_id:t.id,order_by:this.currentOrderBy}}))},switchOrderTab:function(t){this.isLoading||this.currentOrderBy==t.type||(this.isLoading=!0,this.$router.push({name:"tutorials-id",params:{id:"".concat(this.currentId)},query:{tag_id:this.currentTagId,order_by:t.type}}))},changePage:function(t){this.isLoading||(this.isLoading=!0,t>1?this.$router.push({name:"tutorials-id-:page",params:{id:"".concat(this.currentId),page:"".concat(t)},query:{tag_id:this.currentTagId,order_by:this.currentOrderBy}}):this.$router.push({name:"tutorials-id",params:{id:"".concat(this.currentId)},query:{tag_id:this.currentTagId,order_by:this.currentOrderBy}}))},getName:function(){var t=this,e="全部";return this.menuData.map((function(a,i){a.id==t.currentId&&(e=a.name)})),e}},head:function(){return{title:this.currentPage>1?"第".concat(this.currentPage,"页 - ").concat(this.getName()," - 区块链教程"):"".concat(this.getName()," - 区块链教程"),meta:[{hid:"description",name:"description",content:"本栏目为用户提供通俗易懂的区块链入门教程，包括比特币交易与投资指南、区块链是什么、区块链技术原理、比特币以太坊挖矿软件使用教程等。"}]}}},v=(a(1309),a(1310),Object(l.a)(h,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main bbt-main"},[a("div",{staticClass:"banner-section"},[a("x-banner",{attrs:{num:t.num,type:"course"},on:{search:t.search}}),t._v(" "),t.menuData.length?a("div",{staticClass:"tab-wrap"},[a("div",{staticClass:"tab-wrap__relative"},[a("div",{staticClass:"bbt-container"},[a("x-tab",{staticStyle:{"margin-bottom":"0"},attrs:{menu:t.menuData,currentId:t.currentId,currentIndex:t.currentIndex},on:{switch:t.switchTab}})],1)])]):t._e()],1),t._v(" "),a("div",{staticClass:"bbt-container"},[t.tagData.length?a("x-tag-filter",{staticStyle:{margin:"32px 0 24px 0"},attrs:{isNeedMore:!0,menu:t.tagData,currentId:t.currentTagId},on:{switch:t.switchSubTab}}):t._e(),t._v(" "),a("x-sort-filter",{attrs:{sortMenu:t.sortData,currentOrderBy:t.currentOrderBy},on:{switch:t.switchOrderTab}}),t._v(" "),a("bbt-loading",{style:t.isLoading?"min-height: 1000px;":"",attrs:{loading:t.isLoading}},[t.courseData.list.length?a("x-course-list-module",{attrs:{data:t.courseData.list,span:6}}):a("x-empty",[t._v("暂无数据")]),t._v(" "),t.totalNum>t.pageSize?a("el-pagination",{staticStyle:{margin:"48px 0 0 0"},attrs:{layout:t.totalNum>320?"prev, pager, next, jumper":"prev, pager, next","current-page":t.currentPage,"page-size":t.pageSize,total:t.totalNum},on:{"current-change":t.changePage}}):t._e()],1)],1)])}),[],!1,null,"8c45a142",null));e.default=v.exports},function(t,e,a){"use strict";var i={components:{XCountdown:a(106).a},props:{data:{type:Object}},computed:{isStart:function(){return 1e3*this.data.activity.starttimefrom<=(new Date).getTime()},isEnd:function(){return 1e3*this.data.activity.starttimeto<=(new Date).getTime()}},methods:{start_callback:function(){this.isStart=!0},end_callback:function(){this.isEnd=!0}}},r=(a(1125),a(0)),n=Object(r.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main__header"},[a("div",{staticClass:"header__bg"},[t.data.activity&&(t.data.activity.thumb||t.data.activity.attachurl)?a("div",{style:{"background-image":"url("+(t.data.activity.thumb||t.data.activity.attachurl||"/images/default/news.jpg")+")"}},[a("span")]):t._e()]),t._v(" "),a("div",{staticClass:"header__main"},[a("div",{staticClass:"bbt-container"},[a("div",{staticClass:"ama-block bbt-clearfix"},[a("div",{staticClass:"ama-block__index"},[t._v("\n          "+t._s(t.data.activity.place)+"\n          "),a("i")]),t._v(" "),a("div",{staticClass:"ama-block__image"},[a("nuxt-link",{attrs:{to:{name:"ama-id",params:{id:""+(t.data.tid||t.data.id)},query:t.isStart||t.isEnd?{sort:"hot"}:""},target:"_blank"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:t.data.activity&&(t.data.activity.thumb||t.data.activity.attachurl),error:"/images/default/news.jpg",loading:"/images/default/news.jpg"},expression:"{\n                src:\n                  data.activity &&\n                  (data.activity.thumb || data.activity.attachurl),\n                error: '/images/default/news.jpg',\n                loading: '/images/default/news.jpg',\n              }"}],attrs:{src:"/images/default/news.jpg"}})])],1),t._v(" "),a("div",{staticClass:"ama-block__info"},[a("h6",[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"ama-id",params:{id:""+(t.data.tid||t.data.id)},query:t.isStart||t.isEnd?{sort:"hot"}:""},target:"_blank"}},[t._v(t._s(t.data.title))])],1),t._v(" "),t.data.activity.guest?a("p",[a("span",[t._v("嘉宾")]),t._v("\n            "+t._s(t.data.activity.guest)+"\n          ")]):t._e(),t._v(" "),a("p",{domProps:{innerHTML:t._s(t.data.desc||t.data.content)}}),t._v(" "),t.isStart||t.isEnd?t.isStart&&!t.isEnd?a("div",{staticClass:"timestamp"},[t._v("\n            距离结束还有:\n            "),a("x-countdown",{attrs:{time:t.data.activity.starttimeto,type:"1"},on:{end_callback:t.end_callback}}),t._v(" "),a("span",[t._v("参与人数："+t._s(t.data.replies))])],1):a("div",{staticClass:"timestamp"},[a("span",[t._v("已结束")]),t._v(" "),a("span",[t._v("参与人数："+t._s(t.data.replies))])]):a("div",{staticClass:"timestamp"},[t._v("\n            距离开始还有:\n            "),a("x-countdown",{attrs:{time:t.data.activity.starttimefrom,type:"0"},on:{start_callback:t.start_callback}}),t._v(" "),a("span",[t._v("参与人数："+t._s(t.data.replies))])],1)])])])])])}),[],!1,null,"7df8ed4a",null);e.a=n.exports},function(t,e,a){"use strict";var i={props:{title:{type:String},desc:{type:String},btnconfig:{type:Object}},methods:{releasePost:function(){this.$emit("release")}}},r=(a(1130),a(0)),n=Object(r.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"event-card"},[a("h5",[a("strong",[t._v(t._s(t.title))]),a("span",[t._v(t._s(t.desc))]),t._v(" "),t.btnconfig?a("span",["release"==t.btnconfig.type?a("bbt-btn",{attrs:{type:"primary",size:"lg"},on:{click:t.releasePost}},[a("bbt-icon",{attrs:{type:"report"}}),t._v(" 发布活动")],1):a("nuxt-link",{staticClass:"link-dark-minor",attrs:{target:"_blank",to:t.btnconfig.path}},[t._v("更多 "),a("bbt-icon",{attrs:{type:"right"}})],1)],1):t._e()]),t._v(" "),t._t("default")],2)}),[],!1,null,"5ecb1d9c",null);e.a=n.exports},function(t,e,a){"use strict";var i={props:{data:{type:Array}}},r=(a(1507),a(1508),a(0)),n=Object(r.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"margin-bottom":"42px","margin-top":"-8px"}},t._l(t.data,(function(e,i){return a("div",{key:i,staticClass:"library-item-wrap"},[a("div",{staticClass:"library-item bbt-clearfix"},[a("div",{staticClass:"library-item__thumb"},[a("nuxt-link",{staticClass:"link-dark-major",attrs:{target:"_blank",to:{name:"doc-id",params:{id:""+e.docid}}}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.img,error:"/images/default/docs.jpg",loading:"/images/default/docs.jpg"},expression:"{\n              src: item.img,\n              error: '/images/default/docs.jpg',\n              loading: '/images/default/docs.jpg',\n            }"}],staticClass:"img-full",attrs:{src:"/images/default/docs.jpg"}})])],1),t._v(" "),a("div",{staticClass:"library-item__info"},[a("div",{staticClass:"library-item__title"},[a("bbt-icon",{staticStyle:{color:"#E32C28","font-size":"16px"},attrs:{type:"library"}}),t._v(" "),a("nuxt-link",{staticClass:"link-dark-major",attrs:{target:"_blank",to:{name:"doc-id",params:{id:""+e.docid}}}},[t._v(t._s(e.title))]),t._v(" "),a("span",[a("bbt-icon",{staticStyle:{color:"#FDB500","font-size":"16px"},attrs:{type:"reward"}}),t._v("\n            "+t._s(Math.abs(e.downpay)))],1)],1),t._v(" "),a("div",{staticClass:"library-item__desc"},[t._v(t._s(e.short))]),t._v(" "),a("div",{staticClass:"library-item__num"},[a("span",[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:e.avatar_img.small,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                src: item.avatar_img.small,\n                error: '/images/default/avatar.gif',\n                loading: '/images/default/avatar.gif',\n              }",arg:"background-image"}]}),t._v("\n            "+t._s(e.username))]),t._v(" "),a("span",{staticClass:"bbt-dot"}),t._v(" "),a("span",[t._v(t._s(e.uploaddate))]),t._v(" "),a("span",{staticClass:"bbt-dot"}),t._v(" "),a("span",[a("span",[a("bbt-icon",{staticStyle:{"font-size":"12px"},attrs:{type:"eye"}}),t._v("\n              "+t._s(e.viewcount)+"\n            ")],1),t._v(" "),a("span",{staticStyle:{"margin-left":"8px"}},[a("bbt-icon",{staticStyle:{"font-size":"12px"},attrs:{type:"download"}}),t._v("\n              "+t._s(e.downcount)+"\n            ")],1)]),t._v(" "),a("el-rate",{staticStyle:{display:"inline-block","margin-left":"8px","vertical-align":"top"},attrs:{disabled:"","show-score":"","allow-half":""},model:{value:e.score,callback:function(a){t.$set(e,"score",a)},expression:"item.score"}})],1)])])])})),0)}),[],!1,null,"65e3dacd",null);e.a=n.exports},function(t,e,a){"use strict";a(31),a(39);var i=a(20),r=(a(538),{props:{actDateList:{type:Array},actList:{type:Object},skin:{type:String,default:"dark"}},data:function(){return{isLoading:!1,isShow:!1,weekList:[],dayFullList:[],panelYear:(new Date).getFullYear(),panelMonth:(new Date).getMonth(),firstDay:"",lastDay:"",prevLastDay:"",firstDayisWhat:""}},methods:{dateInit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(new Date).getFullYear(),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(new Date).getMonth(),a=this,r=t,n=e;a.panelYear=t,a.panelMonth=e,a.firstDay=new Date(r,n,1).getDate(),a.lastDay=new Date(r,n+1,0).getDate(),a.firstDayisWhat=new Date(r,n,1).getDay();for(var s=new Array(a.firstDayisWhat).fill(0),o=new Array(42-a.lastDay-a.firstDayisWhat).fill(0),c=[],l=1;l<=a.lastDay;l++)c.push("".concat(a.panelYear).concat(a.addPreZero(a.panelMonth+1)).concat(a.addPreZero(l)));a.dayFullList=[].concat(Object(i.a)(s),c,Object(i.a)(o)),a.prevLastDay=0==n?new Date(r-1,12,0).getDate():new Date(r,n,0).getDate()},subMonth:function(){this.panelMonth>0?this.panelMonth--:(this.panelYear=--this.panelYear,this.panelMonth=11)},addMonth:function(){this.panelMonth<11?this.panelMonth++:(this.panelYear=++this.panelYear,this.panelMonth=0)},addPreZero:function(t){return t>9?t:"0".concat(t)},removePreZero:function(t){return parseInt(t)},isAct:function(t){return this.actDateList&&this.actDateList.includes(t)},isToday:function(t){return"".concat((new Date).getFullYear()).concat(this.addPreZero((new Date).getMonth()+1)).concat(this.addPreZero((new Date).getDate()))==t},mouseover:function(t){var e=this;this.isAct(t)&&!this.isLoading&&(this.isLoading=!0,this.$store.dispatch("activity/FETCH_LIST",{params:{module:"calendar",current_time:new Date("".concat(this.panelYear,"-").concat(this.panelMonth+1,"-").concat(t.slice(-2)," 00:00:00")).getTime()/1e3},type:"calendar"}).then((function(t){e.isShow=!0,e.isLoading=!1})).catch((function(){e.isLoading=!1})))},mouseout:function(t){this.isShow=!1,this.$store.commit("activity/SET_LIST",{data:{total:0,list:[]},type:"calendar"})}},watch:{panelMonth:function(t,e){this.dateInit(this.panelYear,this.panelMonth),this.$emit("change",this.panelYear,this.panelMonth)}},mounted:function(){this.dateInit()}}),n=(a(1131),a(0)),s=Object(n.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"calendar-module",class:"skin-"+t.skin},[a("div",{staticClass:"calendar-years"},[a("div",{staticClass:"calendar-prev",on:{click:t.subMonth}},[a("i")]),t._v(" "),a("div",{staticClass:"calendar-middle"},[t._v(t._s(t.panelYear)+"年"+t._s(t.panelMonth+1)+"月")]),t._v(" "),a("div",{staticClass:"calendar-next",on:{click:t.addMonth}},[a("i")])]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"calendar-days bbt-clearfix"},t._l(t.dayFullList,(function(e,i){return a("div",{key:i,staticClass:"calendar-days__items",on:{mouseleave:function(a){return t.mouseout(e)}}},[0!=e&&t.isToday(e)?a("button",[t.isAct(e)?a("a",{staticClass:"calendar-days__item isact istoday",attrs:{href:"javascript:;"},on:{mouseenter:function(a){return t.mouseover(e)}}},[t._v("\n          今\n        ")]):a("a",{staticClass:"calendar-days__item istoday",attrs:{href:"javascript:;"}},[t._v("今")])]):0==e||t.isToday(e)?a("button",[i<t.firstDayisWhat?a("a",{staticClass:"calendar-days__item disabled",attrs:{href:"javascript:;"},on:{click:t.subMonth}},[t._v("\n          "+t._s(t.prevLastDay-t.firstDayisWhat+i+1)+"\n        ")]):a("a",{staticClass:"calendar-days__item disabled",attrs:{href:"javascript:;"},on:{click:t.addMonth}},[t._v("\n          "+t._s(i-t.lastDay-t.firstDayisWhat+1)+"\n        ")])]):a("button",[t.isAct(e)?a("a",{staticClass:"calendar-days__item isact",attrs:{href:"javascript:;"},on:{mouseenter:function(a){return t.mouseover(e)}}},[t._v("\n          "+t._s(t._f("filterDay")(e))+"\n        ")]):a("a",{staticClass:"calendar-days__item",attrs:{href:"javascript:;"}},[t._v(t._s(t._f("filterDay")(e)))])]),t._v(" "),t.isAct(e)&&t.actList.list&&t.actList.list.length&&t.isShow?a("div",{staticClass:"act-list"},[a("ul",t._l(t.actList.list,(function(e,i){return a("li",{key:i},[a("nuxt-link",{staticClass:"bbt-block text-overflow",attrs:{to:{name:"event-id",params:{id:""+e.tid}},target:"_blank",title:e.title}},[t._v(t._s(e.title))])],1)})),0)]):t._e()])})),0)])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"calendar-weeks bbt-clearfix"},[a("span",[t._v("日")]),t._v(" "),a("span",[t._v("一")]),t._v(" "),a("span",[t._v("二")]),t._v(" "),a("span",[t._v("三")]),t._v(" "),a("span",[t._v("四")]),t._v(" "),a("span",[t._v("五")]),t._v(" "),a("span",[t._v("六")])])}],!1,null,"0f229c4b",null);e.a=s.exports},function(t,e,a){"use strict";a(12);var i={props:{data:{type:Array},span:{type:Number,default:6}}},r=(a(1182),a(0)),n=Object(r.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("bbt-row",t._l(t.data,(function(e,i){return a("bbt-col",{key:i,attrs:{span:{xs:t.span}}},[a("div",{staticClass:"course-item"},[a("div",{staticClass:"course-item__thumb"},["news"==e.idtype?a("a",{attrs:{rel:"noopener",href:"https://www.8btc.com/article/"+e.post_id,target:"_blank"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:"https://bbtcdn.8btc.com/data/attachment/"+e.pic,error:"/images/default/news.jpg",loading:"/images/default/news.jpg"},expression:"{\n              src: `https://bbtcdn.8btc.com/data/attachment/${item.pic}`,\n              error: '/images/default/news.jpg',\n              loading: '/images/default/news.jpg',\n            }"}],staticClass:"img-full",attrs:{src:"/images/default/news.jpg"}})]):"video"==e.idtype?a("a",{attrs:{rel:"noopener",href:"https://www.8btc.com/video/"+e.post_id,target:"_blank"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:"https://bbtcdn.8btc.com/data/attachment/"+e.pic,error:"/images/default/news.jpg",loading:"/images/default/news.jpg"},expression:"{\n              src: `https://bbtcdn.8btc.com/data/attachment/${item.pic}`,\n              error: '/images/default/news.jpg',\n              loading: '/images/default/news.jpg',\n            }"}],staticClass:"img-full",attrs:{src:"/images/default/news.jpg"}})]):"aid"==e.idtype?a("nuxt-link",{attrs:{to:{name:"tutorial-id",params:{id:""+e.id}},target:"_blank"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:"https://bbtcdn.8btc.com/data/attachment/"+e.pic,error:"/images/default/news.jpg",loading:"/images/default/news.jpg"},expression:"{\n              src: `https://bbtcdn.8btc.com/data/attachment/${item.pic}`,\n              error: '/images/default/news.jpg',\n              loading: '/images/default/news.jpg',\n            }"}],staticClass:"img-full",attrs:{src:"/images/default/news.jpg"}})]):"bbs"==e.idtype?a("nuxt-link",{attrs:{to:{name:"post-id",params:{id:""+e.tid}},target:"_blank"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:"https://bbtcdn.8btc.com/data/attachment/"+e.pic,error:"/images/default/news.jpg",loading:"/images/default/news.jpg"},expression:"{\n              src: `https://bbtcdn.8btc.com/data/attachment/${item.pic}`,\n              error: '/images/default/news.jpg',\n              loading: '/images/default/news.jpg',\n            }"}],staticClass:"img-full",attrs:{src:"/images/default/news.jpg"}})]):"allow"==e.idtype?a("a",{attrs:{href:e.url,target:"_blank",rel:"noopener"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:"https://bbtcdn.8btc.com/data/attachment/"+e.pic,error:"/images/default/news.jpg",loading:"/images/default/news.jpg"},expression:"{\n              src: `https://bbtcdn.8btc.com/data/attachment/${item.pic}`,\n              error: '/images/default/news.jpg',\n              loading: '/images/default/news.jpg',\n            }"}],staticClass:"img-full",attrs:{src:"/images/default/news.jpg"}})]):t._e()],1),t._v(" "),a("div",{staticClass:"course-item__info"},[a("div",{staticClass:"course-item__title"},["news"==e.idtype?a("a",{staticClass:"link-dark-major",attrs:{rel:"noopener",href:"https://www.8btc.com/article/"+e.post_id,target:"_blank"}},[t._v("\n            "+t._s(e.title)+"\n          ")]):t._e(),t._v(" "),"video"==e.idtype?a("a",{staticClass:"link-dark-major",attrs:{rel:"noopener",href:"https://www.8btc.com/video/"+e.post_id,target:"_blank"}},[t._v("\n            "+t._s(e.title)+"\n          ")]):t._e(),t._v(" "),"aid"==e.idtype?a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"tutorial-id",params:{id:""+e.id}},target:"_blank"}},[t._v("\n            "+t._s(e.title)+"\n          ")]):"bbs"==e.idtype?a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"post-id",params:{id:""+e.tid}},target:"_blank"}},[t._v("\n            "+t._s(e.title)+"\n          ")]):"allow"==e.idtype?a("a",{staticClass:"link-dark-major",attrs:{href:e.url,target:"_blank",rel:"noopener"}},[t._v("\n            "+t._s(e.title)+"\n          ")]):t._e()],1),t._v(" "),a("div",{staticClass:"course-item__num"},[a("span",[a("bbt-icon",{attrs:{type:"eye"}}),t._v(" "+t._s(e.viewnum)+" ")],1),t._v(" "),a("span",[a("bbt-icon",{attrs:{type:"comment"}}),t._v(" "+t._s(e.commentnum)+"\n          ")],1)])])])])})),1)}),[],!1,null,"e3d6463e",null);e.a=n.exports},function(t,e,a){"use strict";var i={props:{data:{type:Array},styles:{type:String}},computed:{isFromQkl:function(){return"V8VMS3"==this.$route.query.c}}},r=a(0),n=Object(r.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("bbt-crumb",{staticStyle:{"margin-bottom":"0"},attrs:{type:t.styles,icon:"right"}},[a("bbt-crumb-item",[a("nuxt-link",{attrs:{to:{name:"mall",query:t.isFromQkl?{c:"V8VMS3"}:{}}}},[a("bbt-icon",{staticStyle:{"font-size":"12px"},attrs:{type:"home"}}),t._v(" 链作商城\n      ")],1)],1),t._v(" "),t.data[1]&&t.data[1].id?a("bbt-crumb-item",[a("nuxt-link",{attrs:{to:{name:"mall-category",query:t.isFromQkl?{id:""+t.data[1].id,c:"V8VMS3"}:{id:""+t.data[1].id}}}},[t._v(t._s(t.data[1].name))])],1):t._e(),t._v(" "),a("bbt-crumb-item",[t._v("\n      "+t._s(t.data[t.data.length-1].name)+"\n    ")])],1)],1)}),[],!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";var i={props:{isVisible:{type:Boolean},title:{type:String,default:"确认操作"}},methods:{cancel:function(){this.$emit("cancel")},confirm:function(){this.$emit("confirm")}}},r=a(0),n=Object(r.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:t.title,visible:t.isVisible,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":!0,width:"400px"},on:{"update:visible":function(e){t.isVisible=e}}},[t._t("default"),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("bbt-btn",{staticStyle:{"margin-right":"16px"},attrs:{type:"default",size:"sm"},on:{click:t.cancel}},[t._v("取 消")]),t._v(" "),a("bbt-btn",{attrs:{type:"primary",size:"sm"},on:{click:t.confirm}},[t._v("确 定")])],1)],2)}),[],!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";a(31),a(39);var i={props:{data:{type:Object},params:{type:Object},type:{type:String},isTech:{type:Boolean,default:!1}},data:function(){return{ruleForm:{set:[null,this.data.status&&this.data.status.hidden_replies?2:null,this.data.replycredit&&this.data.replycredit_rule?3:null,this.data.rushreply&&this.data.rushreply.tid?4:null,this.data.isprice?5:null]}}},created:function(){this.changeCheckbox()},methods:{changeCheckbox:function(){this.ruleForm.set.includes(3)?this.$emit("show",3,!0):this.$emit("show",3,!1),this.ruleForm.set.includes(4)?this.$emit("show",4,!0):this.$emit("show",4,!1),this.ruleForm.set.includes(5)?this.$emit("show",5,!0):this.$emit("show",5,!1)}}},r=(a(1405),a(0)),n=Object(r.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.params.status2||"3"!=t.type&&t.params.status3||!t.isTech&&t.params.status4||"0"==t.type&&!t.isTech&&t.params.status5?a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    其他设置\n  ")]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[a("el-form",{ref:"ruleForm",staticClass:"bbt-clearfix",attrs:{model:t.ruleForm,"label-width":"0px"}},[a("el-form-item",{attrs:{for:"set"}},[a("el-checkbox-group",{on:{change:t.changeCheckbox},model:{value:t.ruleForm.set,callback:function(e){t.$set(t.ruleForm,"set",e)},expression:"ruleForm.set"}},[t.params.status2?a("el-checkbox",{attrs:{label:2,name:"set"}},[t._v("回帖仅作者可见")]):t._e(),t._v(" "),"3"!==t.type&&t.params.status3?a("el-checkbox",{attrs:{label:3,name:"set"}},[t._v("回帖奖励")]):t._e(),t._v(" "),!t.isTech&&"3"!==t.type&&t.params.status4?a("el-checkbox",{attrs:{label:4,name:"set"}},[t._v("抢楼主题")]):t._e(),t._v(" "),"0"==t.type&&!t.isTech&&t.params.status5?a("el-checkbox",{attrs:{label:5,name:"set"}},[t._v("付费主题")]):t._e()],1)],1)],1)],1)]):t._e()}),[],!1,null,"ab4bd894",null);e.a=n.exports},function(t,e,a){"use strict";var i={props:{data:{type:Array}}},r=(a(1163),a(0)),n=Object(r.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("bbt-row",t._l(t.data,(function(e,i){return a("bbt-col",{key:i,attrs:{span:{xs:6}}},[a("div",{staticClass:"block-item"},[a("nuxt-link",{attrs:{to:{name:"forum-id",params:{id:""+(e.fid||e.id)}},target:"_blank"}},[a("div",{staticClass:"block-item__info"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.icon,error:"/images/default/project.jpg",loading:"/images/default/project.jpg"},expression:"{\n                src: v.icon,\n                error: '/images/default/project.jpg',\n                loading: '/images/default/project.jpg',\n              }"}],attrs:{src:"/images/default/project.jpg"}}),t._v(" "),a("div",[a("h3",[t._v("\n                "+t._s(e.name||e.subject)),Number.parseInt(e.todayposts)>0?a("span",[t._v(t._s(e.todayposts))]):t._e()]),t._v(" "),a("p",[t._v("\n                主题："+t._s(t._f("num_to_thousand")(e.threads))+"\n                "),a("span",{staticClass:"bbt-dot"}),t._v("\n                帖数："+t._s(t._f("num_to_thousand")(e.posts))+"\n              ")])])]),t._v(" "),e.description||e.desc?a("div",{staticClass:"block-item__desc"},[t._v("\n            "+t._s(e.description||e.desc)+"\n          ")]):t._e()])],1)])})),1)],1)}),[],!1,null,"391df2ff",null);e.a=n.exports},function(t,e,a){"use strict";var i=a(171),r={props:{data:{type:Object},hideBtn:{type:Boolean}},components:{XCountTo:a.n(i).a}},n=(a(1162),a(0)),s=Object(n.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"banner"},[a("div",{staticClass:"bbt-container"},[t._m(0),t._v(" "),a("ul",[a("li",[a("p",{staticClass:"label"},[t._v("成员")]),t._v(" "),a("p",{staticClass:"count"},[a("x-count-to",{attrs:{startVal:t.data.pre_member,endVal:t.data.member,duration:1500}})],1)]),t._v(" "),a("li",[a("p",{staticClass:"label"},[t._v("内容")]),t._v(" "),a("p",{staticClass:"count"},[a("x-count-to",{attrs:{startVal:t.data.pre_content,endVal:t.data.content,duration:1500}})],1)]),t._v(" "),a("li",[a("p",{staticClass:"label"},[t._v("互动")]),t._v(" "),a("p",{staticClass:"count"},[a("x-count-to",{attrs:{startVal:t.data.pre_interact,endVal:t.data.interact,duration:1500}})],1)])]),t._v(" "),t.hideBtn?t._e():a("nuxt-link",{staticClass:"bbt-btn bbt-btn-add",attrs:{to:"/nodes/initialization",target:"_blank"}},[a("bbt-icon",{staticStyle:{"font-size":"24px","font-weight":"normal",position:"relative",top:"3px"},attrs:{type:"add-node"}}),t._v("创建节点\n    ")],1)],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("h2",[e("strong",[this._v("一链一宇宙，一星一节点")])])}],!1,null,"33fde45b",null);e.a=s.exports},function(t,e,a){"use strict";var i={props:{data:Array,title:String,catId:String},computed:{isFromQkl:function(){return"V8VMS3"==this.$route.query.c}},data:function(){return{swiperOption:{loop:!!(this.data&&this.data.length>1),slidesPerView:"auto",centeredSlides:!0,lazy:!0,effect:"fade",autoplay:{delay:4e3},pagination:{el:".swiper-pagination"}}}}},r=(a(1160),a(0)),n=Object(r.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data&&t.data.length?a("div",{staticClass:"product-list"},[t.title?a("div",{staticClass:"product-list__title"},[t._v("\n    "+t._s(t.title)+"\n  ")]):t._e(),t._v(" "),a("div",{staticClass:"product-list__body"},t._l(t.data,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"product-item"},[a("nuxt-link",{attrs:{to:{name:"mall-item-id",params:{id:""+e.item_id},query:t.isFromQkl?{cat_id:""+t.catId,c:"V8VMS3"}:{cat_id:""+t.catId}},target:"_blank"}},[a("div",{staticClass:"product-item__thumb"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.image_list[0].url,error:"/images/default/item_sm.png",loading:"/images/default/item_sm.png"},expression:"{\n                src: item.image_list[0].url,\n                error: '/images/default/item_sm.png',\n                loading: '/images/default/item_sm.png',\n              }"}],attrs:{src:"/images/default/item_sm.png"}})]),t._v(" "),a("div",{staticClass:"product-item__info"},[a("h4",[e.tag_name?a("span",{staticClass:"product-item__tag"},[t._v(t._s(e.tag_name))]):t._e(),t._v(t._s(e.item_name)+"\n            ")]),t._v(" "),a("p",[a("span",{staticClass:"product-item__price handle_price"},[t._v("¥"+t._s(t._f("handlePrice")(e.price/100)))]),t._v(" "),e.show_price?a("span",{staticClass:"product-item__price handle_price"},[t._v("¥"+t._s(t._f("handlePrice")(e.show_price/100)))]):t._e()])])])],1)])})),0)]):t._e()}),[],!1,null,"cee5f9dc",null);e.a=n.exports},function(t,e,a){"use strict";a(12);var i={props:{data:{type:Array},span:{type:Number,default:6}}},r=(a(1153),a(1154),a(0)),n=Object(r.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("bbt-row",t._l(t.data,(function(e,i){return a("bbt-col",{key:i,attrs:{span:{xs:t.span}}},[a("div",{staticClass:"library-item bbt-clearfix"},[a("div",{staticClass:"library-item__thumb"},[a("nuxt-link",{attrs:{to:{name:"doc-id",params:{id:""+e.docid}},target:"_blank"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.img,error:"/images/default/docs.jpg",loading:"/images/default/docs.jpg"},expression:"{\n              src: item.img,\n              error: '/images/default/docs.jpg',\n              loading: '/images/default/docs.jpg',\n            }"}],staticClass:"img-full",attrs:{src:"/images/default/docs.jpg"}})])],1),t._v(" "),a("div",{staticClass:"library-item__body"},[a("div",{staticClass:"library-item__title"},[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"doc-id",params:{id:""+e.docid}},target:"_blank"}},[t._v("\n            "+t._s(e.title)+"\n          ")])],1),t._v(" "),a("div",{staticClass:"library-item__info"},[a("span",[a("bbt-icon",{attrs:{type:"eye"}}),t._v(" "+t._s(e.viewcount)+" ")],1),t._v(" "),a("span",{staticStyle:{"margin-left":"8px"}},[a("bbt-icon",{attrs:{type:"download"}}),t._v(" "+t._s(e.downcount)+"\n          ")],1)]),t._v(" "),a("div",{staticClass:"library-item__star"},[a("el-rate",{attrs:{disabled:"","allow-half":""},model:{value:e.score,callback:function(a){t.$set(e,"score",a)},expression:"item.score"}})],1)])])])})),1)}),[],!1,null,"404ea097",null);e.a=n.exports},function(t,e,a){"use strict";a(7),a(5),a(4),a(3),a(6),a(25),a(12);var i=a(1),r=a(2),n=a(52),s=a(537);function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var c={mixins:[n.a,s.a],props:{data:{type:Object},canEdit:{type:Boolean,default:!0}},data:function(){return{openStatus:{status0:!1,status1:!1,status2:!1,status3:!1,status4:!1,status5:!1,status6:!1,status7:!1,status8:!1,status9:!1,status10:!1,status11:!1,status12:!1,status13:!1,status14:!1}}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(r.c)({userinfo:function(t){return t.userinfo},menu:function(t){return t.menu},comment:function(t){return t.comment}}),{uid:function(){return this.userinfo.uid},tid:function(){return this.$route.params.id},currentPage:function(){return Number(this.$route.params.page)||1},menuData:function(){return this.menu.ama_comment},commentData:function(){return this.comment.items[this.tid]},totalNum:function(){return Number.parseInt(this.comment.items[this.tid].totalcount)},totalStickNum:function(){return Number.parseInt(this.comment.items[this.tid].sticktotal)||0},currentId:function(){return void 0!==this.$route.query.sort?this.$route.query.sort:0},currentIndex:function(){var t=this,e=0;return this.menuData.map((function(a,i){a.id==t.currentId&&(e=i)})),e},emojiNum:function(){for(var t=[],e=0;e<=71;e++)t.push(e);return t}}),watch:{$route:function(){this.isLoading=!1,this.openStatus={status0:!1,status1:!1,status2:!1,status3:!1,status4:!1,status5:!1,status6:!1,status7:!1,status8:!1,status9:!1,status10:!1,status11:!1,status12:!1,status13:!1,status14:!1}}},methods:{toggleSubcomment:function(t){this.openStatus["status".concat(t)]=!this.openStatus["status".concat(t)]}}},l=(a(1449),a(1450),a(0)),u=Object(l.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"comment-module",attrs:{id:"comment"}},[a("div",{staticClass:"comment-module__guide"},[a("x-tab",{attrs:{size:"lg",menu:t.menuData,currentId:t.currentId,currentIndex:t.currentIndex},on:{switch:t.switchTab}})],1),t._v(" "),t.commentData&&t.commentData.list&&t.commentData.list.length?a("bbt-loading",{style:t.isLoading?"min-height: 1000px;":"",attrs:{loading:t.isLoading}},[a("ul",{staticClass:"comment-module__list"},t._l(t.commentData.list,(function(e,i){return e.author_info&&e.author_info.id?a("li",{key:i,staticClass:"comment",attrs:{id:t.totalStickNum>i&&e.isstick?"pid_stick"+e.pid:"pid"+e.pid}},[a("div",{staticClass:"comment__body"},[a("div",{staticClass:"comment__title"},[a("nuxt-link",{staticClass:"link-dark-major comment__author",attrs:{to:"/user/"+e.author_info.id,target:"_blank"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.author_info.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                  src: item.author_info.avatar,\n                  error: '/images/default/avatar.gif',\n                  loading: '/images/default/avatar.gif',\n                }"}],staticClass:"bbt-avatar bbt-avatar--sm",staticStyle:{"margin-right":"8px"},attrs:{src:"/images/default/avatar.gif"}}),t._v("\n              "+t._s(e.author_info.name)+"\n            ")]),t._v(" "),a("span",{staticClass:"comment__level"},[t._v("\n              "+t._s(e.author_info.group_title)+"\n            ")]),t._v(" "),a("span",{staticClass:"comment__time"},[t._v("\n              发表于"+t._s(t._f("timeGMT")(e.post_date))+"\n            ")]),t._v(" "),t.data.replycredit_rule&&e.replycredit?a("span",{staticClass:"comment__tag"},[a("bbt-icon",{staticStyle:{"font-size":"20px",color:"#FDB500","font-weight":"normal",position:"relative",top:"2px"},attrs:{type:"reward"}}),t._v("金币 +"+t._s(t.data.replycredit_rule.extcredits))],1):t._e(),t._v(" "),a("div",{staticClass:"comment__action"},[t.canManage?a("div",{staticClass:"comment__action-item link-dark-minor",attrs:{href:"javascript:;"}},[a("x-admin-bar",{attrs:{data:t.data,manageReply:t.manageReply,comment:e,pid:e.pid,forbiddenId:e.author_info.id,area:"comment"}})],1):t._e(),t._v(" "),t.manageReply&&t.manageReply.editreply?a("a",{staticClass:"link-dark-minor comment__action-item",attrs:{href:"javascript:;"},on:{click:function(e){return t.edit(i,-1)}}},[a("bbt-icon",{attrs:{type:"report"}}),t._v("编辑\n              ")],1):t._e(),t._v(" "),"0"==e.attitude?a("a",{staticClass:"comment__action-item link-dark-minor",attrs:{href:"javascript:;"},on:{click:function(a){return t.like(e.pid,e.tid,i,-1,0)}}},[a("bbt-icon",{attrs:{type:"thumb-up"}}),t._v(" "+t._s(e.like)+" 赞\n              ")],1):a("a",{staticClass:"comment__action-item link-primary",attrs:{href:"javascript:;"},on:{click:function(a){return t.like(e.pid,e.tid,i,-1,0)}}},[a("bbt-icon",{attrs:{type:"thumb-up"}}),t._v(" "+t._s(e.like)+" 赞\n              ")],1),t._v(" "),"0"==e.isagainst?a("a",{staticClass:"comment__action-item link-dark-minor",attrs:{href:"javascript:;"},on:{click:function(a){return t.like(e.pid,e.tid,i,-1,1)}}},[a("bbt-icon",{attrs:{type:"thumb-down"}}),t._v(" "+t._s(e.against)+" 踩\n              ")],1):a("a",{staticClass:"comment__action-item link-primary",attrs:{href:"javascript:;"},on:{click:function(a){return t.like(e.pid,e.tid,i,-1,1)}}},[a("bbt-icon",{attrs:{type:"thumb-down"}}),t._v(" "+t._s(e.against)+" 踩\n              ")],1),t._v(" "),a("a",{staticClass:"comment__action-item link-dark-minor",attrs:{href:"javascript:;"},on:{click:function(e){return t.reply(i)}}},[a("bbt-icon",{attrs:{type:"reply"}}),t._v(" 回复\n              ")],1),t._v(" "),a("nuxt-link",{staticClass:"link-dark-minor comment__action-item",attrs:{to:{name:"new-complaint",query:{type:"comment",pid:e.pid,page:t.currentPage}},target:"_blank"}},[a("bbt-icon",{attrs:{type:"report"}}),t._v("投诉\n              ")],1)],1)],1),t._v(" "),a("div",{directives:[{name:"viewer",rawName:"v-viewer"}],staticClass:"comment__content"},[e.ishiddenreplies||"-5"==e.invisible||e.group_comment_hidden||"提示: 该帖被管理员或版主屏蔽"==e.content?a("div",{staticClass:"isHidden"},[a("bbt-icon",{staticStyle:{"font-size":"16px",color:"rgba(0, 0, 0, 0.56)","margin-right":"4px"},attrs:{type:"lock"}}),a("span",{domProps:{innerHTML:t._s(e.content)}})],1):a("div",[a("div",{directives:[{name:"lazy-container",rawName:"v-lazy-container",value:{selector:"img"},expression:"{ selector: 'img' }"}],domProps:{innerHTML:t._s(t.transHtmlAsGroup(e.content,e.ismd,"quote"==e.quote_type))}})])]),t._v(" "),e.attachments&&e.attachments.length&&!e.ishiddenreplies&&"-5"!=e.invisible&&!e.group_comment_hidden?a("x-attachments-module",{directives:[{name:"viewer",rawName:"v-viewer"}],attrs:{data:e.attachments,canView:t.managePost&&t.managePost.editpost}}):t._e(),t._v(" "),e.child&&e.child.length?a("div",{staticClass:"subcomment__content"},[a("div",{staticClass:"arrow"}),t._v(" "),t.openStatus["status"+i]?a("div",{staticClass:"subcomment__content-close",on:{click:function(e){return t.toggleSubcomment(i)}}},[a("div",{staticClass:"subcomment__content-list bbt-clearfix"},t._l(e.child,(function(t,e){return a("div",{key:e,staticClass:"subcomment__thumb"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:t.author_info.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                      src: subItem.author_info.avatar,\n                      error: '/images/default/avatar.gif',\n                      loading: '/images/default/avatar.gif',\n                    }"}],staticClass:"bbt-avatar bbt-avatar--sm",attrs:{src:"/images/default/avatar.gif"}})])})),0)]):a("div",{staticClass:"subcomment__content-open"},[a("div",{staticClass:"subcomment__content-list bbt-clearfix"},t._l(e.child,(function(e,r){return a("div",{key:r,staticClass:"subcomment__item",attrs:{id:"pid"+e.pid}},[a("div",{staticClass:"comment__title"},[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:"/user/"+e.author_info.id,target:"_blank"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.author_info.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                          src: subItem.author_info.avatar,\n                          error: '/images/default/avatar.gif',\n                          loading: '/images/default/avatar.gif',\n                        }"}],staticClass:"bbt-avatar bbt-avatar--sm",staticStyle:{"margin-right":"8px"},attrs:{src:"/images/default/avatar.gif"}}),t._v("\n                      "+t._s(e.author_info.name)+"\n                    ")]),t._v(" "),a("span",{staticClass:"comment__level"},[t._v("\n                      "+t._s(e.author_info.group_title)+"\n                    ")]),t._v(" "),e.qoute_username?a("span",{staticClass:"comment_user"},[t._v("\n                      回复"),a("nuxt-link",{staticClass:"link-dark-major font-medium",staticStyle:{"margin-left":"8px"},attrs:{to:"/user/"+e.qoute_uid,target:"_blank"}},[t._v(t._s(e.qoute_username))])],1):t._e(),t._v(" "),a("span",{staticClass:"comment__time"},[t._v("\n                      发表于"+t._s(t._f("timeGMT")(e.post_date))+"\n                    ")]),t._v(" "),t.data.replycredit_rule&&e.replycredit?a("span",{staticClass:"comment__tag"},[a("bbt-icon",{staticStyle:{"font-size":"20px",color:"#FDB500","font-weight":"normal",position:"relative",top:"2px"},attrs:{type:"reward"}}),t._v("金币 +"+t._s(t.data.replycredit_rule.extcredits))],1):t._e(),t._v(" "),e.is_guest?a("span",{staticClass:"comment__guest"},[t._v("嘉宾")]):t._e()],1),t._v(" "),a("div",{directives:[{name:"lazy-container",rawName:"v-lazy-container",value:{selector:"img"},expression:"{ selector: 'img' }"},{name:"viewer",rawName:"v-viewer"}],staticClass:"comment__content",class:{"font-medium":e.is_guest},domProps:{innerHTML:t._s(t.transHtmlAsGroup(e.content))}}),t._v(" "),e.attachments&&e.attachments.length?a("x-attachments-module",{directives:[{name:"viewer",rawName:"v-viewer"}],attrs:{data:e.attachments,canView:t.managePost&&t.managePost.editpost}}):t._e(),t._v(" "),a("div",{staticClass:"comment__action",staticStyle:{float:"none"}},[t.canManage?a("div",{staticClass:"comment__action-item link-dark-minor",attrs:{href:"javascript:;"}},[a("x-admin-bar",{attrs:{data:t.data,comment:e,manageReply:t.manageReply,pid:e.pid,forbiddenId:e.author_info.id,hideTop:!0,area:"comment"}})],1):t._e(),t._v(" "),t.manageReply&&t.manageReply.editreply?a("a",{staticClass:"link-dark-minor comment__action-item",attrs:{href:"javascript:;"},on:{click:function(e){return t.edit(i,r)}}},[a("bbt-icon",{attrs:{type:"report"}}),t._v(" 编辑\n                    ")],1):t._e(),t._v(" "),"0"==e.attitude?a("a",{staticClass:"comment__action-item link-dark-minor",attrs:{href:"javascript:;"},on:{click:function(a){return t.like(e.pid,e.tid,i,r,0)}}},[a("bbt-icon",{attrs:{type:"thumb-up"}}),t._v("\n                      "+t._s(e.like)+" 赞\n                    ")],1):a("a",{staticClass:"comment__action-item link-primary",attrs:{href:"javascript:;"},on:{click:function(a){return t.like(e.pid,e.tid,i,r,0)}}},[a("bbt-icon",{attrs:{type:"thumb-up"}}),t._v("\n                      "+t._s(e.like)+" 赞\n                    ")],1),t._v(" "),"0"==e.isagainst?a("a",{staticClass:"comment__action-item link-dark-minor",attrs:{href:"javascript:;"},on:{click:function(a){return t.like(e.pid,e.tid,i,r,1)}}},[a("bbt-icon",{attrs:{type:"thumb-down"}}),t._v("\n                      "+t._s(e.against)+" 踩\n                    ")],1):a("a",{staticClass:"comment__action-item link-primary",attrs:{href:"javascript:;"},on:{click:function(a){return t.like(e.pid,e.tid,i,r,1)}}},[a("bbt-icon",{attrs:{type:"thumb-down"}}),t._v("\n                      "+t._s(e.against)+" 踩\n                    ")],1),t._v(" "),a("a",{staticClass:"comment__action-item link-dark-minor",attrs:{href:"javascript:;"},on:{click:function(e){return t.reply(i,r)}}},[a("bbt-icon",{attrs:{type:"reply"}}),t._v(" 回复\n                    ")],1),t._v(" "),a("nuxt-link",{staticClass:"link-dark-minor comment__action-item",attrs:{to:{name:"new-complaint",query:{type:"comment",pid:e.pid,page:t.currentPage}},target:"_blank"}},[a("bbt-icon",{attrs:{type:"report"}}),t._v(" 投诉\n                    ")],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"0"==e.is_reply,expression:"subItem.is_reply == '0'"}],staticClass:"reply-form"},[a("div",{staticClass:"reply-form__comment-wrap subreply-form__comment"},[a("div",{staticClass:"reply-form__textarea"},[a("el-input",{staticClass:"reply-form__comment",attrs:{type:"textarea",autosize:{minRows:1},id:"reply_subcomment_"+i+r,placeholder:"回复"+e.author_info.name+"："},nativeOn:{keydown:function(a){return t.handleKeyboard(a,i,r,e.tid,e.pid)}},model:{value:e.reply_comment,callback:function(a){t.$set(e,"reply_comment",a)},expression:"subItem.reply_comment"}})],1),t._v(" "),a("a",{staticClass:"link-dark-minor",attrs:{href:"javascript:;"},on:{click:function(a){return t.seniorReply(e.reply_comment,e.pid)}}},[t._v("高级模式")])]),t._v(" "),a("div",{staticClass:"reply-form__action"},[a("bbt-btn",{attrs:{type:"default",link:""},on:{click:function(e){return t.replyCancel(i,r)}}},[t._v("\n                        取消\n                      ")]),t._v(" "),a("bbt-btn",{attrs:{type:"primary",disabled:e.reply_comment.replace(/\{\{emoji(([1-6][0-9]?)|(7[0-1])|(0))\}\}/g,"").length<5||"1"==e.is_loading},on:{click:function(a){return t.replySubmit(i,r,e.tid,e.pid)}}},["0"==e.is_loading?a("span",[t._v("回复")]):a("span",[t._v("回复中")])])],1)])],1)})),0),t._v(" "),a("div",{staticClass:"comment__close link-dark-minor",on:{click:function(e){return t.toggleSubcomment(i)}}},[t._v("\n                收起\n              ")])])]):t._e(),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"0"==e.is_reply,expression:"item.is_reply == '0'"}],staticClass:"reply-form"},[a("div",{staticClass:"reply-form__comment-wrap"},[a("div",{staticClass:"reply-form__textarea"},[a("el-input",{staticClass:"reply-form__comment",attrs:{type:"textarea",autosize:{minRows:1},id:"reply_comment_"+i,placeholder:"回复"+e.author_info.name+"："},nativeOn:{keydown:function(a){return t.handleKeyboard(a,i,-1,e.tid,e.pid)}},model:{value:e.reply_comment,callback:function(a){t.$set(e,"reply_comment",a)},expression:"item.reply_comment"}})],1),t._v(" "),a("a",{staticClass:"link-dark-minor",attrs:{href:"javascript:;"},on:{click:function(a){return t.seniorReply(e.reply_comment,e.pid)}}},[t._v("高级模式")])]),t._v(" "),a("div",{staticClass:"reply-form__action"},[a("bbt-btn",{attrs:{type:"default",link:""},on:{click:function(e){return t.replyCancel(i)}}},[t._v("\n                取消\n              ")]),t._v(" "),a("bbt-btn",{attrs:{type:"primary",disabled:e.reply_comment.replace(/\{\{emoji(([1-6][0-9]?)|(7[0-1])|(0))\}\}/g,"").length<5||"1"==e.is_loading},on:{click:function(a){return t.replySubmit(i,-1,e.tid,e.pid)}}},["0"==e.is_loading?a("span",[t._v("回复")]):a("span",[t._v("回复中")])])],1)])],1)]):t._e()})),0),t._v(" "),a("div",{staticClass:"comment-module__page"},[t.totalNum>t.pageSize?a("el-pagination",{attrs:{layout:t.totalNum>100?"prev, pager, next, jumper":"prev, pager, next","current-page":Number.parseInt(t.currentPage),"page-size":t.pageSize,total:t.totalNum},on:{"current-change":t.changePage}}):t._e()],1)]):a("div",[a("x-empty",[t._v("沙发，很寂寞......")])],1),t._v(" "),t.userinfo.uid?a("div",{staticClass:"comment-module__box"},[a("div",{staticClass:"comment-module__form"},[a("div",{staticClass:"form-item bbt-clearfix",staticStyle:{"text-align":"right",padding:"0 0 16px 0",position:"relative"}},[a("span",{staticStyle:{float:"left"}},[a("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.toggleEmoji(e)}}},[a("bbt-icon",{staticStyle:{"font-size":"20px",color:"rgba(0,0,0,0.56)","margin-right":"16px",cursor:"pointer"},attrs:{type:"emoji"}})],1),t._v(" "),a("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.seniorReply(t.form.comment)}}},[a("bbt-icon",{staticStyle:{"font-size":"20px",color:"rgba(0,0,0,0.56)",cursor:"pointer"},attrs:{type:"picture"}})],1)]),t._v(" "),t.data.category?a("nuxt-link",{staticClass:"link-dark-minor",attrs:{to:{name:"forum-rules",query:{id:t.data.category.id}},target:"_blank"}},[t._v("本版积分规则")]):t._e(),t._v(" "),a("a",{staticClass:"link-dark-minor",staticStyle:{"margin-left":"16px"},attrs:{href:"javascript:;"},on:{click:function(e){return t.seniorReply(t.form.comment)}}},[t._v("高级模式")]),t._v(" "),t.isShowEmoji?a("div",{staticClass:"emoji-box"},[a("ul",{staticClass:"bbt-clearfix"},t._l(t.emojiNum,(function(e){return a("li",{key:e,on:{click:function(a){return t.getEmoji(e)}}},[a("img",{attrs:{src:"https://bbtcdn.8btc.com/public/emoji/emoji"+e+".png",alt:""}})])})),0)]):t._e()],1),t._v(" "),a("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{staticStyle:{"margin-bottom":"16px"},attrs:{prop:"comment"}},[a("el-input",{ref:"reply__post",attrs:{type:"textarea",disabled:!t.canEdit,autosize:{minRows:3},id:"reply__post",placeholder:t.canEdit?"请发表你的真知灼见（不少于5个字）...":"抱歉，本主题已关闭，不再接受新回复"},nativeOn:{keydown:function(e){return t.handleKeyboard(e)}},model:{value:t.form.comment,callback:function(e){t.$set(t.form,"comment",e)},expression:"form.comment"}})],1),t._v(" "),a("el-form-item",{staticStyle:{"text-align":"right","margin-bottom":"0"}},[a("bbt-btn",{attrs:{type:"primary",disabled:t.isSubmitLoading||!t.canEdit},on:{click:t.onSubmit}},[t.isSubmitLoading?a("span",[t._v("回帖发表中")]):a("span",[t._v("发表回帖")])])],1)],1)],1)]):a("div",{staticClass:"comment-module__alert"},[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"login-password",query:{back_url:t.$route.path}}}},[t._v("\n      登录\n    ")]),t._v("\n    账号发表你的看法，还没有账号？立即免费\n    "),a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"register",query:{redirect_url:t.$route.fullPath}}}},[t._v("\n      注册\n    ")])],1),t._v(" "),a("x-comment-dialog",{attrs:{isVisible:t.isEditVisible,isLoading:t.isEditLoading,data:t.commentData.list,index:t.selectEditIndex,subIndex:t.selectEditSubIndex},on:{close:t.closeDialog,save:t.saveEdit}})],1)}),[],!1,null,"05c663a9",null);e.a=u.exports},function(t,e,a){"use strict";var i={props:{data:{type:Array}}},r=(a(1429),a(0)),n=Object(r.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"summary-table"},[t._m(0),t._v(" "),t._l(t.data,(function(e,i){return a("div",{key:i,staticClass:"summary-table__tr"},[a("div",[t._v("\n      "+t._s(e.action)+"\n    ")]),t._v(" "),a("div",[t._v("\n      "+t._s(t._f("timeGMT")(e.dateline))+"\n    ")]),t._v(" "),a("div",{staticStyle:{width:"34%"}},[t._v("\n      "+t._s(e.reason)+"\n    ")]),t._v(" "),a("div",[t._v("\n      "+t._s(e.username)+"\n    ")])])}))],2)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"summary-table__th"},[e("div",[this._v("操作行为")]),this._v(" "),e("div",[this._v("操作时间")]),this._v(" "),e("div",{staticStyle:{width:"34%"}},[this._v("操作理由")]),this._v(" "),e("div",[this._v("操作者")])])}],!1,null,"85483516",null);e.a=n.exports},function(t,e,a){"use strict";a(7),a(5),a(4),a(3),a(6),a(54),a(206),a(182),a(23);var i=a(1),r=a(2);function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var s={computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(r.c)({menu:function(t){return t.menu},block:function(t){return t.block}}),{id:function(){return"forum-id"==this.$route.name||"forum-id-:page"==this.$route.name?this.$route.params.id:"ask"==this.$route.name||"ask-page"==this.$route.name?42:null},navData:function(){return this.menu.forum},blockInfoData:function(){return this.block.items&&this.block.items[this.id]||{}},isInMenu:function(){var t=this,e=[];return this.navData.forEach((function(a){var i=t.$route.path.match(new RegExp(a.match));e.push(!(!i||!i.length))})),-1!==e.indexOf(!0)}}),methods:{subStr:function(t){if(t){for(var e=t.split("/")[0],a=0,i=0;i<e.length;i++)e.charCodeAt(i)>127||94==e.charCodeAt(i)?a+=2:a++;return e.substr(0,a)}},isActive:function(t,e){var a=this.$route.path.match(new RegExp(t.match));return!(!a||!a.length)}}},o=(a(1116),a(0)),c=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"tabs",staticClass:"bbt-tab bbt-tab--lg"},[a("ul",{staticClass:"bbt-tab__menu bbt-clearfix"},t._l(t.navData,(function(e,i){return a("li",{key:i,class:{active:t.isActive(e,i)}},[e.route?a("nuxt-link",{attrs:{to:{name:e.route,params:e.id?{id:e.id}:{}},target:e.target||"_self"}},[t._v(t._s(e.name))]):a("a",{attrs:{href:e.href,target:"_blank",rel:"nofollow noopener"}},[t._v(t._s(e.name)+">")])],1)})),0),t._v(" "),t.isInMenu?t._e():a("div",{staticClass:"bbt-tab__more"},[a("span",[t._v(t._s(t.subStr(t.blockInfoData.name)))])])])}),[],!1,null,"119b2f00",null);e.a=c.exports},function(t,e,a){"use strict";a(7),a(5),a(4),a(3),a(6);var i=a(1),r=a(14);function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function s(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var o={props:{navOption:{type:Object}},data:function(){return{scrollTop:0,windowHeight:0,windowWidth:0,isShow:!1,isHasSpace:!1,style:{position:"fixed",zIndex:10,top:"50%",transform:"translateY(-50%)"},activeIndex:0,offsetArr:[],debounceSFn:null,debounceRFn:null,navBar:[]}},mounted:function(){var t=this;this.$nextTick((function(){t.navBar=t.navOption.barList.filter((function(e){return"id"==t.navOption.targetType?document.getElementById("".concat(e.target)):document.getElementsByClassName("".concat(e.target))[0]})),document.body.offsetWidth<1400?t.isHasSpace=!1:(t.isHasSpace=!0,t.windowHeight=document.documentElement.clientHeight,t.navBar.forEach((function(e,a){"id"==t.navOption.targetType?t.offsetArr.push(Object(r.i)(document.getElementById("".concat(e.target))).y):t.offsetArr.push(Object(r.i)(document.getElementsByClassName("".concat(e.target))[0]).y)})),t.handleScroll(),t.handleResize(),t.debounceSFn=Object(r.b)(t.handleScroll,100),t.debounceRFn=Object(r.b)(t.handleResize,100),window.addEventListener("scroll",t.debounceSFn),window.addEventListener("resize",t.debounceRFn))}))},beforeDestroy:function(){window.removeEventListener("scroll",this.debounceSFn),window.removeEventListener("resize",this.debounceRFn),this.debounceSFn=null,this.debounceRFn=null},methods:{goActiveFolor:function(t){"id"==this.navOption.targetType?document.getElementById(t).scrollIntoView({behavior:"smooth"}):document.getElementsByClassName(t)[0].scrollIntoView({behavior:"smooth"})},handleScroll:function(){var t=this;this.scrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,this.scrollTop>this.navOption.showHeight?this.isShow=!0:this.isShow=!1,this.offsetArr.some((function(e,a){return a==t.offsetArr.length-1&&t.scrollTop>=e?(t.activeIndex=a,!0):t.scrollTop<e?(t.activeIndex=a-1,!0):void 0}))},handleResize:function(){this.windowHeight=document.documentElement.clientHeight,this.windowWidth=document.documentElement.clientWidth,this.windowWidth>1440?(this.isHasSpace=!0,this.style=s({},this.style,{left:"50%",marginLeft:"-700px"})):(this.isHasSpace=!1,this.style=s({},this.style,{left:"16px",marginLeft:0}))}}},c=(a(1137),a(0)),l=Object(c.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade"}},[t.isShow&&t.isHasSpace?a("div",{staticClass:"bbt-sidenav",style:t.style},[a("div",[a("ul",t._l(t.navBar,(function(e,i){return a("li",{key:i,class:i===t.activeIndex?"active":"",on:{click:function(a){return t.goActiveFolor(e.target)}}},[e.icon?a("bbt-icon",{staticStyle:{"font-size":"14px"},attrs:{type:e.icon}}):t._e(),t._v(t._s(e.name)+"\n        ")],1)})),0)]),t._v(" "),t.navOption.buttonUrl?a("div",{staticClass:"bottom-btn"},[a("bbt-btn",{attrs:{type:"primary",size:"lg",href:t.navOption.buttonUrl,target:"_blank",rel:"noopener nofollow"}},[t._v(t._s(t.navOption.buttonText))])],1):t._e()]):t._e()])}),[],!1,null,"ab4db8c0",null);e.a=l.exports},function(t,e,a){"use strict";a(12),a(25);var i={props:{data:{type:Array},size:{type:String,default:"normal"}},data:function(){return{nowTime:Date.parse(new Date)/1e3}},methods:{getPrecent:function(t,e){return Number.parseInt(t)?Number.parseInt(e)/Number.parseInt(t)*100+"%":"10%"},activityStatus:function(t,e){return this.nowTime<t?"before":this.nowTime>=t&&this.nowTime<e?"in":"end"}}},r=(a(1476),a(0)),n=Object(r.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:"activity-module activity-module__"+t.size},t._l(t.data,(function(e,i){return a("div",{key:i,staticClass:"activity-item-wrap",style:0==i?"padding-top: 0;":""},[a("div",{staticClass:"activity-item bbt-clearfix"},[a("div",{staticClass:"activity-item__thumb"},[a("nuxt-link",{attrs:{to:{name:"event-id",params:{id:""+e.tid}},target:"_blank"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.activity.thumb,error:"/images/default/news.jpg",loading:"/images/default/news.jpg"},expression:"{\n              src: item.activity.thumb,\n              error: '/images/default/news.jpg',\n              loading: '/images/default/news.jpg',\n            }"}],staticClass:"img-full",attrs:{src:"/images/default/news.jpg"}})])],1),t._v(" "),a("div",{staticClass:"activity-item__info"},[a("h5",[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"event-id",params:{id:""+e.tid}},target:"_blank"}},[t._v("\n            "+t._s(e.title)+"\n          ")])],1),t._v(" "),a("p",[a("bbt-icon",{attrs:{type:"calendar"}}),t._v(" 时间："),e.activity.starttimefrom?a("span",[t._v(t._s(t._f("timeGMT")(e.activity.starttimefrom)))]):t._e(),t._v(" "),e.activity.starttimeto?a("span",[t._v("\n            至 "+t._s(t._f("timeGMT")(e.activity.starttimeto)))]):t._e()],1),t._v(" "),e.activity.place?a("p",[a("bbt-icon",{attrs:{type:"activity"}}),t._v(" 地址："+t._s(e.activity.place)+"\n        ")],1):t._e(),t._v(" "),a("p",[a("bbt-icon",{attrs:{type:"make-money"}}),t._v(" 价格："+t._s("0"!=e.activity.cost&&e.activity.cost?e.activity.cost+"元起":"免费")+"\n        ")],1),t._v(" "),"small"!==t.size?a("p",[a("bbt-icon",{attrs:{type:"eye"}}),t._v(" 浏览："+t._s(e.views)+"\n        ")],1):t._e(),t._v(" "),a("p",[a("bbt-icon",{attrs:{type:"community"}}),t._v(" 人数："),"0"!==e.activity.number?a("span",[t._v("限额 "+t._s(e.activity.number)+" 人")]):a("span",[t._v("不限人数")])],1),t._v(" "),a("div",{staticClass:"join-button"},[a("div",{staticClass:"sign-progress"},[a("span",{staticClass:"progress",style:"width: "+t.getPrecent(e.activity.number,e.activity.applynumber)+";"}),t._v(" "),a("span",[t._v(t._s(e.activity.applynumber)+"人/"),"0"!==e.activity.number?a("span",[t._v(t._s(e.activity.number)+"人")]):a("span",[t._v("不限")])])]),t._v(" "),"before"==t.activityStatus(e.activity.starttimefrom,e.activity.starttimeto)?a("nuxt-link",{staticClass:"bbt-btn bbt-btn--primary",attrs:{to:{name:"event-id",params:{id:""+e.tid}},target:"_blank"}},[t._v("立即报名")]):"in"==t.activityStatus(e.activity.starttimefrom,e.activity.starttimeto)?a("nuxt-link",{staticClass:"bbt-btn bbt-btn--primary",attrs:{to:{name:"event-id",params:{id:""+e.tid}},target:"_blank"}},[t._v("活动详情")]):a("nuxt-link",{staticClass:"bbt-btn bbt-btn--default",attrs:{to:{name:"event-id",params:{id:""+e.tid}},target:"_blank"}},[t._v("活动回顾")])],1)])])])})),0)}),[],!1,null,"58b9457c",null);e.a=n.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";a(1107)();var i=a(1108),r=a(1109),n={name:"SeamlessScroll",data:function(){return{xPos:0,yPos:0,delay:0,copyHtml:"",height:0,width:0,realBoxWidth:0,reqFrame:null,singleWaitTime:null,isHover:!1}},props:{data:{type:Array,default:function(){return[]}},classOption:{type:Object,default:function(){return{}}}},computed:{leftSwitchState:function(){return this.xPos<0},rightSwitchState:function(){return Math.abs(this.xPos)<this.realBoxWidth-this.width},leftSwitchClass:function(){return this.leftSwitchState?"":this.options.switchDisabledClass},rightSwitchClass:function(){return this.rightSwitchState?"":this.options.switchDisabledClass},leftSwitch:function(){return{position:"absolute",margin:"".concat(this.height/2,"px 0 0 -").concat(this.options.switchOffset,"px"),transform:"translate(-100%,-50%)"}},rightSwitch:function(){return{position:"absolute",margin:"".concat(this.height/2,"px 0 0 ").concat(this.width+this.options.switchOffset,"px"),transform:"translateY(-50%)"}},float:function(){return this.isHorizontal?{float:"left",overflow:"hidden"}:{overflow:"hidden"}},pos:function(){return{transform:"translate(".concat(this.xPos,"px,").concat(this.yPos,"px)"),transition:"all ".concat(this.ease||"ease-in"," ").concat(this.delay,"ms"),overflow:"hidden"}},defaultOption:function(){return{step:1,limitMoveNum:5,hoverStop:!0,direction:1,openTouch:!0,singleHeight:0,singleWidth:0,waitTime:1e3,switchOffset:30,autoPlay:!0,navigation:!1,switchSingleStep:134,switchDelay:400,switchDisabledClass:"disabled",isSingleRemUnit:!1}},options:function(){return r({},this.defaultOption,this.classOption)},navigation:function(){return this.options.navigation},autoPlay:function(){return!this.navigation&&this.options.autoPlay},scrollSwitch:function(){return this.data.length>=this.options.limitMoveNum},hoverStopSwitch:function(){return this.options.hoverStop&&this.autoPlay&&this.scrollSwitch},canTouchScroll:function(){return this.options.openTouch},isHorizontal:function(){return this.options.direction>1},baseFontSize:function(){return this.options.isSingleRemUnit?parseInt(window.getComputedStyle(document.documentElement,null).fontSize):1},realSingleStopWidth:function(){return this.options.singleWidth*this.baseFontSize},realSingleStopHeight:function(){return this.options.singleHeight*this.baseFontSize},step:function(){var t=this.options.step;return this.isHorizontal?this.realSingleStopWidth:this.realSingleStopHeight,t}},methods:{leftSwitchClick:function(){this.leftSwitchState&&(Math.abs(this.xPos)<this.options.switchSingleStep?this.xPos=0:this.xPos+=this.options.switchSingleStep)},rightSwitchClick:function(){this.rightSwitchState&&(this.realBoxWidth-this.width+this.xPos<this.options.switchSingleStep?this.xPos=this.width-this.realBoxWidth:this.xPos-=this.options.switchSingleStep)},_cancle:function(){cancelAnimationFrame(this.reqFrame||"")},touchStart:function(t){var e=this;if(this.canTouchScroll){var a,i=t.targetTouches[0],r=this.options,n=r.waitTime,s=r.singleHeight,o=r.singleWidth;this.startPos={x:i.pageX,y:i.pageY},this.startPosY=this.yPos,this.startPosX=this.xPos,s&&o?(a&&clearTimeout(a),a=setTimeout((function(){e._cancle()}),n+20)):this._cancle()}},touchMove:function(t){if(!(!this.canTouchScroll||t.targetTouches.length>1||t.scale&&1!==t.scale)){var e=t.targetTouches[0],a=this.options.direction;this.endPos={x:e.pageX-this.startPos.x,y:e.pageY-this.startPos.y},event.preventDefault();var i=Math.abs(this.endPos.x)<Math.abs(this.endPos.y)?1:0;1===i&&a<2?this.yPos=this.startPosY+this.endPos.y:0===i&&a>1&&(this.xPos=this.startPosX+this.endPos.x)}},touchEnd:function(){var t=this;if(this.canTouchScroll){var e,a=this.options.direction;if(this.delay=50,1===a)this.yPos>0&&(this.yPos=0);else if(0===a){var i=this.realBoxHeight/2*-1;this.yPos<i&&(this.yPos=i)}else if(2===a)this.xPos>0&&(this.xPos=0);else if(3===a){var r=-1*this.realBoxWidth;this.xPos<r&&(this.xPos=r)}e&&clearTimeout(e),e=setTimeout((function(){t.delay=0,t._move()}),this.delay)}},enter:function(){this.hoverStopSwitch&&(this.isHover=!0,this.singleWaitTime&&clearTimeout(this.singleWaitTime),this._cancle())},leave:function(){this.hoverStopSwitch&&(this.isHover=!1,this._move())},_move:function(){this.isHover||(this._cancle(),this.reqFrame=requestAnimationFrame(function(){var t=this,e=this.realBoxHeight/2,a=this.realBoxWidth/2,i=this.options,r=i.direction,n=i.waitTime,s=this.step;1===r?(Math.abs(this.yPos)>=e&&(this.$emit("ScrollEnd"),this.yPos=0),this.yPos-=s):0===r?(this.yPos>=0&&(this.$emit("ScrollEnd"),this.yPos=-1*e),this.yPos+=s):2===r?(Math.abs(this.xPos)>=a&&(this.$emit("ScrollEnd"),this.xPos=0),this.xPos-=s):3===r&&(this.xPos>=0&&(this.$emit("ScrollEnd"),this.xPos=-1*a),this.xPos+=s),this.singleWaitTime&&clearTimeout(this.singleWaitTime),this.realSingleStopHeight?Math.abs(this.yPos)%this.realSingleStopHeight<s?this.singleWaitTime=setTimeout((function(){t._move()}),n):this._move():this.realSingleStopWidth&&Math.abs(this.xPos)%this.realSingleStopWidth<s?this.singleWaitTime=setTimeout((function(){t._move()}),n):this._move()}.bind(this)))},_initMove:function(){var t=this;this.$nextTick((function(){t._dataWarm(t.data),t.copyHtml="",t.height=t.$refs.wrap.offsetHeight,t.width=t.$refs.wrap.offsetWidth;var e=t.$refs.slotList.offsetWidth,a=t.options.switchDelay,i=t.autoPlay;if(t.isHorizontal&&i&&(e=2*e+1),t.$refs.realBox.style.width=e+"px",t.realBoxWidth=e,!i)return t.ease="linear",void(t.delay=a);t.scrollSwitch?(t.copyHtml=t.$refs.slotList.innerHTML,setTimeout((function(){t.realBoxHeight=t.$refs.realBox&&t.$refs.realBox.offsetHeight||400,t._move()}),0)):(t._cancle(),t.yPos=t.xPos=0)}))},_dataWarm:function(t){t.length}},mounted:function(){this._initMove()},watch:{data:function(t,e){this._dataWarm(t),i(t,e)||(this._cancle(),this._initMove())}},beforeDestroy:function(){this._cancle()}},s=a(0),o=Object(s.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"wrap"},[t.navigation?a("div",{class:t.leftSwitchClass,style:t.leftSwitch,on:{click:t.leftSwitchClick}},[t._t("left-switch")],2):t._e(),t._v(" "),t.navigation?a("div",{class:t.rightSwitchClass,style:t.rightSwitch,on:{click:t.rightSwitchClick}},[t._t("right-switch")],2):t._e(),t._v(" "),a("div",{ref:"realBox",style:t.pos,on:{mouseenter:t.enter,mouseleave:t.leave,touchstart:t.touchStart,touchmove:t.touchMove,touchend:t.touchEnd}},[a("div",{ref:"slotList",style:t.float},[t._t("default")],2),t._v(" "),a("div",{style:t.float,domProps:{innerHTML:t._s(t.copyHtml)}})])])}),[],!1,null,null,null);e.a=o.exports},,,function(t,e,a){"use strict";a(12);var i=a(525),r=(a(7),a(5),a(4),a(6),a(3),a(33),a(23),a(1)),n=a(2),s=a(22),o=a.n(s),c=a(15),l=a(14),u=a(8);function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var p={props:{data:{type:Object},placeholder:{type:String},action:{type:String},uploadType:{type:String,default:"post"},minLen:{type:Number,default:5},maxLen:{type:Number,default:-1},draft:{type:Boolean,default:!0},transfromContent:{type:String}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){Object(r.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(n.c)({uid:function(t){return t.userinfo.uid}})),data:function(){return{editor:null,isErr:!1,isUpLoading:!1}},watch:{placeholder:function(){this.editor&&this.editor.txt.html(this.placeholder)}},mounted:function(){var t=this;this.$nextTick((function(){var e=a(773);t.editor=new e(t.$refs.editor),t.draft?(t.editor.customConfig.openDraft=!0,t.editor.customConfig.draftKey="draft_".concat(t.uid)):t.editor.customConfig.openDraft=!1,t.editor.customConfig.pasteTextHandle=function(t){return o()(Object(u.c)(t),Object(l.h)(!0))+"<p><br></p>"},t.editor.customConfig.colors=["#FFD600","#db5000","#E32C28","#E80404","#14954B","#198489","#177ED7","#F46300","#82A01C","#FDB500","#744EA1","#DD3E8F"],t.editor.customConfig.menus=["head","bold","italic","underline","strikeThrough","foreColor","link","list","justify","quote","emoticon","image","video","code","undo","redo","clear"];for(var i=[],r=0;r<=71;r++)i.push({alt:"emoji".concat(r),src:"".concat(c.e.cdn,"/public/emoji/emoji").concat(r,".png")});t.editor.customConfig.emotions=[{title:"emoji",type:"image",content:i}],t.editor.customConfig.textMinLength=t.minLen,t.editor.customConfig.textMaxLength=t.maxLen,t.editor.customConfig.uploadImgShowBase64=!1,t.editor.customConfig.uploadImgMaxSize="ama"==t.uploadType||"activity"==t.uploadType?10485760:2097152,t.editor.customConfig.uploadImgMaxLength=5,t.editor.customConfig.withCredentials=!0,t.editor.customConfig.showLinkImg=!1,t.editor.customConfig.uploadImgTimeout=1e4,t.editor.customConfig.customUploadImg=function(e,a){if(!t.isUpLoading){a("/images/default/news.jpg");for(var i=0;i<e.length;i++)t.isUpLoading=!0,Object(l.l)(e[i],t.uploadType,!1,t.$store.$api).then((function(e){t.isUpLoading=!1,e.url&&(a(e.url),t.editor.txt.html(Object(u.i)(t.editor.txt.html())))})).catch((function(e){t.editor.txt.html(Object(u.i)(t.editor.txt.html())),t.isUpLoading=!1,t.$message({type:"danger",message:e.msg||e.message||"上传失败，请重试"})}))}},t.editor.customConfig.customAlert=function(e){t.$message({type:"danger",message:e})},t.editor.customConfig.zIndex=20,t.editor.create(),t.data&&t.data.content?"edit"!=t.action&&"reply"!=t.$route.name||(t.editor.txt.html(t.data.content),t.editorContent=t.data.content):t.transfromContent?t.editor.txt.html(t.transfromContent):t.editor.txt.html(t.placeholder)}))},beforeDestroy:function(){this.editor.destroyed(),this.editor=null},methods:{getContent:function(){var t=this.editor.txt.html();return{message:o()(Object(u.c)(t),Object(l.h)(!1))}},validatorText:function(){var t=this;return this.isErr=this.maxLen>=0&&this.editor.txt.html().replace(/<[^>]+>/g,"").replace(/\s*/g,"").replace(/&nbsp;/g,"").length>this.maxLen||this.minLen&&this.editor.txt.html().replace(/<[^>]+>/g,"").replace(/\s*/g,"").replace(/&nbsp;/g,"").length<this.minLen,new Promise((function(e,a){t.isErr?a({text:[{message:"内容不能少于".concat(t.minLen,"个字符")}]}):e(!0)}))}}},m=(a(1315),a(0)),f=Object(m.a)(p,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"richtext-editor bbt-html"},[e("div",{ref:"editor",staticClass:"editor"})])}),[],!1,null,"c136ca92",null).exports,h=a(40),v={props:{data:{type:Object},placeholder:{type:String},action:{type:String},uploadType:{type:String,default:"post"},minLen:{type:Number,default:5},maxLen:{type:Number,default:-1},draft:{type:Boolean,default:!0},transfromContent:{type:String}},components:{"no-ssr":a.n(h).a},watch:{placeholder:function(){this.content=this.placeholder}},created:function(){this.data&&this.data.content?this.content=this.data.content.replace(/<br\/>/g,"\r\n").replace(/<br \/>/g,"\r\n").replace(/<br>/g,"\r\n"):this.transfromContent?this.content=this.transfromContent:this.placeholder&&(this.content=this.placeholder)},mounted:function(){var t=this;this.$nextTick((function(){document.getElementById("mavon-editor")&&document.getElementById("mavon-editor").addEventListener("paste",t.handlePaste)}))},beforeDestroy:function(){document.getElementById("mavon-editor")&&document.getElementById("mavon-editor").removeEventListener("paste",this.handlePaste)},data:function(){return{content:"",tag:null,tags:[],isAdd:!1,isErr:!1,errText:"",isUpLoading:!1,toolbars:{bold:!0,italic:!0,header:!0,underline:!0,strikethrough:!0,mark:!0,superscript:!0,subscript:!0,quote:!0,ol:!0,ul:!0,imagelink:!0,code:!0,table:!0,htmlcode:!0,undo:!0,redo:!0,trash:!0,alignleft:!0,aligncenter:!0,alignright:!0,subfield:!0,preview:!0}}},methods:{handlePaste:function(t){t.preventDefault();var e,a=t.clipboardData||t.originalEvent&&t.originalEvent.clipboardData;e=null==a?window.clipboardData&&window.clipboardData.getData("text"):a.getData("text/plain"),document.execCommand("insertText",!1,e.replace(/\!\[.*?\]\(([^)]*?)\)/gi,""))},imageFilter:function(t){var e=t.size,a="ama"==this.uploadType||"activity"==this.uploadType?10:2;return!(e>1024*a*1024)||(this.$message({type:"danger",message:"图片过大，请压缩至".concat(a,"M以内再上传")}),!1)},imgAdd:function(t,e){var a=this;this.isUpLoading||(this.isUpLoading=!0,Object(l.l)(e,this.uploadType,!1,this.$store.$api).then((function(e){a.isUpLoading=!1,a.$refs.md.$img2Url(t,e.url)})).catch((function(e){a.isUpLoading=!1,a.$refs.md.$img2Url(t,""),a.$message({type:"danger",message:e.message})})))},validatorText:function(){var t=this;return this.maxLen>=0?!this.content||!this.content.length||this.content.length<this.minLen||this.content.length>this.maxLen?(this.isErr=!0,this.errText="内容字数范围在".concat(this.minLen,"到").concat(this.maxLen,"个字符")):(this.isErr=!1,this.errText=""):!this.content||!this.content.length||this.content.length<this.minLen?(this.isErr=!0,this.errText="内容不能少于".concat(this.minLen,"个字符")):(this.isErr=!1,this.errText=""),new Promise((function(e,a){t.isErr?a({text:[{message:t.errText}]}):e(!t.isErr)}))},change:function(t){this.content=t.replace(/<br\/>/g,"\r\n").replace(/<br \/>/g,"\r\n").replace(/<br>/g,"\r\n").replace(/<[^>]+>/g,"").replace(/\s*/g,"").replace(/&nbsp;/g,""),this.maxLen>=0?!this.content||!this.content.length||this.content.length<this.minLen||this.content.length>this.maxLen?(this.isErr=!0,this.errText="内容字数范围在".concat(this.minLen,"到").concat(this.maxLen,"个字符")):(this.isErr=!1,this.errText=""):!this.content||!this.content.length||this.content.length<this.minLen?(this.isErr=!0,this.errText="内容不能少于".concat(this.minLen,"个字符")):(this.isErr=!1,this.errText="")},getContent:function(){return{message:"[md]".concat(Object(u.c)(this.content.replace(/<br\/>/g,"\r\n").replace(/<br \/>/g,"\r\n").replace(/<br>/g,"\r\n")),"[/md]")}}}},b=(a(1316),a(1317),a(1318),Object(m.a)(v,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"markdown-editor"},[a("no-ssr",[a("mavon-editor",{ref:"md",class:{is_error:t.isErr},attrs:{id:"mavon-editor",boxShadow:!1,toolbars:t.toolbars,imageFilter:t.imageFilter},on:{change:t.change,imgAdd:t.imgAdd},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),t._v(" "),t.isErr?a("div",{staticClass:"editor__error"},[t._v("\n    "+t._s(t.errText)+"\n  ")]):t._e()],1)}),[],!1,null,"cd921e8e",null).exports),_={components:{XConfirmDialog:i.a,XRichtext:f,XMarkdown:b},props:{title:{type:String,default:"帖子正文"},data:{type:Object},action:{type:String},placeholder:{type:String},transfromContent:{type:String},uploadType:{type:String,default:"post"},minLen:{type:Number,default:5},maxLen:{type:Number,default:-1},draft:{type:Boolean,default:!0},hideSwitch:{type:Boolean,default:!0},isTech:{type:Boolean,default:!1}},data:function(){return{isShowMarkdown:this.isTech,isShowConfirm:!1}},created:function(){this.data&&this.data.content_type&&"md"==this.data.content_type&&(this.isShowMarkdown=!0)},methods:{openConfirm:function(){this.isShowConfirm=!0},closeConfirm:function(){this.isShowConfirm=!1},switchToggle:function(t){this.isShowConfirm=!1,this.isShowMarkdown=!this.isShowMarkdown,this.$emit("switch",this.isShowMarkdown)},setEditorType:function(t){this.isShowMarkdown=t},getContent:function(){return this.$refs.posttext.getContent()},validatorText:function(){return this.$refs.posttext.validatorText()},isUpLoading:function(){return this.$refs.posttext.isUpLoading}}},g=(a(1319),Object(m.a)(_,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    "+t._s(t.title)+" "),a("span",[t._v("（转帖请务必注明原文链接）")]),t._v(" "),t.data&&t.data.content||t.hideSwitch?t._e():a("div",{staticClass:"bbt-module__more"},[a("button",{staticClass:"bbt-btn link-dark-minor",attrs:{type:"button"},on:{click:t.openConfirm}},[t._v("\n        "+t._s(t.isShowMarkdown?"切换为富文本编辑器":"切换为MarkDown编辑器")+"\n      ")])])]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[t.isShowMarkdown?a("x-markdown",{ref:"posttext",attrs:{minLen:t.minLen,maxLen:t.maxLen,data:t.data,transfromContent:t.transfromContent,placeholder:t.placeholder,uploadType:t.uploadType,action:t.action}}):a("x-richtext",{ref:"posttext",attrs:{minLen:t.minLen,maxLen:t.maxLen,data:t.data,transfromContent:t.transfromContent,placeholder:t.placeholder,uploadType:t.uploadType,action:t.action,draft:t.draft}})],1),t._v(" "),a("x-confirm-dialog",{attrs:{title:t.isShowMarkdown?"切换为富文本编辑器":"切换为MarkDown编辑器",isVisible:t.isShowConfirm},on:{confirm:t.switchToggle,cancel:t.closeConfirm}},[t._v("\n    切换发帖模式后，当前内容自动迁移，但可能会导致部分内容和样式丢失\n  ")])],1)}),[],!1,null,"e043a326",null));e.a=g.exports},function(t,e,a){"use strict";a(7),a(5),a(4),a(3),a(6);var i,r,n=a(18),s=a(1),o=(a(12),a(2)),c=a(17);function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var u={inject:["injectData"],props:{forumType:{type:Array},forumOrderby:{type:Array},currentType:{type:String|Number},currentOrderby:{type:String|Number},fid:{type:String|Number},topicId:{type:String|Number}},data:function(){return{}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(o.c)({group:function(t){return t.group}}),{groupId:function(){return this.group.groupid},isFlaw:function(){return"34"==this.groupId||"1"==this.groupId}}),methods:(i=Object(c.a)(),r={switchTab:function(t,e){t===this.currentType&&e===this.currentOrderby||this.$emit("switch",t,e)},releasePost:function(){this.$router.push({name:"328"==this.fid?"new-flaw":"new-post",query:"328"==this.fid?{action:"newthread"}:this.fid&&"1"!=this.fid?{fid:"".concat(this.fid),action:"newthread"}:this.topicId?{action:"newthread",topicid:this.topicId}:{action:"newthread"}})}},Object(n.a)(r,"releasePost",[i],Object.getOwnPropertyDescriptor(r,"releasePost"),r),r)},d=(a(1481),a(0)),p=Object(d.a)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-filter"},[t.forumType&&t.forumType.length?a("ul",{staticClass:"bbt-filter__type"},t._l(t.forumType,(function(e,i){return a("li",{key:i,class:{active:e.type==t.currentType},on:{click:function(a){return t.switchTab(e.type,t.currentOrderby)}}},["poll"==e.type?a("bbt-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"vote"}}):"debate"==e.type?a("bbt-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"debate"}}):t._e(),t._v(t._s(e.name)+"\n    ")],1)})),0):t._e(),t._v(" "),t.forumOrderby&&t.forumOrderby.length?a("ul",{staticClass:"bbt-filter__sort"},t._l(t.forumOrderby,(function(e,i){return a("li",{key:i,class:{active:e.type==t.currentOrderby},on:{click:function(a){return t.switchTab(t.currentType,e.type)}}},[t._v("\n      "+t._s(e.name)+"\n    ")])})),0):t._e(),t._v(" "),314!=t.fid&&328!=t.fid?a("bbt-btn",{attrs:{type:"primary",size:"lg"},on:{click:t.releasePost}},[a("bbt-icon",{attrs:{type:"report"}}),t._v(" 发布帖子")],1):328==t.fid&&t.isFlaw?a("bbt-btn",{attrs:{type:"primary",size:"lg"},on:{click:t.releasePost}},[a("bbt-icon",{attrs:{type:"report"}}),t._v(" 我要披露")],1):328!=t.fid||t.isFlaw?t._e():a("nuxt-link",{staticClass:"bbt-btn bbt-btn--primary bbt-btn--lg",attrs:{to:{name:"post-id",params:{id:"288088"}},target:"_blank"}},[t._v("申请入驻")])],1)}),[],!1,null,"12e7e339",null);e.a=p.exports},function(t,e,a){"use strict";var i={mixins:[a(47).a],props:{data:Array,needLazy:Boolean,title:{type:String,default:"正在浏览"},isFromTopic:{type:Boolean,default:!1}},computed:{id:function(){return this.$route.params.id}},watch:{$route:{handler:function(){var t=this;this.isLoading=!0,this.isFromTopic?this.$store.dispatch("topic/FETCH_COMMENT_USER",{params:{chainnode_topic_id:this.id}}).then((function(){t.isRender=!0,t.isLoading=!1})).catch((function(){t.isLoading=!1})):this.$store.dispatch("block/FETCH_ONLINE_LIST",{params:{fid:this.id},type:"online"}).then((function(){t.isRender=!0,t.isLoading=!1})).catch((function(){t.isLoading=!1}))},deep:!0}},methods:{fetchModule:function(){var t=this;this.isFromTopic?this.$store.dispatch("topic/FETCH_COMMENT_USER",{params:{chainnode_topic_id:this.id}}).then((function(){window.removeEventListener("scroll",t.debounceFn),t.debounceFn=null,t.isRender=!0,t.isLoading=!1})).catch((function(){t.isLoading=!1})):this.$store.dispatch("block/FETCH_ONLINE_LIST",{params:{fid:this.id},type:"online"}).then((function(){window.removeEventListener("scroll",t.debounceFn),t.debounceFn=null,t.isRender=!0,t.isLoading=!1})).catch((function(){t.isLoading=!1}))}}},r=(a(1482),a(0)),n=Object(r.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data&&t.data.length||t.needLazy&&!t.isRender?a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    "+t._s(t.title)+"\n  ")]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[a("x-skeleton",{attrs:{needLazy:t.needLazy&&!t.isRender,skin:"browsing"}},[a("ul",{staticClass:"browsing-list bbt-clearfix"},t._l(t.data.slice(0,25),(function(e,i){return a("li",{key:i,staticClass:"browsing-list__item"},[a("div",{staticClass:"browsing-list__avatar"},[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:"/user/"+(e.uid||e.author_id),target:"_blank"}},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:e.avatar||e.author_info&&e.author_info.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                  src:\n                    item.avatar ||\n                    (item.author_info && item.author_info.avatar),\n                  error: '/images/default/avatar.gif',\n                  loading: '/images/default/avatar.gif',\n                }",arg:"background-image"}]}),t._v(" "),a("p",[t._v("\n                "+t._s(e.username||e.author_info&&e.author_info.name)+"\n              ")])])],1)])})),0)])],1)]):t._e()}),[],!1,null,"5bf23721",null);e.a=n.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6),a(33),a(25),a(31),a(39),a(4),a(3),a(19);var i,r,n=a(1),s=(a(29),a(16)),o=(a(12),a(2)),c=a(533),l=(a(23),a(18)),u=(a(54),a(178)),d=(a(8),a(17));a(243),a(608);var p={inject:["injectData"],props:{data:{type:Object},chart:{type:Object}},components:{chart:u.a},data:function(){return{needMore:this.data.rules&&this.data.rules.replace(/<[^>]+>/g,"").length>110,isMore:!1,rules:this.data.rules?this.data.rules.replace(/<[^>]+>/g,"").length>110?"".concat(this.data.rules.replace(/<[^>]+>/g,"").substr(0,110),"..."):"".concat(this.data.rules.replace(/<[^>]+>/g,"").substr(0,110)):null}},watch:{data:function(){this.needMore=this.data.rules&&this.data.rules.replace(/<[^>]+>/g,"").length>110,this.isMore=!1,this.rules=this.data.rules?this.data.rules.replace(/<[^>]+>/g,"").length>110?"".concat(this.data.rules.replace(/<[^>]+>/g,"").substr(0,110),"..."):"".concat(this.data.rules.replace(/<[^>]+>/g,"").substr(0,110)):null}},computed:{id:function(){return this.$route.params.id},marketOption:function(){return{xAxis:{type:"category",boundaryGap:!1,show:!1,data:this.chart.x},tooltip:{show:!0,trigger:"axis",backgroundColor:"rgba(255,255,255,0.6)",padding:0,enterable:!0,formatter:function(t,e){var a=t[0].axisValue.split(",");return'\n                  <div style="width:100px;padding: 12px;background:rgba(255,255,255,0.88);box-shadow:0px 0px 4px 0px rgba(0,0,0,0.16);border-radius:4px;">\n                    <p style="margin: 0;font-size:12px;color:rgba(0,0,0,0.88);line-height:22px;">主题：'.concat(a[0],'</p>\n                    <p style="margin: 0;font-size:12px;color:rgba(0,0,0,0.88);line-height:22px;">互动：').concat(a[1],"</p>\n                  </div>\n                ")}},yAxis:{type:"value",show:!1,min:function(t){return t.min-Number.parseInt((t.max-t.min)/5)}},color:["#FFF2DC"],grid:{borderWidth:0,left:0,top:0,bottom:0,right:0},series:[{type:"line",smooth:!1,showSymbol:!1,lineStyle:{normal:{width:1,color:"#1890FF"}},itemStyle:{color:"#4A90E2"},areaStyle:{},data:this.chart.y}]}}},methods:(i=Object(d.a)(),r={fav:function(t,e){var a=this;this.$store.dispatch("block/SET_FAV",{params:{id:t,type:"forum",op:e},id:t}).catch((function(t){a.$message({type:"danger",message:t.message})}))},toggleRule:function(){this.isMore?(this.rules=this.data.rules.replace(/<[^>]+>/g,"").length>110?"".concat(this.data.rules.replace(/<[^>]+>/g,"").substr(0,110),"..."):"".concat(this.data.rules.replace(/<[^>]+>/g,"").substr(0,110)),this.isMore=!1):(this.rules=this.data.rules,this.isMore=!0)}},Object(l.a)(r,"fav",[i],Object.getOwnPropertyDescriptor(r,"fav"),r),r)},m=(a(1477),a(1478),a(0)),f=Object(m.a)(p,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"block-section bbt-clearfix"},[a("div",{staticClass:"block-section__info bbt-clearfix"},[a("div",{staticClass:"block-section__thumb"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:t.data.icon,error:"/images/default/project.jpg",loading:"/images/default/project.jpg"},expression:"{\n          src: data.icon,\n          error: '/images/default/project.jpg',\n          loading: '/images/default/project.jpg',\n        }"}],attrs:{src:"/images/default/project.jpg",alt:t.data.name}}),t._v(" "),"0"==t.data.favid?a("bbt-btn",{attrs:{type:"primary"},on:{click:function(e){return t.fav(t.data.fid)}}},[t._v("关注节点")]):a("bbt-btn",{attrs:{type:"default"},on:{click:function(e){return t.fav(t.data.fid,"delete")}}},[t._v("已关注")])],1),t._v(" "),a("div",{staticClass:"block-section__overview"},[a("h2",[t._v("\n        "+t._s(t.data.name)+"\n        "),a("span",[t._v("主题"),a("span",[t._v(t._s(t._f("num_to_thousand")(t.data.threads)))])]),a("span",[t._v("帖数"),a("span",[t._v(t._s(t._f("num_to_thousand")(t.data.posts)))])])]),t._v(" "),t.data.moderators&&t.data.moderators.length?a("div",{staticClass:"block-section__moderators"},[t._v("\n        节点管理员：\n        "),a("ul",t._l(t.data.moderators,(function(e,i){return a("li",{key:i},[a("nuxt-link",{staticClass:"link-dark-minor",attrs:{to:"/user/"+e.uid,target:"_blank"}},[a("span",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:e.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                  src: item.avatar,\n                  error: '/images/default/avatar.gif',\n                  loading: '/images/default/avatar.gif',\n                }",arg:"background-image"}],staticClass:"bbt-avatar"}),t._v(" "),a("span",{staticClass:"user-name"},[t._v(t._s(e.username))])])],1)})),0)]):t._e(),t._v(" "),a("div",{staticClass:"block-section__desc"},[a("p",{domProps:{innerHTML:t._s(t.rules)}}),t._v(" "),!t.isMore&&t.needMore?a("span",{staticClass:"info-more",on:{click:t.toggleRule}},[t._v("查看更多")]):t.isMore&&t.needMore?a("span",{staticClass:"info-more",staticStyle:{margin:"0",display:"block"},on:{click:t.toggleRule}},[t._v("收起更多")]):t._e()]),t._v(" "),t.data.tag&&t.data.tag.length?a("div",{staticClass:"block-section__tags"},[t._l(t.data.tag,(function(e,i){return a("a",{key:i,staticClass:"bbt-tag bbt-tag--gohost",attrs:{href:e.url,target:"_blank",rel:"noopener"}},[a("img",{attrs:{src:"/images/coin/"+e.slug+".svg"}}),t._v(t._s(e.name))])})),t._v(" "),79==t.id?a("a",{staticClass:"bbt-tag bbt-tag--gohost",attrs:{href:"https://t.me/youtbtcc",target:"_blank",rel:"noopener"}},[a("img",{attrs:{src:"/images/coin/paper_airplane.svg"}}),t._v("电报")]):t._e(),t._v(" "),79==t.id?a("a",{staticClass:"bbt-tag bbt-tag--gohost",attrs:{href:"https://www.btccgl.com/zh-CN/register?utm_campaign=Chainnode&utm_source=Chainnode&utm_medium=Chainnode",target:"_blank",rel:"noopener"}},[a("img",{attrs:{src:"/images/coin/BTCC.svg"}}),t._v("注册")]):t._e(),t._v(" "),228==t.id?a("a",{staticClass:"bbt-tag bbt-tag--gohost",attrs:{href:"https://medium.com/kucoinexchange",target:"_blank",rel:"noopener"}},[a("img",{attrs:{src:"/images/coin/medium.jpg"}}),t._v("Medium")]):t._e(),t._v(" "),228==t.id?a("a",{staticClass:"bbt-tag bbt-tag--gohost",attrs:{href:"https://www.facebook.com/KuCoinOfficial",target:"_blank",rel:"noopener"}},[a("img",{attrs:{src:"/images/coin/facebook.png"}}),t._v("Facebook")]):t._e(),t._v(" "),228==t.id?a("a",{staticClass:"bbt-tag bbt-tag--gohost",attrs:{href:"https://www.kucoin.io/vip/level?lang=zh_CN",target:"_blank",rel:"noopener"}},[a("img",{attrs:{src:"/images/coin/kucoin.png"}}),t._v("资金费率")]):t._e(),t._v(" "),228==t.id?a("a",{staticClass:"bbt-tag bbt-tag--gohost",attrs:{href:"javascript:;"}},[a("img",{attrs:{src:"/images/coin/wechat.png"}}),t._v("\n          微信公众号\n          "),t._m(0)]):t._e()],2):t._e()])]),t._v(" "),a("div",{staticClass:"block-section__chart"},[a("p",[t._v("\n      节点热度指数 "),a("span",[t._v(t._s(t.chart.zs))]),t._v(" , 当前热度"),t.chart.level?a("i",[t._v("较高")]):a("i",[t._v("一般")])]),t._v(" "),a("chart",{staticStyle:{height:"120px",width:"100%"},attrs:{options:t.marketOption}})],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"share-pop"},[e("img",{attrs:{src:"https://appserversrc.8btc.com/post/1c1162b7f89789ce1becfe5011ec670a.png",alt:""}})])}],!1,null,"f456fab6",null).exports,h={props:{data:{type:Object}}},v=(a(1479),Object(m.a)(h,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mining-module"},[a("a",{attrs:{href:t.data.url,target:"_blank",rel:"noopener"}},[a("div",{staticClass:"mining-module__coin",class:t.data.class}),t._v(" "),a("div",{staticClass:"mining-module__info"},[a("p",{staticClass:"font-medium"},[t._v("\n        "+t._s(t.data.name)),a("bbt-icon",{attrs:{type:"right"}})],1),t._v(" "),a("p",[t._v(t._s(t.data.desc||"收录全矿机的挖矿计算器"))])])])])}),[],!1,null,"52922df4",null).exports),b={props:{fid:{validate:function(t){return["2","82"].includes(t)},default:""}}},_=(a(1480),Object(m.a)(b,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-module"},[2==t.fid?a("div",{staticClass:"card-item"},[t._m(0)]):t._e(),t._v(" "),2==t.fid?a("div",{staticClass:"card-item"},[t._m(1)]):t._e(),t._v(" "),82==t.fid?a("div",{staticClass:"card-item"},[t._m(2)]):t._e()])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"simple-item",attrs:{target:"_blank",href:"https://www.qkl123.com/data/halve/btc",rel:"nofollow noopener"}},[e("div",{staticClass:"simple-item__title"},[this._v("\n        比特币减半倒计时\n      ")]),this._v(" "),e("div",{staticClass:"simple-item__desc"},[this._v("\n        减半行情，全方位数据呈现\n      ")]),this._v(" "),e("img",{staticClass:"simple-item__icon",attrs:{src:"/images/simple-card/countdown.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"simple-item",attrs:{target:"_blank",href:"https://www.qkl123.com/data/ahr999/btc",rel:"nofollow noopener"}},[e("div",{staticClass:"simple-item__title"},[this._v("\n        AHR999囤币指标\n      ")]),this._v(" "),e("div",{staticClass:"simple-item__desc"},[this._v("\n        AHR999囤币指标，准确预测最佳囤币时机\n      ")]),this._v(" "),e("img",{staticClass:"simple-item__icon",attrs:{src:"/images/simple-card/ahr999.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"simple-item",attrs:{target:"_blank",href:"https://www.qkl123.com/data/top10",rel:"nofollow noopener"}},[e("div",{staticClass:"simple-item__title"},[this._v("\n        加密币种风云榜\n      ")]),this._v(" "),e("div",{staticClass:"simple-item__desc"},[this._v("\n        回顾加密货币市值前十发展风云史\n      ")]),this._v(" "),e("img",{staticClass:"simple-item__icon",attrs:{src:"/images/simple-card/rankinglist.png",alt:""}})])}],!1,null,"1258e2b7",null).exports),g=a(142),y=a(183);function w(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var k={mixins:[g.a,y.a],components:{XBlockinfoSection:f,XMiningModule:v,XQklCardModule:_},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?w(Object(a),!0).forEach((function(e){Object(n.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(o.c)({ad:function(t){return t.ad},menu:function(t){return t.menu},block:function(t){return t.block},post:function(t){return t.post},author:function(t){return t.author},comment:function(t){return t.comment}}),{},Object(o.b)({adImgData:"ad/adImgData",normalPostData:"post/normalPostData",stickyPostData:"post/stickyPostData"}),{id:function(){return this.$route.params.id},currentType:function(){return this.$route.query&&this.$route.query.specialtype||null},currentOrderby:function(){return this.$route.query&&this.$route.query.orderby||null},routeName:function(){return this.$route.name},routeParams:function(){return this.id},routeQuery:function(){return this.$route.query.orderby},currentPage:function(){return Number(this.$route.params.page)||1},adData:function(){return this.ad.forum},navData:function(){return this.menu.forum},forumType:function(){return this.menu.forum_type},forumOrderby:function(){return this.menu.forum_orderby},totalNum:function(){return Number(this.post.lists.total)||0},blockInfoData:function(){return this.block.items&&this.block.items[this.id]||{}},chartData:function(){return this.block.chart},recommendData:function(){return this.block.recommend.list||[]},onlineData:function(){return this.block.online.list||[]},hotPostData:function(){return this.post.hotPost.list||[]},hotComment:function(){return this.comment.hotComment.list||[]},totalHotComment:function(){return this.comment.hotComment.total||0}})},x=Object(m.a)(k,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("x-blockinfo-section",{attrs:{data:t.blockInfoData,chart:t.chartData}}),t._v(" "),a("bbt-row",[a("bbt-col",{attrs:{span:{xs:17}}},[a("section",{staticClass:"bbt-section"},[a("x-forum-filter",{attrs:{forumType:t.forumType,forumOrderby:t.forumOrderby,currentType:t.currentType,currentOrderby:t.currentOrderby,fid:t.routeParams},on:{switch:t.switchPostTab}}),t._v(" "),a("bbt-loading",{style:t.isPostLoading?"min-height: 1000px;":"",attrs:{loading:t.isPostLoading}},[t.stickyPostData.length?a("x-post-list-module",{attrs:{data:t.stickyPostData,isSticky:!0,canManage:t.canManage,managePost:t.managePost},on:{close:t.closePost}}):t._e(),t._v(" "),t.normalPostData.length?a("x-post-list-module",{attrs:{data:t.normalPostData,canManage:t.canManage,managePost:t.managePost}}):t._e(),t._v(" "),t.stickyPostData.length||t.normalPostData.length?t._e():a("x-empty",[t._v("暂无数据")]),t._v(" "),t.totalNum>t.pageSize?a("el-pagination",{staticStyle:{margin:"24px 0"},attrs:{layout:"prev, pager, next, jumper","current-page":t.currentPage,"page-size":t.pageSize,total:Number.parseInt(t.totalNum)},on:{"current-change":t.changePage}}):t._e()],1),t._v(" "),t.blockInfoData&&t.blockInfoData.name?a("x-post-quick-module",{attrs:{name:t.blockInfoData.name,fid:t.routeParams}}):t._e()],1)]),t._v(" "),a("bbt-col",{attrs:{span:{xs:7}}},[39==t.routeParams?a("x-mining-module",{attrs:{data:{name:"优选矿场",url:"https://www.8btc.com/farms",desc:"托管矿场优选平台",class:"position-39-3"}}}):t._e(),t._v(" "),39==t.routeParams&&t.getCalculator()?a("x-mining-module",{attrs:{data:t.getCalculator()}}):t._e(),t._v(" "),39==t.routeParams?a("x-mining-module",{attrs:{data:{name:"矿机排行榜",url:"https://www.qkl123.com/ranking/mining-rig",desc:"最实时的矿机收益排行",class:"position-39-1"}}}):t._e(),t._v(" "),39==t.routeParams?a("x-mining-module",{attrs:{data:{name:"矿池排行榜",url:"https://www.qkl123.com/ranking/pool",desc:"客观反映国内外矿池综合实力",class:"position-39-2"}}}):t._e(),t._v(" "),t.marketData&&t.prevMarketData&&t.isOpenMarket?a("x-market-module",{attrs:{type:t.marketTypeAsRoute||t.market_type,isSingle:!!t.marketTypeAsRoute,data:t.marketData,prevData:t.prevMarketData},on:{switch:t.switchMarket}}):t._e(),t._v(" "),2==t.routeParams||82==t.routeParams?a("x-qkl-card-module",{attrs:{fid:t.routeParams}}):t._e(),t._v(" "),39!=t.routeParams&&t.getCalculator()?a("x-mining-module",{attrs:{data:t.getCalculator()}}):t._e(),t._v(" "),a("x-browsing-module",{attrs:{data:t.onlineData,needLazy:!0}}),t._v(" "),a("x-hot-post-list",{attrs:{data:t.hotPostData,needLazy:!0}}),t._v(" "),a("x-hot-post-comment",{attrs:{data:t.hotComment,needLazy:!0}}),t._v(" "),a("x-recommend-block",{attrs:{data:t.recommendData,needLazy:!0}}),t._v(" "),t.adImgData.FB3&&t.adImgData.FB3.length?a("div",{attrs:{id:"fix-banner"}},[a("x-ad",{staticClass:"fix-banner",class:{fixed:t.isFixed},staticStyle:{"margin-bottom":"24px"},attrs:{data:t.adImgData.FB3,static:!1}})],1):t._e()],1)],1)],1)}),[],!1,null,null,null).exports,C={mixins:[a(47).a],props:{data:Array,needLazy:Boolean},methods:{fetchModule:function(){var t=this;this.$store.dispatch("block/FETCH_NEW_BLOCK",{type:"new"}).then((function(){window.removeEventListener("scroll",t.debounceFn),t.debounceFn=null,t.isRender=!0,t.isLoading=!1})).catch((function(){t.isLoading=!1}))}}},O=(a(1487),Object(m.a)(C,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data&&t.data.length||t.needLazy&&!t.isRender?a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    最新入驻\n    ")]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[a("x-skeleton",{attrs:{needLazy:t.needLazy&&!t.isRender,skin:"newnodes"}},[a("ul",{staticClass:"block-list bbt-clearfix"},t._l(t.data,(function(e,i){return a("li",{key:i,staticClass:"block-list__item bbt-clearfix"},[a("div",{staticClass:"block-list__item-logo"},[a("nuxt-link",{attrs:{to:{name:"forum-id",params:{id:""+e.fid}},target:"_blank"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.icon,error:"/images/default/project.jpg",loading:"/images/default/project.jpg"},expression:"{\n                  src: item.icon,\n                  error: '/images/default/project.jpg',\n                  loading: '/images/default/project.jpg',\n                }"}],attrs:{src:"/images/default/project.jpg",alt:e.name,target:"_blank"}})])],1),t._v(" "),a("div",{staticClass:"block-list__info"},[a("p",[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"forum-id",params:{id:""+e.fid}},target:"_blank"}},[t._v("\n                "+t._s(e.name)+"\n              ")])],1),t._v(" "),a("p",[t._v(t._s(e.desc))])])])})),0)])],1)]):t._e()}),[],!1,null,"5b1a0bbe",null).exports);function j(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var D={mixins:[g.a],components:{XNewBlock:O},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?j(Object(a),!0).forEach((function(e){Object(n.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(o.c)({ad:function(t){return t.ad},menu:function(t){return t.menu},block:function(t){return t.block},post:function(t){return t.post},author:function(t){return t.author},comment:function(t){return t.comment},notice:function(t){return t.notice},activity:function(t){return t.activity},ama:function(t){return t.ama}}),{},Object(o.b)({adImgData:"ad/adImgData",normalPostData:"post/normalPostData",stickyPostData:"post/stickyPostData"}),{id:function(){return this.$route.params.id},currentType:function(){return this.$route.query&&this.$route.query.specialtype||null},currentOrderby:function(){return this.$route.query&&this.$route.query.orderby||null},routeName:function(){return this.$route.name},routeParams:function(){return this.id},routeQuery:function(){return this.$route.query.orderby},currentPage:function(){return Number(this.$route.params.page)||1},adData:function(){return this.ad.forum},threadAdData:function(){return this.ad.thread},navData:function(){return this.menu.forum},forumType:function(){return this.menu.forum_type},forumOrderby:function(){return this.menu.forum_orderby},totalNum:function(){return Number.parseInt(this.post.lists.total)||0},onlineData:function(){return this.block.online.list||[]},hotPostData:function(){return this.post.hotPost.list||[]},hotComment:function(){return this.comment.hotComment.list||[]},totalHotComment:function(){return this.comment.hotComment.total||0},newBlockData:function(){return this.block.new.list||[]},recommendData:function(){return this.block.recommend.list||[]}})},S=Object(m.a)(D,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("bbt-row",[a("bbt-col",{attrs:{span:{xs:17}}},[t.adImgData.FB1&&t.adImgData.FB1.length?a("x-ad",{staticStyle:{"margin-bottom":"24px"},attrs:{data:t.adImgData.FB1,static:!1}}):t._e(),t._v(" "),a("section",{staticClass:"bbt-section",staticStyle:{"margin-bottom":"0"}},[a("x-forum-filter",{attrs:{forumType:t.forumType,forumOrderby:t.forumOrderby,currentType:t.currentType,currentOrderby:t.currentOrderby,fid:t.routeParams},on:{switch:t.switchPostTab}}),t._v(" "),a("bbt-loading",{style:t.isPostLoading?"min-height: 1000px;":"",attrs:{loading:t.isPostLoading}},[t.stickyPostData.length?a("x-post-list-module",{attrs:{data:t.stickyPostData,isSticky:!0,canManage:t.canManage,managePost:t.managePost,source:!0},on:{close:t.closePost}}):t._e(),t._v(" "),1===t.currentPage?a("x-post-ad-module",{attrs:{data:t.threadAdData}}):t._e(),t._v(" "),t.normalPostData.length?a("x-post-list-module",{attrs:{data:t.normalPostData,canManage:t.canManage,managePost:t.managePost,source:!0}}):t._e(),t._v(" "),t.stickyPostData.length||t.normalPostData.length||t.threadAdData.length?t._e():a("x-empty",[t._v("暂无数据")]),t._v(" "),t.totalNum>t.pageSize?a("el-pagination",{staticStyle:{display:"inline-block",margin:"24px 0"},attrs:{layout:"prev, pager, next, jumper","current-page":t.currentPage,"page-size":t.pageSize,total:t.totalNum>1e3*t.pageSize?1e3*t.pageSize:t.totalNum},on:{"current-change":t.changePage}}):a("div",{staticClass:"place-holder"}),t._v(" "),t.totalNum>t.pageSize?a("bbt-btn",{staticStyle:{float:"right",margin:"20px 0px"},attrs:{type:"primary",size:"lg"},on:{click:t.releasePost}},[a("bbt-icon",{attrs:{type:"report"}}),t._v(" 发布帖子")],1):t._e()],1)],1),t._v(" "),t.adImgData.FB4&&t.adImgData.FB4.length?a("x-ad",{staticStyle:{"margin-bottom":"24px"},attrs:{data:t.adImgData.FB4,static:!1}}):t._e()],1),t._v(" "),a("bbt-col",{attrs:{span:{xs:7}}},[t.adImgData.FB2&&t.adImgData.FB2.length?a("x-ad",{staticStyle:{"margin-bottom":"24px"},attrs:{data:t.adImgData.FB2,static:!1}}):t._e(),t._v(" "),a("x-new-block",{attrs:{data:t.newBlockData,needLazy:!1}}),t._v(" "),a("x-browsing-module",{attrs:{data:t.onlineData,needLazy:!0}}),t._v(" "),a("x-recommend-block",{attrs:{data:t.recommendData,needLazy:!0}}),t._v(" "),a("x-hot-post-list",{attrs:{data:t.hotPostData,needLazy:!0}}),t._v(" "),a("x-hot-post-comment",{attrs:{data:t.hotComment,needLazy:!0}}),t._v(" "),t.adImgData.FB3&&t.adImgData.FB3.length?a("div",{attrs:{id:"fix-banner"}},[a("x-ad",{staticClass:"fix-banner",class:{fixed:t.isFixed},staticStyle:{"margin-bottom":"24px"},attrs:{data:t.adImgData.FB3,static:!1}})],1):t._e()],1)],1)],1)}),[],!1,null,null,null).exports,P={props:{data:{type:Array}}},E=(a(1488),Object(m.a)(P,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    好评官方\n  ")]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[a("ul",{staticClass:"user-list"},t._l(t.data,(function(e,i){return a("li",{key:i,staticClass:"user-list__item bbt-clearfix"},[a("div",{staticClass:"user-list__index",class:"item-index__"+i},[t._v("\n          "+t._s(i+1)+"\n        ")]),t._v(" "),a("div",{staticClass:"user-list__avatar"},[a("nuxt-link",{attrs:{to:"/user/"+e.uid,target:"_blank"}},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:e.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                src: item.avatar,\n                error: '/images/default/avatar.gif',\n                loading: '/images/default/avatar.gif',\n              }",arg:"background-image"}]})])],1),t._v(" "),a("div",{staticClass:"user-list__info"},[a("p",[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:"/user/"+e.uid,target:"_blank"}},[t._v(t._s(e.username))])],1)]),t._v(" "),a("div",{staticClass:"user-list__num"},[t._v(t._s(e.support)),a("br"),t._v("回应点赞")])])})),0)])])}),[],!1,null,"0fa65ebf",null).exports);function T(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var $={mixins:[g.a],components:{XBlockinfoSection:f,XOfficialList:E},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?T(Object(a),!0).forEach((function(e){Object(n.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(o.c)({ad:function(t){return t.ad},menu:function(t){return t.menu},block:function(t){return t.block},post:function(t){return t.post},author:function(t){return t.author},comment:function(t){return t.comment}}),{},Object(o.b)({adImgData:"ad/adImgData",normalPostData:"post/normalPostData",stickyPostData:"post/stickyPostData"}),{id:function(){return this.$route.params.id},currentType:function(){return this.$route.query&&this.$route.query.specialtype||null},currentOrderby:function(){return this.$route.query&&this.$route.query.orderby||null},routeName:function(){return this.$route.name},routeParams:function(){return this.id},routeQuery:function(){return this.$route.query.orderby},currentPage:function(){return Number(this.$route.params.page)||1},adData:function(){return this.ad.forum},navData:function(){return this.menu.forum},forumType:function(){return this.menu.complaint_type},forumOrderby:function(){return this.menu.forum_orderby},totalNum:function(){return Number(this.post.lists.total)||0},blockInfoData:function(){return this.block.items&&this.block.items[this.id]||{}},chartData:function(){return this.block.chart},recommendData:function(){return this.block.recommend.list||[]},officialData:function(){return this.author.official},onlineData:function(){return this.block.online.list||[]},hotPostData:function(){return this.post.hotPost.list||[]},hotComment:function(){return this.comment.hotComment.list||[]},totalHotComment:function(){return Number(this.comment.hotComment.total)||0}})},L=Object(m.a)($,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("x-blockinfo-section",{attrs:{data:t.blockInfoData,chart:t.chartData}}),t._v(" "),a("bbt-row",[a("bbt-col",{attrs:{span:{xs:17}}},[a("section",{staticClass:"bbt-section"},[a("x-forum-filter",{attrs:{forumType:t.forumType,forumOrderby:t.forumOrderby,currentType:t.currentType,currentOrderby:t.currentOrderby,fid:t.routeParams},on:{switch:t.switchPostTab}}),t._v(" "),a("bbt-loading",{style:t.isPostLoading?"min-height: 1000px;":"",attrs:{loading:t.isPostLoading}},[t.stickyPostData.length?a("x-post-list-module",{attrs:{data:t.stickyPostData,isSticky:!0,canManage:t.canManage,managePost:t.managePost},on:{close:t.closePost}}):t._e(),t._v(" "),t.normalPostData.length?a("x-post-list-module",{attrs:{data:t.normalPostData,canManage:t.canManage,managePost:t.managePost}}):t._e(),t._v(" "),t.stickyPostData.length||t.normalPostData.length?t._e():a("x-empty",[t._v("暂无数据")]),t._v(" "),t.totalNum>t.pageSize?a("el-pagination",{staticStyle:{margin:"24px 0"},attrs:{layout:"prev, pager, next, jumper","current-page":t.currentPage,"page-size":t.pageSize,total:t.totalNum>1e3*t.pageSize?1e3*t.pageSize:t.totalNum},on:{"current-change":t.changePage}}):t._e()],1),t._v(" "),t.blockInfoData&&t.blockInfoData.name&&314!=t.routeParams?a("x-post-quick-module",{attrs:{name:t.blockInfoData.name,fid:t.routeParams}}):t._e()],1)]),t._v(" "),a("bbt-col",{attrs:{span:{xs:7}}},[t.officialData.list.length?a("x-official-list",{attrs:{data:t.officialData.list}}):t._e(),t._v(" "),a("x-browsing-module",{attrs:{data:t.onlineData,needLazy:!0}}),t._v(" "),a("x-hot-post-list",{attrs:{data:t.hotPostData,needLazy:!0}}),t._v(" "),a("x-hot-post-comment",{attrs:{data:t.hotComment,needLazy:!0}}),t._v(" "),a("x-recommend-block",{attrs:{data:t.recommendData,needLazy:!0}}),t._v(" "),t.adImgData.FB3&&t.adImgData.FB3.length?a("div",{attrs:{id:"fix-banner"}},[a("x-ad",{staticClass:"fix-banner",class:{fixed:t.isFixed},staticStyle:{"margin-bottom":"24px"},attrs:{data:t.adImgData.FB3,static:!1}})],1):t._e()],1)],1)],1)}),[],!1,null,null,null).exports,I={props:{data:{type:Array}}},F=(a(1489),Object(m.a)(I,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flaw-moudle"},[t._m(0),t._v(" "),a("div",{staticClass:"flaw-list"},t._l(t.data,(function(e,i){return a("div",{key:i,staticClass:"flaw-item bbt-clearfix"},[a("div",{staticClass:"flaw-item__avatar"},[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:"/user/"+e.author_info.id,target:"_blank"}},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:e.author_info&&e.author_info.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n              src: item.author_info && item.author_info.avatar,\n              error: '/images/default/avatar.gif',\n              loading: '/images/default/avatar.gif',\n            }",arg:"background-image"}]}),t._v("\n          "+t._s(e.author_info.name)+"\n        ")])],1),t._v(" "),e.safe_info&&e.safe_info.object_url?a("div",{staticClass:"flaw-item__object"},[a("a",{staticClass:"link-dark-major",attrs:{href:e.safe_info&&e.safe_info.object_url,target:"_blank",rel:"nofollow noopener"}},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:e.safe_info&&e.safe_info.logo||"/images/default/other.svg",error:"/images/default/project.jpg",loading:"/images/default/project.jpg"},expression:"{\n              src:\n                (item.safe_info && item.safe_info.logo) ||\n                '/images/default/other.svg',\n              error: '/images/default/project.jpg',\n              loading: '/images/default/project.jpg',\n            }",arg:"background-image"}]}),t._v("\n          "+t._s(e.safe_info&&e.safe_info.safeobject)+"\n        ")])]):a("div",{staticClass:"flaw-item__object"},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:e.safe_info&&e.safe_info.logo||"/images/default/other.svg",error:"/images/default/project.jpg",loading:"/images/default/project.jpg"},expression:"{\n            src:\n              (item.safe_info && item.safe_info.logo) ||\n              '/images/default/other.svg',\n            error: '/images/default/project.jpg',\n            loading: '/images/default/project.jpg',\n          }",arg:"background-image"}]}),t._v("\n        "+t._s(e.safe_info&&e.safe_info.safeobject)+"\n      ")]),t._v(" "),a("div",{staticClass:"flaw-item__level"},[e.safe_info&&e.safe_info.safelevel&&-1!=e.safe_info.safelevel.indexOf("高危")?a("div",[a("img",{attrs:{src:"/images/common/alert-fill.svg"}}),t._v(" "),a("img",{attrs:{src:"/images/common/alert-fill.svg"}}),t._v(" "),a("img",{attrs:{src:"/images/common/alert-fill.svg"}})]):e.safe_info&&e.safe_info.safelevel&&-1!=e.safe_info.safelevel.indexOf("中危")?a("div",[a("img",{attrs:{src:"/images/common/alert-fill.svg"}}),t._v(" "),a("img",{attrs:{src:"/images/common/alert-fill.svg"}}),t._v(" "),a("img",{attrs:{src:"/images/common/alert-fill-disable.svg"}})]):a("div",[a("img",{attrs:{src:"/images/common/alert-fill.svg"}}),t._v(" "),a("img",{attrs:{src:"/images/common/alert-fill-disable.svg"}}),t._v(" "),a("img",{attrs:{src:"/images/common/alert-fill-disable.svg"}})]),t._v(" "),a("p",[t._v(t._s(e.safe_info&&e.safe_info.safelevel))])]),t._v(" "),a("div",{staticClass:"flaw-item__info"},[e.safe_info?a("h3",[a("span",[t._v(t._s(e.safe_info&&e.safe_info.safetype))]),a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"post-id",params:{id:""+e.tid}},target:"_blank"}},[t._v(t._s(e.safe_info.cveno&&e.safe_info.cveno+" | ")+t._s(e.title))])],1):t._e(),t._v(" "),a("p",[a("nuxt-link",{attrs:{to:{name:"post-id",params:{id:""+e.tid}},target:"_blank"}},[t._v(t._s(e.desc))])],1)]),t._v(" "),a("div",{staticClass:"flaw-item__timestamp"},[a("div",[a("div",[t._v(t._s(e.post_date_format.slice(0,7).replace("-",".")))]),t._v(" "),a("div",[t._v(t._s(e.post_date_format.slice(8,10)))])])])])})),0)])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flaw-head bbt-clearfix"},[a("div",[t._v("\n      披露方\n    ")]),t._v(" "),a("div",[t._v("\n      所属项目\n    ")]),t._v(" "),a("div",[t._v("\n      严重等级\n    ")]),t._v(" "),a("div",{staticStyle:{"text-align":"left",width:"60%"}},[t._v("\n      情报标题\n    ")]),t._v(" "),a("div",[t._v("\n      披露时间\n    ")])])}],!1,null,"90ac8dce",null).exports),N={props:{data:{type:Array}}},z=(a(1490),Object(m.a)(N,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    项目漏洞\n  ")]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[a("ul",{staticClass:"user-list"},t._l(t.data,(function(e,i){return a("li",{key:i,staticClass:"user-list__item bbt-clearfix"},[a("div",{staticClass:"user-list__index",class:"item-index__"+i},[t._v("\n          "+t._s(i+1)+"\n        ")]),t._v(" "),a("div",{staticClass:"user-list__avatar"},[e.url?a("a",{staticClass:"link-dark-major",attrs:{href:e.url,target:"_blank",rel:"nofollow noopener"}},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:e.img,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                src: item.img,\n                error: '/images/default/avatar.gif',\n                loading: '/images/default/avatar.gif',\n              }",arg:"background-image"}]})]):a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:e.img,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n              src: item.img,\n              error: '/images/default/avatar.gif',\n              loading: '/images/default/avatar.gif',\n            }",arg:"background-image"}]})]),t._v(" "),a("div",{staticClass:"user-list__info"},[e.url?a("p",[a("a",{staticClass:"link-dark-major",attrs:{rel:"nofollow noopener",href:e.url,target:"_blank"}},[t._v(t._s(e.tag))])]):a("p",[t._v(t._s(e.tag))])]),t._v(" "),a("div",{staticClass:"user-list__num"},[t._v(t._s(e.count)),a("br"),t._v("提交漏洞")])])})),0)])])}),[],!1,null,"14bc817b",null).exports),M={props:{data:{type:Array}}},A=(a(1491),Object(m.a)(M,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    安全卫士\n  ")]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[a("ul",{staticClass:"user-list"},t._l(t.data,(function(e,i){return a("li",{key:i,staticClass:"user-list__item bbt-clearfix"},[a("div",{staticClass:"user-list__index",class:"item-index__"+i},[t._v("\n          "+t._s(i+1)+"\n        ")]),t._v(" "),a("div",{staticClass:"user-list__avatar"},[a("nuxt-link",{attrs:{to:"/user/"+e.uid,target:"_blank"}},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:e.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                src: item.avatar,\n                error: '/images/default/avatar.gif',\n                loading: '/images/default/avatar.gif',\n              }",arg:"background-image"}]})])],1),t._v(" "),a("div",{staticClass:"user-list__info"},[a("p",[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:"/user/"+e.uid,target:"_blank"}},[t._v(t._s(e.username))])],1)]),t._v(" "),a("div",{staticClass:"user-list__num"},[t._v(t._s(e.count)),a("br"),t._v("提交漏洞")])])})),0)])])}),[],!1,null,"98db6cc0",null).exports),H=a(53);function R(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var q={mixins:[g.a],components:{XBlockinfoSection:f,XFlawListModule:F,XObjectList:z,XFlawUserList:A,XTagFilter:H.a},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?R(Object(a),!0).forEach((function(e){Object(n.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(o.c)({ad:function(t){return t.ad},menu:function(t){return t.menu},block:function(t){return t.block},post:function(t){return t.post}}),{},Object(o.b)({adImgData:"ad/adImgData"}),{id:function(){return this.$route.params.id},currentType:function(){return this.$route.query&&this.$route.query.specialtype||null},currentOrderby:function(){return this.$route.query&&this.$route.query.orderby||null},currentTagId:function(){return this.$route.query&&this.$route.query.tagid||null},routeName:function(){return this.$route.name},routeParams:function(){return this.id},currentPage:function(){return Number(this.$route.params.page)||1},adData:function(){return this.ad.forum},threadAdData:function(){return this.ad.thread},navData:function(){return this.menu.forum},forumType:function(){return this.menu.flaw_type},forumOrderby:function(){return this.menu.forum_orderby},postsData:function(){return this.post.lists},totalNum:function(){return Number.parseInt(this.post.lists.total)||0},blockInfoData:function(){return this.block.items&&this.block.items[this.id]||{}},chartData:function(){return this.block.chart},recommendData:function(){return this.block.recommend.list||[]},onlineData:function(){return this.block.online.list||[]},tagData:function(){return this.block.tags_328},guardData:function(){return this.block.guard},objectData:function(){return this.block.object},hotPostData:function(){return this.post.hotPost.list||[]}})},V=Object(m.a)(q,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("x-blockinfo-section",{attrs:{data:t.blockInfoData,chart:t.chartData}}),t._v(" "),a("bbt-row",[a("bbt-col",{attrs:{span:{xs:17}}},[a("section",{staticClass:"bbt-section"},[a("x-forum-filter",{staticStyle:{"border-bottom":"0"},attrs:{forumType:t.forumType,forumOrderby:[],currentType:t.currentType,currentOrderby:t.currentOrderby,fid:t.routeParams},on:{switch:t.switchPostTab}}),t._v(" "),t.tagData.length>1?a("x-tag-filter",{staticStyle:{"margin-top":"0"},attrs:{menu:t.tagData,currentId:t.currentTagId,isNeedMore:t.tagData.length>10},on:{switch:t.switchTag}}):t._e(),t._v(" "),a("bbt-loading",{style:t.isPostLoading?"min-height: 1000px;":"",attrs:{loading:t.isPostLoading}},[t.postsData.list&&t.postsData.list.length?a("x-flaw-list-module",{attrs:{data:t.postsData.list}}):a("x-empty",[t._v("暂无数据")]),t._v(" "),t.totalNum>t.pageSize?a("el-pagination",{staticStyle:{margin:"24px 0"},attrs:{layout:"prev, pager, next, jumper","current-page":t.currentPage,"page-size":t.pageSize,total:t.totalNum>1e3*t.pageSize?1e3*t.pageSize:t.totalNum},on:{"current-change":t.changePage}}):t._e()],1)],1)]),t._v(" "),a("bbt-col",{attrs:{span:{xs:7}}},[t.guardData.list&&t.guardData.list.length?a("x-flaw-user-list",{attrs:{data:t.guardData.list}}):t._e(),t._v(" "),t.objectData.list&&t.objectData.list.length?a("x-object-list",{attrs:{data:t.objectData.list}}):t._e(),t._v(" "),a("x-hot-post-list",{attrs:{data:t.hotPostData,needLazy:!0,title:"热门情报"}}),t._v(" "),a("x-ad",{staticStyle:{"margin-bottom":"24px"},attrs:{data:[{outer_url:"https://www.8btc.com/article/425706",img_url:"https://cdn.8btc.com/wp-content/uploads/2019/06/201906121203202412.jpg"}],static:!1}}),t._v(" "),a("x-browsing-module",{attrs:{data:t.onlineData,needLazy:!0}}),t._v(" "),a("x-recommend-block",{attrs:{data:t.recommendData,needLazy:!0}}),t._v(" "),t.adImgData.FB3&&t.adImgData.FB3.length?a("div",{attrs:{id:"fix-banner"}},[a("x-ad",{staticClass:"fix-banner",class:{fixed:t.isFixed},staticStyle:{"margin-bottom":"24px"},attrs:{data:t.adImgData.FB3,static:!1}})],1):t._e()],1)],1)],1)}),[],!1,null,null,null).exports,B=a(15),X=a(91),U=a.n(X);function Y(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function G(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(a),!0).forEach((function(e){Object(n.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Y(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var W={components:{XForumNav:c.a,XNormal:x,XNormal61:S,XComplaint:L,XFlaw:V},validate:function(t){var e=t.params;return/^[1-9]+[0-9]*]*$/.test(Number(e.id))&&(!Number(e.page)||/^[1-9]+[0-9]*]*$/.test(Number(e.page)))},watchQuery:["orderby","specialtype","tagid"],fetch:function(t){var e=t.store,a=t.error,i=t.redirect,r=t.params,n=r.id,o=r.page,c=t.query,l=c.orderby,u=c.specialtype,d=c.tagid,p=t.cookie;return Object(s.a)(regeneratorRuntime.mark((function t(){var r,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(1===Number(o)||Number(o)>1e3)){t.next=2;break}return t.abrupt("return",i(301,{path:"/forum/".concat(n)}));case 2:if("118"!=n){t.next=6;break}return t.abrupt("return",i(301,{path:"/events"}));case 6:if("121"!=n){t.next=10;break}return t.abrupt("return",i(301,{path:"/ask-me-anything"}));case 10:if("42"!=n){t.next=12;break}return t.abrupt("return",i(301,{path:"/ask"}));case 12:return(r={}).orderby=l||("328"==n?"dateline":"lastpost"),"poll"===u?r.type=1:"debate"===u?r.type=5:"threaten"===u?r.safetype="威胁情报":"attack"===u?r.safetype="攻击事件":"leak"===u?r.safetype="漏洞预警":"leakage"===u?r.safetype="数据泄漏":"responded"===u?r.responded=1:"unresponded"===u&&(r.responded=0),d>=0&&(r.safeobject=d),s=[e.dispatch("ad/FETCH_LIST",{}),e.dispatch("ad/FETCH_FORUM_LIST",{params:{type:4}}),e.dispatch("post/FETCH_LIST",{params:G({fid:n,page:o,timestamp:p["timestamp-".concat(n)]},r),type:"lists"}),"1"==n?e.dispatch("block/FETCH_NEW_BLOCK",{type:"new"}):"","1"!=n?e.dispatch("block/FETCH_BLOCK_CHART",{params:{fid:n},type:"chart"}):"",e.dispatch("block/FETCH_SINGLE_BLOCK",{params:{fid:"1"==n?"61":n},id:n,type:"items"}),e.dispatch("block/FETCH_ONLINE_LIST",{params:{fid:n},type:"online"}),e.dispatch("manage/FETCH_MANAGE",{params:{type:"forum",fid:n}})],"1"==n&&s.push(e.dispatch("ad/FETCH_POST_LIST",{}),e.dispatch("notice/FETCH_NEW_LIST",{params:{num:20},type:"new"}),e.dispatch("activity/FETCH_RECOMMEND",{params:{},type:"recommend"})),n==B.b[0]&&s.push(e.dispatch("author/FETCH_OFFICIAL_LIST",{params:{},type:"official"})),"328"==n&&s.push(e.dispatch("block/FETCH_328_TAGS",{}),e.dispatch("block/FETCH_GUARD_LIST",{}),e.dispatch("block/FETCH_OBJECT_LIST",{})),t.abrupt("return",Promise.all(s).catch((function(t){return t&&404===t.code?a({statusCode:404}):a({statusCode:500})})));case 21:case"end":return t.stop()}}),t)})))()},computed:G({},Object(o.c)({post:function(t){return t.post}}),{id:function(){return this.$route.params.id},currentPage:function(){return Number(this.$route.params.page)||1},isNormal:function(){return!["1","328","313","314"].includes(this.id)},fids:function(){return B.b}}),created:function(){this.currentPage>Number.parseInt(this.post.lists.total/35)+1&&this.$router.replace({path:"/forum/".concat(this.id)})},watch:{$route:function(){U.a.set("timestamp-".concat(this.id),(new Date).getTime()/1e3,{expires:.2,domain:".chainnode.com"})}},mounted:function(){U.a.set("timestamp-".concat(this.id),(new Date).getTime()/1e3,{expires:.2,domain:".chainnode.com"})}},Q=(a(1492),a(1493),Object(m.a)(W,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bbt-main",staticStyle:{"margin-top":"24px"}},[e("div",{staticClass:"bbt-container"},[e("x-forum-nav"),this._v(" "),this.isNormal?e("x-normal"):"1"==this.id?e("x-normal61"):this.fids.includes(this.id)?e("x-complaint"):"328"==this.id?e("x-flaw"):this._e()],1)])}),[],!1,null,"ccbddb28",null));e.default=Q.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6),a(25);var i=a(1),r=(a(4),a(3),a(19),a(50)),n=(a(12),a(29),a(16)),s=a(2),o=a(82),c={mixins:[a(52).a],components:{XTagModule:o.a},props:{data:{type:Object},isShow:{type:Boolean,default:!0},isMd:{type:Boolean,default:!1}}},l=a(0),u=Object(l.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"normal-module"},[t.data.content?a("div",{directives:[{name:"viewer",rawName:"v-viewer"},{name:"lazy-container",rawName:"v-lazy-container",value:{selector:"img"},expression:"{ selector: 'img' }"}],class:t.isMd?"markdown-body":"bbt-editor-text bbt-html",domProps:{innerHTML:t._s(t.transHtmlAsGroup(t.data.content,t.isMd))}}):t._e(),t._v(" "),t.data.tags&&t.data.tags.length?a("x-tag-module",{attrs:{data:t.data.tags}}):t._e(),t._v(" "),t._m(0)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bbt-module copyright-module",staticStyle:{padding:"8px"}},[e("p",[this._v("免责声明：本文不代表链节点立场，且不构成投资建议，请谨慎对待。")]),this._v(" "),e("p",[this._v("版权声明：作者保留权利，不代表链节点立场。")])])}],!1,null,null,null).exports,d=a(81),p=a(80),m=a(79),f=(a(23),a(42)),h=a(27);function v(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var b={components:{XTab:f.a,XEmpty:h.a},props:{type:{type:Number,default:0},tid:{type:Number|String},tickets:{type:Array}},data:function(){return{isLoading:!1,currentId:0,pageSize:10,currentPage:1,isVisible:!1,info:[],name:null}},watch:{$route:function(){this.$store.dispatch("activity/FETCH_APPLY_LIST",{params:{tid:this.tid,verify:this.menuData[0].type},type:"verify"})}},mounted:function(){this.$store.dispatch("activity/FETCH_APPLY_LIST",{params:{tid:this.tid,verify:this.menuData[0].type},type:"verify"})},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?v(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(s.c)({menuData:function(t){return t.activity.tab},verifyData:function(t){return t.activity.verify},uid:function(t){return t.userinfo.uid}}),{currentIndex:function(){var t=this,e=0;return this.menuData&&this.menuData.length&&this.menuData.map((function(a,i){a.id==t.currentId&&(e=i)})),e}}),methods:{switchTab:function(t){var e=this;this.isLoading=!0,100!=t.type?this.$store.dispatch("activity/FETCH_APPLY_LIST",{params:{tid:this.tid,verify:t.type},type:"verify"}).then((function(){e.isLoading=!1,e.currentId=t.id})).catch((function(){e.isLoading=!1})):this.$store.dispatch("activity/FETCH_ORDER_LIST",{params:{tid:this.tid,verify:1},type:"verify"}).then((function(){e.isLoading=!1,e.currentId=t.id})).catch((function(){e.isLoading=!1}))},changePage:function(t){var e=this;100!=this.menuData[this.currentIndex].type?this.$store.dispatch("activity/FETCH_APPLY_LIST",{params:{tid:this.tid,verify:this.menuData[this.currentIndex].type,page:t,num:this.pageSize},type:"verify"}).then((function(){e.isLoading=!1,e.currentPage=t})).catch((function(){e.isLoading=!1})):this.$store.dispatch("activity/FETCH_ORDER_LIST",{params:{tid:this.tid,verify:1,page:t,num:this.pageSize},type:"verify"}).then((function(){e.isLoading=!1,e.currentPage=t})).catch((function(){e.isLoading=!1}))},checkApply:function(t,e){var a=this;this.$store.dispatch("activity/FETCH_CHECK_APPLY",{params:{applyid:t,verify:e},id:this.tid}).catch((function(t){a.$message({type:"danger",message:t.message})}))},getTicketName:function(t){if(this.tickets.length)for(var e=0;e<this.tickets.length;e++)if(this.tickets[e].ticketid==t)return this.tickets[e].name},showInfoDialog:function(t){this.info=t.apply_info,this.isVisible=!0,this.name=t.user_info.username},exportList:function(){var t=this;this.$store.dispatch("activity/FETCH_EXPORT_LIST",{params:{tid:this.tid,download:1}}).then((function(t){window.open(t.url)})).catch((function(e){t.$message({message:e&&e.msg||e&&e.message||"导出名单失败，请重试",type:"danger"})}))}}},_=(a(1466),Object(l.a)(b,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.menuData&&t.menuData.length?a("div",{staticClass:"verify-module"},[a("x-tab",{attrs:{menu:t.menuData,size:"lg",currentId:t.currentId,currentIndex:t.currentIndex},on:{switch:t.switchTab}}),t._v(" "),a("div",{staticClass:"verify-module__box"},[t.type?a("div",{staticClass:"verify-module__download"},[a("a",{staticClass:"link-dark-major font-medium",attrs:{href:"javascript:;"},on:{click:t.exportList}},[a("bbt-icon",{attrs:{type:"download"}}),t._v(" 导出名单")],1)]):t._e(),t._v(" "),a("div",{staticClass:"verify-module__table"},[a("bbt-loading",{style:t.isLoading?"min-height: 632px;":"",attrs:{loading:t.isLoading}},[100==t.menuData[t.currentIndex].type?a("div",[a("div",{staticClass:"verify-module__th"},[a("div",{staticStyle:{width:"165px"}},[t._v("社区昵称")]),t._v(" "),a("div",{staticStyle:{width:"103px"}},[t._v("票种")]),t._v(" "),a("div",{staticStyle:{width:"103px"}},[t._v("单价")]),t._v(" "),a("div",{staticStyle:{width:"103px"}},[t._v("数量")]),t._v(" "),a("div",{staticStyle:{width:"103px"}},[t._v("支付")]),t._v(" "),a("div",{staticStyle:{width:"165px"}},[t._v("购票时间")])]),t._v(" "),t._l(t.verifyData.list,(function(e,i){return a("div",{key:i,staticClass:"verify-module__tr"},[a("div",{staticStyle:{width:"165px"}},[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:"/user/"+e.user_info.uid,target:"_blank"}},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:e.user_info.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                    src: item.user_info.avatar,\n                    error: '/images/default/avatar.gif',\n                    loading: '/images/default/avatar.gif',\n                  }",arg:"background-image"}]}),t._v(" "),a("span",[t._v(t._s(e.user_info.username))])])],1),t._v(" "),a("div",{staticStyle:{width:"103px"}},[t._v(t._s(t.getTicketName(e.ticketid)))]),t._v(" "),a("div",{staticStyle:{width:"103px"}},[t._v(t._s(e.single_cost))]),t._v(" "),a("div",{staticStyle:{width:"103px"}},[t._v(t._s(e.count))]),t._v(" "),a("div",{staticStyle:{width:"103px"}},[t._v(t._s(e.paid_cost))]),t._v(" "),a("div",{staticStyle:{width:"165px"}},[t._v(t._s(t._f("timeGMT")(e.pay_time)))])])}))],2):a("div",[a("div",{staticClass:"verify-module__th"},[a("div",{staticStyle:{width:"165px"}},[t._v("社区昵称")]),t._v(" "),a("div",{style:"width: "+(0==t.menuData[t.currentIndex].type&&t.type?245:410)+"px;"},[t._v("\n              留言\n            ")]),t._v(" "),a("div",{staticStyle:{width:"165px"}},[t._v("申请时间")]),t._v(" "),0==t.menuData[t.currentIndex].type&&t.type?a("div",{staticStyle:{width:"165px"}},[t._v("\n              操作\n            ")]):t._e()]),t._v(" "),t._l(t.verifyData.list,(function(e,i){return a("div",{key:i,staticClass:"verify-module__tr"},[a("div",{staticStyle:{width:"165px"}},[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:"/user/"+e.user_info.uid,target:"_blank"}},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:e.user_info.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                    src: item.user_info.avatar,\n                    error: '/images/default/avatar.gif',\n                    loading: '/images/default/avatar.gif',\n                  }",arg:"background-image"}]}),t._v(" "),a("span",[t._v(t._s(e.user_info.username))])])],1),t._v(" "),a("div",{style:"width: "+(0==t.menuData[t.currentIndex].type&&t.type?245:410)+"px;color: rgba(0, 0, 0, 0.56);1"},[t._v("\n              "+t._s(e.message||" ")+"\n            ")]),t._v(" "),a("div",{staticStyle:{width:"165px"}},[t._v(t._s(t._f("timeGMT")(e.dateline)))]),t._v(" "),0==t.menuData[t.currentIndex].type&&t.type?a("div",{staticClass:"op-list",staticStyle:{width:"165px"}},[a("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.showInfoDialog(e)}}},[t._v("详情")]),t._v(" "),a("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.checkApply(e.applyid,1)}}},[t._v("通过")]),t._v(" "),a("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.checkApply(e.applyid,2)}}},[t._v("不通过")])]):t._e()])}))],2),t._v(" "),t.verifyData.list.length?t._e():a("x-empty",[t._v("暂无"+t._s(t.menuData[t.currentIndex].name)+"用户")]),t._v(" "),Number.parseInt(t.verifyData.total)>t.pageSize?a("el-pagination",{staticStyle:{padding:"16px 0","border-top":"1px dashed rgba(0, 0, 0, 0.08)"},attrs:{align:"left",layout:"prev, pager, next","current-page":Number.parseInt(t.currentPage),"page-size":t.pageSize,total:Number.parseInt(t.verifyData.total)},on:{"current-change":t.changePage}}):t._e()],1)],1)]),t._v(" "),a("el-dialog",{attrs:{title:t.name+"的报名信息",visible:t.isVisible,"show-close":!0,"close-on-press-escape":!0,"close-on-click-modal":!0,"append-to-body":!0,width:"500px"},on:{"update:visible":function(e){t.isVisible=e}}},[t.info&&t.info.length?a("div",{staticClass:"user-info"},t._l(t.info,(function(e,i){return a("p",{key:i},[a("span",[t._v(t._s(e.name)+"：")]),t._v(t._s(e.val)+"\n      ")])})),0):a("div",{staticClass:"user-info"},[a("P",[t._v("没有报名信息")])],1)])],1):t._e()}),[],!1,null,"21f717ab",null).exports),g=a(84),y={components:{XActivityModule:u,XShareModule:d.a,XExamineModule:p.a,XComment:g.a,XActivityVerify:_,XRewardModule:m.a},props:{singlePostData:{type:Object},operationData:{type:Array},rewardData:{type:Object}}},w=Object(l.a)(y,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.singlePostData.is_act_publish||t.singlePostData.is_admin?a("x-activity-verify",{staticStyle:{margin:"0 0 32px 0"},attrs:{tid:t.singlePostData.id,type:1,tickets:t.singlePostData.tickets}}):t._e(),t._v(" "),a("x-activity-module",{attrs:{data:t.singlePostData,isMd:"md"==t.singlePostData.content_type}}),t._v(" "),t.rewardData.list&&t.rewardData.list.length?a("x-reward-module",{attrs:{data:t.rewardData}}):t._e(),t._v(" "),t.operationData.length?a("x-examine-module",{attrs:{data:t.operationData}}):t._e(),t._v(" "),a("x-share-module",{attrs:{data:t.singlePostData,type:"activity"}}),t._v(" "),a("x-comment",{attrs:{data:t.singlePostData}})],1)}),[],!1,null,null,null).exports,k=a(18);function x(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var C,O,j,D,S={props:{isVisible:{type:Boolean},fields:{type:Array},data:{type:Object}},data:function(){return{ruleForm:{field:[]}}},created:function(){var t=this;this.fields.map((function(e){t.ruleForm.field.push(function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?x(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},e,{value:t.data&&t.data[e.key]||null}))})),this.ruleForm.field.push({desc:"留言",key:"message",value:this.data&&this.data.message||null})},methods:{getRules:function(t){return"mobile"==t.key?[{required:!!t.required,message:"请输入".concat(t.desc),trigger:"blur"},{validator:this.validateMobile,trigger:["blur","change"]}]:"field1"==t.key?[{required:!!t.required,message:"请输入".concat(t.desc),trigger:"blur"},{validator:this.validateEmail,trigger:["blur","change"]}]:[{required:!!t.required,message:"请输入".concat(t.desc),trigger:"blur"}]},validateEmail:function(t,e,a){e?/[a-zA-Z0-9]{1,10}@[a-zA-Z0-9]{1,5}\.[a-zA-Z0-9]{1,5}/.test(e)?a():a(new Error("请输入正确的邮箱")):a()},validateMobile:function(t,e,a){e?/^1(1|2|3|4|5|6|7|8|9|0)\d{9}$/.test(e)?a():a(new Error("请输入正确的手机号码")):a()},closeDialog:function(){this.$emit("close")},goJoin:function(){var t=this;this.$refs.ruleForm.validate((function(e){e&&t.$emit("join",t.ruleForm)}))}}},P=Object(l.a)(S,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isVisible?a("div",{staticClass:"dialog-wrap"},[a("el-dialog",{attrs:{title:"我要报名",visible:t.isVisible,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":!0,width:"500px"},on:{"update:visible":function(e){t.isVisible=e}}},[a("el-form",{ref:"ruleForm",staticClass:"bbt-clearfix",attrs:{model:t.ruleForm,"label-width":"80px"}},[t._l(t.ruleForm.field.slice(0,t.ruleForm.field.length-1),(function(e,i){return a("el-form-item",{key:i,attrs:{for:"field",label:e.desc,prop:"field."+i+".value",rules:t.getRules(e)}},[a("el-input",{attrs:{placeholder:""+(e.placeholder?e.placeholder:"请输入"+e.desc)},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}})],1)})),t._v(" "),a("el-form-item",{attrs:{for:"field",label:"留言",prop:"field."+(t.ruleForm.field.length-1)+".value"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入留言"},model:{value:t.ruleForm.field[t.ruleForm.field.length-1].value,callback:function(e){t.$set(t.ruleForm.field[t.ruleForm.field.length-1],"value",e)},expression:"ruleForm.field[ruleForm.field.length - 1].value"}})],1)],2),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("bbt-btn",{staticStyle:{"margin-right":"16px"},attrs:{type:"default",size:"sm"},on:{click:t.closeDialog}},[t._v("\n        取 消\n      ")]),t._v(" "),a("bbt-btn",{attrs:{type:"primary",size:"sm"},on:{click:t.goJoin}},[t._v("\n        立即报名\n      ")])],1)],1)],1):t._e()}),[],!1,null,null,null).exports,E=a(176),T=a(177),$=a(40),L=a.n($),I=a(15),F=a(17);function N(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function z(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?N(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var M,A,H={inject:["injectData"],components:{"no-ssr":L.a,Share:T.a,XJoinDialog:P,XHelpCoin:E.a},data:function(){return{isVisible:!1,isLoading:!1,currentIndex:-1,num:1,nowTime:Date.parse(new Date)/1e3,config:{url:"".concat(I.e.host,"/event/").concat(this.data.id),title:"".concat(this.data.title,"，").concat(this.data.desc),image:"".concat(this.data.activity.thumb),description:"".concat(this.data.title,"，").concat(this.data.desc),sites:["weibo","wechat"]},weiboStyle:{color:"#fff",marginRight:"12px",fontSize:"16px",padding:"4px"},wechatStyle:{color:"#fff",marginRight:"12px",fontSize:"16px",padding:"4px"}}},props:{data:{type:Object}},computed:z({},Object(s.c)({activity:function(t){return t.activity},userinfo:function(t){return t.userinfo}}),{uid:function(){return this.userinfo.uid},tid:function(){return this.data.id},maxStock:function(){return this.currentIndex>=0?Number.parseInt(this.data.tickets[this.currentIndex].cost)?this.data.tickets[this.currentIndex].stock>10?10:this.data.tickets[this.currentIndex].stock:1:10},prevField:function(){return this.activity.prevfield}}),watch:{$route:function(){this.initCurrentIndex()}},mounted:function(){this.initCurrentIndex()},methods:(C=Object(F.a)(),O=Object(F.a)(),j=Object(F.a)(),D={initCurrentIndex:function(){if(this.data.tickets&&this.data.tickets.length){for(var t=-1,e=0;e<this.data.tickets.length;e++)this.data.tickets[e].order_sn&&this.data.tickets[e].is_pay&&(t=e);if(t>=0)this.currentIndex=t,this.num=this.data.tickets[t].buy_count||1;else for(var a=0;a<this.data.tickets.length;a++)if(this.data.tickets[a].start_time<=this.nowTime&&this.data.tickets[a].end_time>this.nowTime&&this.data.tickets[a].stock>0)return void(this.currentIndex=a)}},close:function(){this.isVisible=!1},getPrecent:function(t,e){return Number.parseInt(t)?Number.parseInt(e)/Number.parseInt(t)*100+"%":"10%"},checkStatus:function(t){return t.is_pay&&t.order_sn?"activity-pay":t.stock<=0?"activity-soldout":t.start_time>this.nowTime?"activity-before":t.start_time<=this.nowTime&&t.end_time>this.nowTime?"activity-on":"activity-after"},buttonStatus:function(t){return t.starttimefrom>this.nowTime?this.currentIndex<0?6:this.data.tickets[this.currentIndex].order_sn&&this.data.tickets[this.currentIndex].is_pay?5:this.data.tickets[this.currentIndex].is_check?7:1:t.starttimefrom<=this.nowTime&&t.starttimeto>this.nowTime?t.extrafield&&"1"==t.extrafield.livetype&&t.extrafield.liveurl?3:2:t.starttimeto<=this.nowTime?t.extrafield&&"1"==t.extrafield.livetype&&t.extrafield.reviewurl?4:2:void 0},switchTicket:function(t,e){t.start_time<=this.nowTime&&t.end_time>this.nowTime&&(this.data.tickets[e].stock>0||this.data.tickets[e].order_sn&&this.data.tickets[e].is_pay)&&(this.currentIndex=e,this.num=1)},fav:function(t,e){this.$store.dispatch("post/SET_FAV",{params:{id:t,type:"thread",op:e},id:t})},goJoin:function(){var t=this;this.$store.dispatch("activity/FETCH_APPLY_HISTORY",{}).then((function(){t.isVisible=!0})).catch((function(){t.isVisible=!0}))},join:function(t){var e=this;if(!this.isLoading){this.isLoading=!0;var a={},i=Number.parseInt(this.data.tickets[this.currentIndex].cost);t.field.map((function(t,e){a[t.key]=t.value})),this.$store.dispatch("activity/FETCH_NEW_APPLY",{params:z({uid:this.uid,tid:this.tid,action:"apply",verify:this.data.tickets[this.currentIndex].check_status?0:1,ticketid:this.data.tickets[this.currentIndex].ticketid,count:this.num},a)}).then((function(t){i?e.createOrder({uid:e.uid,tid:e.tid,ticketid:e.data.tickets[e.currentIndex].ticketid,cost:i,count:e.num,applyid:t.applyid}):e.$message({message:e.data.tickets[e.currentIndex].check_status?"申请成功，审核中...":"报名成功",type:"success"}),e.isVisible=!1,e.isLoading=!1})).catch((function(t){e.$message({message:t.message,type:"danger"}),e.isLoading=!1}))}},createOrder:function(t){var e=this;this.$store.dispatch("order/FETCH_CREATE_ORDER",{params:t}).then((function(t){t.order_sn&&e.goPay(t.order_sn)}))},goPay:function(t){this.$router.push({name:"order-confirm-id",params:{id:t}})}},Object(k.a)(D,"fav",[C],Object.getOwnPropertyDescriptor(D,"fav"),D),Object(k.a)(D,"goJoin",[O],Object.getOwnPropertyDescriptor(D,"goJoin"),D),Object(k.a)(D,"goPay",[j],Object.getOwnPropertyDescriptor(D,"goPay"),D),D)},R=(a(1468),Object(l.a)(H,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data.activity?a("div",{staticClass:"main__header"},[a("div",{staticClass:"header__bg"},[t.data.activity&&(t.data.activity.thumb||t.data.activity.attachurl)?a("div",{style:{"background-image":"url("+(t.data.activity.thumb||t.data.activity.attachurl||"/images/default/news.jpg")+")"}},[a("span")]):t._e()]),t._v(" "),a("div",{staticClass:"header__main"},[a("div",{staticClass:"bbt-container"},[a("div",{staticClass:"activity-main"},[a("div",{staticClass:"activity-item bbt-clearfix"},[a("div",{staticClass:"activity-item__thumb"},[a("nuxt-link",{attrs:{to:{name:"event-id",params:{id:""+t.data.activity.tid}}}},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:t.data.activity.thumb,error:"/images/default/news.jpg",loading:"/images/default/news.jpg"},expression:"{\n                  src: data.activity.thumb,\n                  error: '/images/default/news.jpg',\n                  loading: '/images/default/news.jpg',\n                }",arg:"background-image"}],style:{"backgroun-image":"url('/images/default/news.jpg')"}})])],1),t._v(" "),a("div",{staticClass:"activity-item__info"},[a("h5",[a("nuxt-link",{staticClass:"link-light-major",attrs:{to:{name:"event-id",params:{id:""+t.data.activity.tid}}}},[t._v("\n                "+t._s(t.data.title)+"\n              ")])],1),t._v(" "),a("p",[a("bbt-icon",{attrs:{type:"calendar"}}),t._v(" 时间："),t.data.activity.starttimefrom?a("span",[t._v(t._s(t._f("timeGMT")(t.data.activity.starttimefrom)))]):t._e(),t._v(" "),t.data.activity.starttimeto?a("span",[t._v("\n                至 "+t._s(t._f("timeGMT")(t.data.activity.starttimeto)))]):t._e()],1),t._v(" "),t.data.activity.place?a("p",[a("bbt-icon",{attrs:{type:"activity"}}),t._v(" 地址："+t._s(t.data.activity.place)+"\n            ")],1):t._e(),t._v(" "),a("p",[a("bbt-icon",{attrs:{type:"make-money"}}),t._v(" 价格："+t._s("0"!=t.data.activity.cost&&t.data.activity.cost?t.data.activity.cost+"元起":"免费")+"\n            ")],1),t._v(" "),a("p",[a("bbt-icon",{attrs:{type:"eye"}}),t._v(" 浏览："+t._s(t.data.views))],1),t._v(" "),a("p",[a("bbt-icon",{attrs:{type:"community"}}),t._v(" 人数："),"0"!==t.data.activity.number?a("span",[t._v("限额 "+t._s(t.data.activity.number)+" 人")]):a("span",[t._v("不限人数")])],1)])]),t._v(" "),a("div",{staticClass:"activity-ticket"},[a("div",{staticClass:"activity-ticket__type bbt-clearfix"},[a("div",{staticClass:"activity-ticket__label"},[t._v("活动票种")]),t._v(" "),t.data.tickets.length?a("div",{staticClass:"activity-ticket__list bbt-clearfix"},t._l(t.data.tickets,(function(e,i){return a("div",{key:i,staticClass:"activity-ticket__item",class:[t.checkStatus(e),{active:t.currentIndex==i}],style:i>4?"margin-top: 24px;":"",on:{click:function(a){return t.switchTicket(e,i)}}},["0"!=e.cost?a("span",[t._v("¥"+t._s(e.cost)+"元")]):a("span",[t._v("免费")]),t._v(" "),a("span",[t._v(t._s(e.name))]),t._v(" "),a("span",{staticClass:"status"})])})),0):t._e()]),t._v(" "),a("div",{staticClass:"activity-ticket__desc"},[t.data.tickets[t.currentIndex]&&t.data.tickets[t.currentIndex].description?a("span",[t._v("票种说明："+t._s(t.data.tickets[t.currentIndex].description))]):t._e()]),t._v(" "),a("div",{staticClass:"activity-ticket__num"},[a("div",{staticClass:"activity-ticket__label"},[t._v("订票数量")]),t._v(" "),a("div",{staticClass:"activity-ticket__input"},[a("el-input-number",{attrs:{size:"small",min:1,max:t.maxStock},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}})],1)]),t._v(" "),a("div",{staticClass:"activity-ticket__operate bbt-clearfix"},[a("div",{staticClass:"activity-ticket__share"},[t._v("\n              分享到："),a("no-ssr",[a("share",{attrs:{config:t.config,weiboStyle:t.weiboStyle,wechatStyle:t.wechatStyle}})],1)],1),t._v(" "),a("div",{staticClass:"activity-ticket__order"},[t.data.tickets[t.currentIndex]?a("span",{staticStyle:{"margin-right":"72px",color:"rgba(0,0,0,0.56)"}},[t.data.tickets[t.currentIndex].refund_status?a("x-help-coin",{attrs:{title:"退款说明"}},[t._v("1、本活动由主办方委托【链节点】代为处理退款事宜"),a("br"),t._v("2、如需退款，请请于活动开始前的24小时之前提交申请，活动开始前的24小时内不接受退款"),a("br"),t._v("3、退款时，将收取票价的10%作为手续费")]):a("x-help-coin",{attrs:{title:"退款说明"}},[t._v("由于本活动各项资源需提前采购"),a("br"),t._v("一经售出不接受退款，请确认后购买")])],1):t._e(),t._v(" "),"0"==t.data.favid?a("bbt-btn",{attrs:{href:"javascript:;",type:"primary",ghost:""},on:{click:function(e){return t.fav(t.data.id)}}},[a("bbt-icon",{attrs:{type:"star-o"}}),t._v(" "+t._s(t.data.favcount)+" 次收藏\n              ")],1):a("bbt-btn",{attrs:{href:"javascript:;",type:"default"},on:{click:function(e){return t.fav(t.data.id,"delete")}}},[a("bbt-icon",{attrs:{type:"star1"}}),t._v(" "+t._s(t.data.favcount)+" 次收藏\n              ")],1),t._v(" "),1==t.buttonStatus(t.data.activity)?a("span",[t.data.tickets[t.currentIndex]&&t.data.tickets[t.currentIndex].ticket_url?a("bbt-btn",{attrs:{href:t.data.tickets[t.currentIndex].ticket_url,target:"_blank",type:"primary"}},[t._v("立即报名")]):a("bbt-btn",{attrs:{type:"primary"},on:{click:function(e){return t.goJoin()}}},[t._v("立即报名")])],1):2==t.buttonStatus(t.data.activity)?a("bbt-btn",{attrs:{href:"javascript:;",type:"default",disabled:""}},[t._v("报名结束")]):3==t.buttonStatus(t.data.activity)?a("bbt-btn",{attrs:{target:"_blank",href:t.data.activity.extrafield.reviewurl,type:"primary"}},[t._v("观看直播")]):4==t.buttonStatus(t.data.activity)?a("bbt-btn",{attrs:{target:"_blank",href:t.data.activity.extrafield.liveurl,type:"primary"}},[t._v("观看回放")]):5==t.buttonStatus(t.data.activity)?a("bbt-btn",{attrs:{type:"primary"},on:{click:function(e){return t.goPay(t.data.tickets[t.currentIndex]&&t.data.tickets[t.currentIndex].order_sn)}}},[t._v("立即支付")]):6==t.buttonStatus(t.data.activity)?a("bbt-btn",{attrs:{type:"default",disabled:""}},[t._v("立即报名")]):7==t.buttonStatus(t.data.activity)?a("bbt-btn",{attrs:{type:"default",disabled:""}},[t._v("审核中...")]):a("bbt-btn",{attrs:{type:"default",disabled:""}},[t._v("报名结束")])],1)])])])])]),t._v(" "),t.isVisible?a("x-join-dialog",{attrs:{isVisible:t.isVisible,fields:t.data.forums,data:t.prevField},on:{close:t.close,join:t.join}}):t._e()],1):t._e()}),[],!1,null,"763421b5",null).exports);function q(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function V(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?q(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):q(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var B={inject:["injectData"],components:{XJoinDialog:P},data:function(){return{isVisible:!1,isLoading:!1,nowTime:Date.parse(new Date)/1e3}},props:{data:{type:Object}},computed:V({},Object(s.c)({activity:function(t){return t.activity},userinfo:function(t){return t.userinfo}}),{uid:function(){return this.userinfo.uid},tid:function(){return this.data.id},fields:function(){return this.activity.forms},prevField:function(){return this.activity.prevfield}}),methods:(M=Object(F.a)(),A={close:function(){this.isVisible=!1},isActivityEnd:function(t,e,a){return t&&this.nowTime>Date.parse(new Date(t))/1e3||this.nowTime>e},getPrecent:function(t,e){return Number.parseInt(t)?Number.parseInt(e)/Number.parseInt(t)*100+"%":"10%"},goJoin:function(){var t=this;this.$store.dispatch("activity/FETCH_FORM",{params:{tid:this.tid}}).then((function(e){t.$store.dispatch("activity/FETCH_APPLY_HISTORY",{}).then((function(){t.isVisible=!0})).catch((function(){t.isVisible=!0}))}))},join:function(t){var e=this;if(!this.isLoading){this.isLoading=!0;var a={};t.field.map((function(t,e){a[t.key]=t.value})),this.$store.dispatch("activity/FETCH_JOIN",{params:V({},a,{verify:0,tid:this.tid,uid:this.uid,action:"apply"})}).then((function(t){e.$message({message:"申请成功，审核中...",type:"success"}),e.isLoading=!1,e.isVisible=!1})).catch((function(t){e.$message({type:"danger",message:t.message}),e.isLoading=!1}))}}},Object(k.a)(A,"goJoin",[M],Object.getOwnPropertyDescriptor(A,"goJoin"),A),A)},X=(a(1469),Object(l.a)(B,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main__header"},[a("div",{staticClass:"header__bg"},[t.data.activity&&(t.data.activity.thumb||t.data.activity.attachurl)?a("div",{style:{"background-image":"url("+(t.data.activity.thumb||t.data.activity.attachurl||"/images/default/news.jpg")+")"}},[a("span")]):t._e()]),t._v(" "),a("div",{staticClass:"header__main"},[a("div",{staticClass:"bbt-container"},[a("div",{staticClass:"activity-item bbt-clearfix"},[a("div",{staticClass:"activity-item__thumb"},[a("nuxt-link",{attrs:{to:{name:"event-id",params:{id:""+t.data.activity.tid}},target:"_blank"}},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:t.data.activity.thumb,error:"/images/default/news.jpg",loading:"/images/default/news.jpg"},expression:"{\n                src: data.activity.thumb,\n                error: '/images/default/news.jpg',\n                loading: '/images/default/news.jpg',\n              }",arg:"background-image"}],style:{"backgroun-image":"url('/images/default/news.jpg')"}})])],1),t._v(" "),a("div",{staticClass:"activity-item__info"},[a("h5",[a("nuxt-link",{staticClass:"link-light-major",attrs:{to:{name:"event-id",params:{id:""+t.data.activity.tid}},target:"_blank"}},[t._v("\n              "+t._s(t.data.title)+"\n            ")])],1),t._v(" "),a("p",[a("bbt-icon",{attrs:{type:"calendar"}}),t._v(" 时间："),t.data.activity.starttimefrom?a("span",[t._v(t._s(t._f("timeGMT")(t.data.activity.starttimefrom)))]):t._e(),t._v(" "),t.data.activity.starttimeto?a("span",[t._v("至 "+t._s(t._f("timeGMT")(t.data.activity.starttimeto)))]):t._e()],1),t._v(" "),t.data.activity.place?a("p",[a("bbt-icon",{attrs:{type:"activity"}}),t._v(" 地址："+t._s(t.data.activity.place)+"\n          ")],1):t._e(),t._v(" "),a("p",[a("bbt-icon",{attrs:{type:"make-money"}}),t._v(" 价格："+t._s("0"!=t.data.activity.cost&&t.data.activity.cost?t.data.activity.cost+"元起":"免费")+"\n          ")],1),t._v(" "),a("p",[a("bbt-icon",{attrs:{type:"eye"}}),t._v(" 浏览："+t._s(t.data.views))],1),t._v(" "),a("p",[a("bbt-icon",{attrs:{type:"community"}}),t._v(" 人数："),"0"!==t.data.activity.number?a("span",[t._v("限额 "+t._s(t.data.activity.number)+" 人")]):a("span",[t._v("不限人数")])],1),t._v(" "),t.isActivityEnd(t.data.activity.expiration,t.data.activity.starttimefrom,t.data.activity.starttimeto)?a("div",{staticClass:"join-button"},[a("div",{staticClass:"sign-progress"},[a("span",{staticClass:"progress",style:"width: "+t.getPrecent(t.data.activity.number,t.data.activity.signnumber)+";"}),t._v(" "),a("span",[t._v(t._s(t.data.activity.signnumber)+"人/"),"0"!==t.data.activity.number?a("span",[t._v(t._s(t.data.activity.number)+"人")]):a("span",[t._v("不限")])])]),t._v(" "),t.data.activity.extrafield&&"1"==t.data.activity.extrafield.livetype&&t.data.activity.extrafield.reviewurl?a("bbt-btn",{attrs:{href:t.data.activity.extrafield.reviewurl,target:"_blank",rel:"nofollow noopener",type:"primary"}},[t._v("观看回放")]):t._e(),t._v(" "),a("bbt-btn",{attrs:{type:"default",disabled:""}},[t._v("报名结束")])],1):a("div",{staticClass:"join-button"},[a("div",{staticClass:"sign-progress"},[a("span",{staticClass:"progress",style:"width: "+t.getPrecent(t.data.activity.number,t.data.activity.signnumber)+";"}),t._v(" "),a("span",[t._v(t._s(t.data.activity.signnumber)+"人/"),"0"!==t.data.activity.number?a("span",[t._v(t._s(t.data.activity.number)+"人")]):a("span",[t._v("不限")])])]),t._v(" "),t.data.activity.extrafield&&"1"==t.data.activity.extrafield.applytype?a("nuxt-link",{staticClass:"bbt-btn bbt-btn--primary",attrs:{to:{name:"app-download"},target:"_blank"}},[t._v("\n              请到巴比特App报名\n            ")]):t.data.activity.extrafield&&"1"==t.data.activity.extrafield.livetype&&t.data.activity.extrafield.liveurl?a("bbt-btn",{attrs:{href:t.data.activity.extrafield.liveurl,target:"_blank",rel:"nofollow noopener",type:"primary"}},[t._v("立即观看")]):t.data.activity.extrafield&&t.data.activity.extrafield.applyurl?a("bbt-btn",{attrs:{href:t.data.activity.extrafield.applyurl,target:"_blank",rel:"nofollow noopener",type:"primary"}},[t._v("立即报名")]):a("bbt-btn",{attrs:{type:"primary"},on:{click:t.goJoin}},[t._v("立即报名")])],1)])])])]),t._v(" "),t.isVisible?a("x-join-dialog",{attrs:{isVisible:t.isVisible,fields:t.fields,data:t.prevField},on:{close:t.close,join:t.join}}):t._e()],1)}),[],!1,null,"aa06ee26",null).exports),U={props:{data:{type:Array},styles:{type:String}}},Y=Object(l.a)(U,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("bbt-crumb",{staticStyle:{"margin-bottom":"0"},attrs:{type:t.styles,icon:"right"}},[a("bbt-crumb-item",[a("nuxt-link",{attrs:{to:{name:"index"}}},[a("bbt-icon",{staticStyle:{"font-size":"12px"},attrs:{type:"home"}}),t._v(" ChainNode 链节点\n      ")],1)],1),t._v(" "),a("bbt-crumb-item",[a("nuxt-link",{attrs:{to:{name:"events"}}},[t._v("区块链活动")])],1),t._v(" "),a("bbt-crumb-item",[a("nuxt-link",{attrs:{to:{name:"event-id",params:{id:""+t.$route.params.id}}}},[t._v(t._s(t.data[t.data.length-1].name)+"\n      ")])],1)],1)],1)}),[],!1,null,null,null).exports,G=a(175),W=a(102),Q=(a(33),a(54),a(559),a(41)),K={props:{center:{type:String}},data:function(){return{zoom:14,isShow:!0}},watch:{$route:function(){this.zoom=14}},computed:{rcenter:function(){var t="".concat(this.getArea(this.center).Province?this.getArea(this.center).Province:"").concat(this.getArea(this.center).City?this.getArea(this.center).City:"");return t&&t||"北京"}},components:{"no-ssr":L.a},methods:{ready:function(t){var e=t.BMap,a=t.map,i=new e.LocalSearch(a);i.setSearchCompleteCallback((function(t){for(var i=null,r=null,n=function(n){if(!(i=t[n].getPoi(0))||!i.point)return{v:void 0};a.centerAndZoom(i.point,13),r=new e.Marker(new e.Point(i.point.lng,i.point.lat)),a.addOverlay(r);var s='\n            <p><span class="font-bold" style="font-size: 14px;">'.concat(i.title,'</span><a href="').concat(i.detailUrl,'" target="_blank" class="link-primary" style="font-size: 12px;">  详情&gt;</a></p>\n            <p>地址：').concat(i.address,"</p>\n          "),o=new e.InfoWindow(s);r.addEventListener("click",(function(){this.openInfoWindow(o)}))},s=0;s<t.length;s++){var o=n(s);if("object"===Object(Q.a)(o))return o.v}document.getElementsByClassName("BMap_Marker")[0]&&document.getElementsByClassName("BMap_Marker")[0].click()})),i.search([this.center.split(",")[0].split("，")[0].split("+")[0].split("-")[0].split(" ")[0].split("（")[0].split("(")[0]])},getArea:function(t){var e={},a=0,i=0,r=0;if(-1!==t.indexOf("海外"))e.Province=t.substring(0,2),e.City=null,e.Area=t.substring(2);else if(-1!==t.indexOf("钓鱼岛"))e.Province=t.substring(0,3),e.City=null,e.Area=t.substring(3);else if(-1!==(a=t.indexOf("省"))?e.Province=t.substring(0,a+1):-1!==(i=t.indexOf("自治区"))?e.Province=t.substring(0,i+3):-1!==(i=t.indexOf("行政区"))?e.Province=t.substring(0,i+3):-1!==t.indexOf("市")?e.Province=t.substring(0,3):e.Province=null,-1!==(r=t.indexOf("市")))0==i?e.City=t.substring(a+1,r+1):e.Province?e.City=null:e.City=t.substring(i+3,r+1);else{var n=t.indexOf("自治州");if(-1!==n)e.City=0==i?t.substring(a+1,n+3):t.substring(i+3,n+3);else{var s=t.indexOf("地区");e.City=-1!==s?0==i?t.substring(a+1,s+2):t.substring(i+3,s+2):null}}return e.Area=t.replace(e.Province,"").replace(e.City,""),e}}},J=(a(1471),a(1472),Object(l.a)(K,(function(){var t=this.$createElement,e=this._self._c||t;return e("no-ssr",[this.isShow?e("baidu-map",{staticClass:"bm-view",attrs:{id:"map",center:this.rcenter,zoom:this.zoom,"scroll-wheel-zoom":!0},on:{ready:this.ready}}):this._e()],1)}),[],!1,null,"5a5c431d",null).exports),Z=a(522),tt={props:{data:{type:Array},count:{type:Number,default:5}},data:function(){return{nowTime:Date.parse(new Date)/1e3}},methods:{refresh:function(){this.$emit("refresh")},isActivityEnd:function(t,e,a){return t&&this.nowTime>t||this.nowTime>e}}},et=(a(1473),Object(l.a)(tt,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data&&t.data.length?a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    热门活动\n    "),a("span",{staticClass:"link-dark-minor",on:{click:t.refresh}},[a("bbt-icon",{attrs:{type:"refresh"}}),t._v(" 换一批")],1)]),t._v(" "),a("div",{staticClass:"activity-box"},t._l(t.data,(function(e,i){return i<t.count?a("div",{key:i,staticClass:"activity-item",class:[0===i?"activity-item--lg":"activity-item--small"]},[a("span",{staticClass:"bbt-label bbt-label--top bbt-label--primary"},0===i?[t.isActivityEnd(e.activity.expiration,e.activity.starttimefrom,e.activity.starttimeto)?a("span",[t._v("1")]):a("span",[t._v("报名中")])]:[t._v(t._s(i+1))]),t._v(" "),a("div",{staticClass:"activity-item__thumb"},[a("nuxt-link",{attrs:{to:{name:"event-id",params:{id:""+e.activity.tid}},target:"_blank"}},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:e.activity.thumb,error:"/images/default/news.jpg",loading:"/images/default/news.jpg"},expression:"{\n              src: item.activity.thumb,\n              error: '/images/default/news.jpg',\n              loading: '/images/default/news.jpg',\n            }",arg:"background-image"}],staticStyle:{"background-image":"url('/images/default/news.jpg')"}})])],1),t._v(" "),a("div",{staticClass:"activity-item__body"},[a("div",{staticClass:"activity-item__title"},[a("nuxt-link",{staticClass:"bbt-block",class:[0===i?"link-light-major":"link-dark-major"],attrs:{to:{name:"event-id",params:{id:""+e.activity.tid}},target:"_blank"}},[t._v("\n            "+t._s(e.title)+"\n          ")])],1),t._v(" "),i>0?a("div",{staticClass:"activity-item__info bbt-clearfix"},[a("span",{staticClass:"activity-item__info-item"},[a("bbt-icon",{attrs:{type:"eye"}}),t._v(t._s(e.views)+"\n          ")],1)]):t._e()])]):t._e()})),0)]):t._e()}),[],!1,null,"c583eeb8",null).exports),at=a(8),it={components:{XAuthorModule:G.a,XAd:W.a,XMap:J,XCalendar:Z.a,XHotActivity:et},props:{authorData:{type:Object},actDateList:{type:Array},actList:{type:Object},postData:{type:Object},hotData:{type:Object},ad:{type:Array}},data:function(){return{page:1,isLoading:!1,isShow:!0}},methods:{change:function(t,e){this.$store.dispatch("activity/FETCH_DATE_LIST",{params:Object(at.g)(t,e),type:"date"})},refresh:function(){this.isLoading||(this.page++,this.page>=Math.ceil(Number.parseInt(this.hotData.total)/5)&&(this.page=1),this.$store.dispatch("activity/FETCH_LIST",{params:{module:"index_slide_calendar",orderby:"views",num:5,page:this.page},type:"hot"}))}}},rt=Object(l.a)(it,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-sidebar"},[t.authorData&&t.authorData.authorid?a("x-author-module",{attrs:{data:t.authorData}}):t._e(),t._v(" "),"线上活动"!==t.postData.activity.class&&-1==t.postData.activity.place.indexOf("海外")?a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n      活动地点\n    ")]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[a("x-map",{ref:"baiduMap",attrs:{center:t.postData.activity.place}})],1)]):t._e(),t._v(" "),a("x-calendar",{attrs:{skin:"light",actList:t.actList,actDateList:t.actDateList},on:{change:t.change}}),t._v(" "),t.hotData.list.length?a("x-hot-activity",{attrs:{data:t.hotData.list},on:{refresh:t.refresh}}):t._e(),t._v(" "),t.ad&&t.ad.length?a("x-ad",{staticStyle:{"margin-bottom":"24px"},attrs:{data:t.ad,static:!1}}):t._e()],1)}),[],!1,null,null,null).exports,nt=a(24),st=a.n(nt);function ot(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function ct(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ot(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ot(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var lt={mixins:[a(128).a],components:{XActivity:w,XActivityHeader:R,XActivityOldHeader:X,XActivitySide:rt,XCrumbs:Y},validate:function(t){var e=t.params;return/^[1-9]+[0-9]*]*$/.test(e.id)&&(!e.page||/^[1-9]+[0-9]*]*$/.test(e.page))},watchQuery:["sort","authorid","checkrush"],fetch:function(t){var e=t.store,a=(t.cookie,t.res,t.error),i=t.redirect,s=t.route,o=s.params,c=o.id,l=o.page,u=s.query,d=u.sort,p=u.authorid,m=u.checkrush;return Object(n.a)(regeneratorRuntime.mark((function t(){var n,s,o,u,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!==Number(l)){t.next=2;break}return t.abrupt("return",i(301,{path:"/event/".concat(c)}));case 2:return t.prev=2,n={},"hot"===d?n.orderby="hot":n.ordertype=d&&void 0!==d?d:0,t.next=7,Promise.all([e.dispatch("post/FETCH_POST_SINGLE",{params:{tid:c},id:c,type:"items"}),e.dispatch("comment/FETCH_COMMENT_SINGLE",{params:ct({tid:c,authorid:p,checkrush:m},n,{page:Number(l)||1}),id:c,type:"items"})]);case 7:if(s=t.sent,o=Object(r.a)(s,2),u=o[0],!(!(f=o[1]).totalcount&&l>1||l>Number.parseInt(f.totalcount/15)+1)){t.next=13;break}return t.abrupt("return",i(302,{path:"/event/".concat(c)}));case 13:if("3"!=u.type){t.next=17;break}return t.abrupt("return",i(301,{path:"/question/".concat(u.id)}));case 17:if("0"!=u.type&&"1"!=u.type&&"5"!=u.type&&"2"!=u.type){t.next=21;break}return t.abrupt("return",i(301,{path:"/post/".concat(u.id)}));case 21:if("4"!=u.type){t.next=24;break}if(!u.category||"118"==u.category.id){t.next=24;break}return t.abrupt("return",i(301,{path:"/ama/".concat(u.id)}));case 24:t.next=33;break;case 26:if(t.prev=26,t.t0=t.catch(2),!t.t0||404!==t.t0.code){t.next=32;break}return t.abrupt("return",a({statusCode:404}));case 32:return t.abrupt("return",a({statusCode:500}));case 33:return t.abrupt("return",Promise.all([e.dispatch("ad/FETCH_LIST",{}),e.dispatch("author/FETCH_SINGLE",{params:{tid:c}}),e.dispatch("activity/FETCH_APPLY_TAB",{params:{tid:c},type:"tab"}),e.dispatch("post/FETCH_POST_RELATED",{params:{tid:c}}),e.dispatch("manage/FETCH_MANAGE",{params:{type:"post",tid:c}})]).catch((function(t){})));case 34:case"end":return t.stop()}}),t,null,[[2,26]])})))()},computed:ct({},Object(s.c)({post:function(t){return t.post},menu:function(t){return t.menu},comment:function(t){return t.comment},author:function(t){return t.author},activity:function(t){return t.activity}}),{},Object(s.b)({adImgData:"ad/adImgData"}),{tid:function(){return this.$route.params.id},page:function(){return Number(this.$route.params.page)||1},singlePostData:function(){return this.post.items[this.tid]},isReview:function(){return-2===this.singlePostData.displayorder&&this.singlePostData.catched},operationData:function(){return this.post.operation},rewardData:function(){return this.post.reward},authorData:function(){return this.author.items[this.tid]},menuData:function(){return this.menu.comment},calendarData:function(){return this.activity.calendar},actDateList:function(){for(var t=[],e=0;e<this.activity.date.length;e++)t.push(st()(1e3*this.activity.date[e]).format("YYYYMMDD"));return t},hotData:function(){return this.activity.hot},related:function(){return this.post.related}}),mounted:function(){Promise.all([this.$store.dispatch("activity/FETCH_DATE_LIST",{params:Object(at.g)(),type:"date"}),this.$store.dispatch("activity/FETCH_LIST",{params:{module:"index_slide_calendar",orderby:"views",num:5,page:1},type:"hot"})]).catch((function(t){}))},methods:{getTitle:function(){return this.isReview?"".concat(this.singlePostData.title," - 审核中"):this.page>1?"第".concat(this.page,"页 - ").concat(this.singlePostData.title," - ").concat(this.singlePostData.activity&&this.singlePostData.activity.class):"".concat(this.singlePostData.title," - ").concat(this.singlePostData.activity&&this.singlePostData.activity.class)}},head:function(){return{title:this.getTitle(),meta:[{hid:"description",name:"description",content:this.singlePostData.desc||this.singlePostData.title},{hid:"og:type",property:"og:type",content:"bbs"},{hid:"og:release_date",property:"og:release_date",content:st()(1e3*this.singlePostData.post_date).format("YYYY-MM-DD HH:mm:ss")}]}}},ut=(a(1474),Object(l.a)(lt,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-main",staticStyle:{"margin-top":"0"}},[t.isReview?t._e():a("div",{staticClass:"activity-header"},[a("div",{staticClass:"activity-header__crumbs"},[a("div",{staticClass:"bbt-container"},[t.singlePostData.nav?a("x-crumbs",{attrs:{data:t.singlePostData.nav,styles:"light"}}):t._e()],1)]),t._v(" "),t.singlePostData.activity?a("div",[t.singlePostData.tickets&&t.singlePostData.forums&&t.singlePostData.tickets.length&&t.singlePostData.forums.length?a("x-activity-header",{attrs:{data:t.singlePostData}}):a("x-activity-old-header",{attrs:{data:t.singlePostData}})],1):t._e()]),t._v(" "),a("div",{staticClass:"bbt-container"},[a("bbt-row",[t.isReview?a("bbt-col",{attrs:{span:{xs:16}}},[a("x-review-module",{staticStyle:{"margin-top":"24px"},attrs:{singlePostData:t.singlePostData}})],1):a("bbt-col",{attrs:{span:{xs:16}}},[a("x-activity",{attrs:{singlePostData:t.singlePostData,operationData:t.operationData,rewardData:t.rewardData}})],1),t._v(" "),a("bbt-col",{attrs:{span:{xs:7},offset:1}},[t.singlePostData.activity?a("x-activity-side",{attrs:{authorData:t.authorData,actList:t.calendarData,actDateList:t.actDateList,postData:t.singlePostData,hotData:t.hotData,ad:t.adImgData.FD1}}):t._e()],1)],1)],1)])}),[],!1,null,"7c1a090c",null));e.default=ut.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6),a(23),a(25);var i,r,n=a(1),s=(a(4),a(3),a(19),a(50)),o=(a(12),a(29),a(16)),c=a(2),l=a(72),u=a(115),d=a(82),p=a(52),m={mixins:[p.a],components:{XAttachmentsModule:u.a,XTagModule:d.a},props:{data:{type:Object},isShow:{type:Boolean,default:!0},isMd:{type:Boolean,default:!1},managePost:{type:Object}}},f=a(0),h=Object(f.a)(m,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"normal-module"},[t.data.content&&t.isShow&&t.data.isprice?a("div",{directives:[{name:"viewer",rawName:"v-viewer"},{name:"lazy-container",rawName:"v-lazy-container",value:{selector:"img"},expression:"{ selector: 'img' }"}],class:t.isMd?"markdown-body":"bbt-editor-text bbt-html",domProps:{innerHTML:t._s(t.transHtmlAsGroup(t.data.content,t.isMd))}}):t.data.content&&!t.data.isprice?a("div",{directives:[{name:"viewer",rawName:"v-viewer"},{name:"lazy-container",rawName:"v-lazy-container",value:{selector:"img"},expression:"{ selector: 'img' }"}],class:t.isMd?"markdown-body":"bbt-editor-text bbt-html",domProps:{innerHTML:t._s(t.transHtmlAsGroup(t.data.content,t.isMd))}}):t._e(),t._v(" "),t.data.safe_info&&t.data.safe_info.safesource?a("p",{class:t.isMd?"markdown-body":"bbt-editor-text bbt-html"},[t._v("\n    原文链接："),a("a",{attrs:{href:t.data.safe_info.safesource,rel:"nofollow noopener",target:"_blank"}},[t._v(t._s(t.data.safe_info.safesource))])]):t._e(),t._v(" "),t.data.safe_info&&t.data.safe_info.cve_no?a("p",{class:t.isMd?"markdown-body":"bbt-editor-text bbt-html"},[t._v("\n    CVE链接："),a("a",{attrs:{href:"https://cve.mitre.org/cgi-bin/cvename.cgi?name="+t.data.safe_info.cve_no,rel:"nofollow noopener",target:"_blank"}},[t._v(t._s(t.data.safe_info.cve_no))])]):t._e(),t._v(" "),t.data.attachments&&t.data.attachments.length?a("x-attachments-module",{directives:[{name:"viewer",rawName:"v-viewer"}],attrs:{data:t.data.attachments,canView:t.managePost&&t.managePost.editpost}}):t._e(),t._v(" "),t.data.group_attach_hidden?a("bbt-alert",{attrs:{type:"warning",isShowIcon:!0}},[t._v("\n    本帖子中包含更多资源, 请"),a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"login-password",query:{back_url:t.$route.path}}}},[t._v("登录")]),t._v("查看，还没账号，立即免费"),a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"register",query:{redirect_url:t.$route.fullPath}}}},[t._v("注册\n    ")])],1):t._e(),t._v(" "),t.data.tags&&t.data.tags.length?a("x-tag-module",{attrs:{data:t.data.tags}}):t._e(),t._v(" "),t._m(0)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bbt-module copyright-module",staticStyle:{padding:"8px"}},[e("p",[this._v("免责声明：本文不代表链节点立场，且不构成投资建议，请谨慎对待。")]),this._v(" "),e("p",[this._v("版权声明：作者保留权利，不代表链节点立场。")])])}],!1,null,null,null).exports,v=a(18),b=a(105),_=a(17);function g(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var y,w,k={inject:["injectData"],components:{XDialog:b.a},props:{price:{type:String|Number},isShow:{type:Boolean}},data:function(){return{isVisible:!1,isLoading:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?g(Object(a),!0).forEach((function(e){Object(n.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(c.c)({post:function(t){return t.post},userinfo:function(t){return t.userinfo}}),{uid:function(){return this.userinfo.uid},historyData:function(){return this.post.payhistory},payParams:function(){return this.post.payParams},id:function(){return this.$route.params.id||"0"}}),methods:(i=Object(_.a)(),r={goPay:function(){var t=this;this.$store.dispatch("post/FETCH_PAY_PARAMS",{params:{tid:this.id,uid:this.uid,range:1},type:"payParams"}).then((function(){t.isVisible=!0})).catch((function(e){t.$message({message:e.message,type:"danger"})}))},surePay:function(){var t=this;this.isLoading||(this.isLoading=!0,this.$store.dispatch("post/FETCH_PAY_PARAMS",{params:{tid:this.id},type:"payParams"}).then((function(){t.isVisible=!1,t.isLoading=!1,t.$store.dispatch("post/FETCH_POST_SINGLE",{params:{tid:t.id},id:t.id,type:"items"})})).catch((function(e){t.isVisible=!1,t.isLoading=!1,t.$message({message:e.message,type:"danger"})})))},viewPayHistory:function(){var t=this;this.$store.dispatch("post/FETCH_PAYHISTORY_LIST",{params:{tid:this.id},type:"payhistory"}).then((function(){t.isVisible=!0}))},closeDialog:function(){this.isVisible=!1}},Object(v.a)(r,"goPay",[i],Object.getOwnPropertyDescriptor(r,"goPay"),r),r)},x=(a(1545),Object(f.a)(k,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pay-module"},[t.isShow?a("div",{staticClass:"pay-module__payed"},[a("bbt-icon",{staticStyle:{color:"#FDB500","font-size":"18px"},attrs:{type:"reward"}}),t._v("\n    付费主题，价格 "),a("span",[t._v(t._s(t.price)+" 金币")]),t._v(" "),a("a",{staticClass:"link-primary",attrs:{href:"javascript:;"},on:{click:t.viewPayHistory}},[t._v("查看记录")])],1):a("div",{staticClass:"pay-module__pay"},[a("bbt-icon",{staticStyle:{color:"#FDB500","font-size":"18px"},attrs:{type:"reward"}}),t._v("\n    本主题需向作者支付 "),a("span",[t._v(t._s(t.price)+" 金币")]),t._v(" 才能浏览\n    "),a("a",{staticClass:"link-primary",attrs:{href:"javascript:;"},on:{click:t.goPay}},[t._v("立即支付")])],1),t._v(" "),t.isShow?a("x-dialog",{attrs:{data:t.historyData,type:"payHistory",isVisible:t.isVisible},on:{close:function(e){return t.closeDialog()}}}):a("x-dialog",{attrs:{type:"payPost",isVisible:t.isVisible,isLoading:t.isLoading,data:t.payParams},on:{close:function(e){return t.closeDialog()},pay:t.surePay}})],1)}),[],!1,null,"3d36f631",null).exports),C=a(123),O=a(107),j=a(106),D={components:{XCountdown:j.a},props:{data:{type:Object}},data:function(){return{isStart:1e3*this.data.starttimefrom<=(new Date).getTime(),isEnd:1e3*this.data.starttimeto<=(new Date).getTime(),isRush:this.$route.query.checkrush}},computed:{tid:function(){return this.$route.params.id||"0"}},watch:{$route:function(){this.isRush=this.$route.query.checkrush}},methods:{start_callback:function(){this.isStart=!0},end_callback:function(){this.isEnd=!0},checkRush:function(){this.$router.push({name:this.$route.name,params:{id:this.tid},query:{sort:this.$route.query.sort,checkrush:1},hash:"#comment"})},uncheckRush:function(){this.$router.push({name:this.$route.name,params:{id:this.tid},query:{sort:this.$route.query.sort}})}}},S=(a(1546),Object(f.a)(D,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-module rush-module"},[a("div",{staticClass:"rush-module__title"},[a("span",{staticClass:"title"},[a("bbt-icon",{staticStyle:{"font-size":"20px",color:"#FDB500"},attrs:{type:"preemption"}}),t._v("抢楼信息")],1),t._v(" "),t.isStart?t.isStart&&!t.isEnd?a("span",{staticClass:"timestamp"},[t._v("距离结束还有:"),a("x-countdown",{attrs:{time:t.data.starttimeto,type:"1"},on:{end_callback:t.end_callback}})],1):a("span",{staticClass:"timestamp"},[t._v("抢楼已结束")]):a("span",{staticClass:"timestamp"},[t._v("距离开始还有:"),a("x-countdown",{attrs:{time:t.data.starttimefrom,type:"0"},on:{start_callback:t.start_callback}})],1)]),t._v(" "),t.data.rewardfloor&&t.data.stopfloor?a("div",{staticClass:"rush-module__body"},[a("div",{staticClass:"rush-module__text"},[a("p",[t.data.creditlimit?a("span",[t._v("总积分大于"+t._s(t.data.creditlimit)+"可以抢楼，")]):t._e(),t.data.stopfloor&&Number.parseInt(t.data.stopfloor)>0?a("span",[t._v("截止楼层："+t._s(t.data.stopfloor))]):a("span",[t._v("截止楼层：∞")])]),t._v(" "),t.data.rewardfloor?a("p",[t._v("\n        奖励楼层："),a("span",[t._v(t._s(t.data.rewardfloor||"∞"))]),t._v(" 楼\n      ")]):t._e()]),t._v(" "),t.isRush?a("bbt-btn",{attrs:{type:"primary"},on:{click:t.uncheckRush}},[t._v("查看全部楼层")]):a("bbt-btn",{attrs:{type:"primary"},on:{click:t.checkRush}},[t._v("查看指定楼层")])],1):t._e()])}),[],!1,null,"2bdbb9bf",null).exports),P=a(81),E=a(104),T=a(22),$=a.n(T),L={props:{data:{type:Array|Object}},methods:{xss:function(t){return $()(t,{whiteList:[],stripIgnoreTag:!0})}}},I=(a(1547),Object(f.a)(L,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data&&t.data.length?a("div",{staticClass:"poly-module"},[a("div",{staticClass:"poly-module__header"},[a("bbt-icon",{staticStyle:{color:"#E32C28","font-size":"24px"},attrs:{type:"read"}}),t._v("相关帖子聚合\n  ")],1),t._v(" "),a("div",{staticClass:"poly-module__body"},t._l(t.data,(function(e,i){return a("div",{key:i,staticClass:"poly-module__item"},[a("h4",[a("span",[t._v(t._s(i+1))]),a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"post-id",params:{id:""+e.tid}},target:"_blank"}},[t._v(t._s(e.subject))])],1),t._v(" "),a("p",{domProps:{innerHTML:t._s(t.xss(e.message))}})])})),0)]):t._e()}),[],!1,null,"6051e30c",null).exports),F=a(80),N=a(79),z=a(84),M={components:{XCrumbs:l.a,XNormalModule:h,XPayModule:x,XReplycreditModule:C.a,XHeaderModule:O.a,XRushModule:S,XPolyModule:I,XExamineModule:F.a,XShareModule:P.a,XRewardModule:N.a,XBestReply:E.a,XComment:z.a},props:{singlePostData:{type:Object},polyData:{type:Array|Object},rewardData:{type:Object},operationData:{type:Array},goodCommentData:{type:Object},officialCommentData:{type:Object},managePost:{type:Object}},computed:{page:function(){return Number(this.$route.params.page)||1}},methods:{isShow:function(){return!!(this.managePost&&this.managePost.editpost||this.singlePostData.ispay)}}},A=Object(f.a)(M,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.singlePostData.nav?a("x-crumbs",{attrs:{data:t.singlePostData.nav}}):t._e(),t._v(" "),a("x-header-module",{attrs:{data:t.singlePostData}}),t._v(" "),t.page<=1?a("div",["0"!==t.singlePostData.replycredit&&t.singlePostData.replycredit_rule?a("x-replycredit-module",{attrs:{data:t.singlePostData.replycredit_rule,replycredit:t.singlePostData.replycredit}}):t._e(),t._v(" "),t.singlePostData.rushreply&&t.singlePostData.rushreply.tid?a("x-rush-module",{attrs:{data:t.singlePostData.rushreply}}):t._e(),t._v(" "),t.singlePostData.isprice?a("x-pay-module",{attrs:{price:t.singlePostData.price,isShow:t.isShow()}}):t._e(),t._v(" "),a("x-normal-module",{attrs:{data:t.singlePostData,isShow:t.isShow(),isMd:"md"==t.singlePostData.content_type,managePost:t.managePost}}),t._v(" "),t.polyData.length?a("x-poly-module",{attrs:{data:t.polyData}}):t._e(),t._v(" "),t.rewardData.list&&t.rewardData.list.length?a("x-reward-module",{attrs:{data:t.rewardData}}):t._e(),t._v(" "),t.operationData.length?a("x-examine-module",{attrs:{data:t.operationData}}):t._e(),t._v(" "),a("x-share-module",{attrs:{data:t.singlePostData}}),t._v(" "),t.officialCommentData&&t.officialCommentData.list&&t.officialCommentData.list.length?a("x-best-reply",{attrs:{title:"官方回应",data:t.officialCommentData.list}}):t._e(),t._v(" "),t.goodCommentData&&t.goodCommentData.list&&t.goodCommentData.list.length?a("x-best-reply",{attrs:{title:"精彩回复",data:t.goodCommentData.list}}):t._e()],1):t._e(),t._v(" "),a("x-comment",{attrs:{data:t.singlePostData,canEdit:!t.singlePostData.closed}})],1)}),[],!1,null,null,null).exports;function H(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var R,q,V={inject:["injectData"],mixins:[p.a],components:{XCountdown:j.a,XAttachmentsModule:u.a,XTagModule:d.a},props:{data:{type:Object},isShow:{type:Boolean,default:!0},isMd:{type:Boolean,default:!1},managePost:{type:Object}},data:function(){return{isSubmitLoading:!1,isEnd:1e3*this.data.poll_expiration<=(new Date).getTime(),form:{radio:"",checkbox:[]},rules:{radio:[{required:!0,message:"请选择一个选项",trigger:"change"}],checkbox:[{type:"array",required:!0,message:"请至少选择一个选项投票",trigger:"change"},{type:"array",max:Number.parseInt(this.data.maxchoices),message:"最多选择".concat(this.data.maxchoices,"个选项投票"),trigger:"change"}]}}},watch:{$route:function(){this.isEnd=1e3*this.data.poll_expiration<=(new Date).getTime()}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?H(Object(a),!0).forEach((function(e){Object(n.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):H(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(c.c)({userinfo:function(t){return t.userinfo}}),{uid:function(){return this.userinfo.uid},tid:function(){return this.$route.params.id}}),methods:(y=Object(_.a)(),w={end_callback:function(){this.isEnd=!0},onSubmit:function(){var t=this,e=null;this.$refs.form.validate((function(a){a&&(t.isSubmitLoading=!0,e="radio"===t.data.poll_optiontype?t.form.radio:t.form.checkbox.join(","),t.$store.dispatch("post/FETCH_VOTE",{params:{tid:t.tid,uid:t.uid,pollanswers:e}}).catch((function(e){t.isSubmitLoading=!1,t.$message({type:"danger",message:e.message})})))}))}},Object(v.a)(w,"onSubmit",[y],Object.getOwnPropertyDescriptor(w,"onSubmit"),w),w)},B=(a(1548),a(1549),Object(f.a)(V,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vote-module"},[t.data.content&&t.isShow&&t.data.isprice?a("div",{directives:[{name:"viewer",rawName:"v-viewer"},{name:"lazy-container",rawName:"v-lazy-container",value:{selector:"img"},expression:"{ selector: 'img' }"}],class:t.isMd?"markdown-body":"bbt-editor-text bbt-html",domProps:{innerHTML:t._s(t.transHtmlAsGroup(t.data.content,t.isMd))}}):t.data.content&&!t.data.isprice?a("div",{directives:[{name:"viewer",rawName:"v-viewer"},{name:"lazy-container",rawName:"v-lazy-container",value:{selector:"img"},expression:"{ selector: 'img' }"}],class:t.isMd?"markdown-body":"bbt-editor-text bbt-html",domProps:{innerHTML:t._s(t.transHtmlAsGroup(t.data.content,t.isMd))}}):t._e(),t._v(" "),t.data.tags&&t.data.tags.length?a("x-tag-module",{attrs:{data:t.data.tags}}):t._e(),t._v(" "),t.data.polloptions&&t.data.polloptions.length?a("div",{staticClass:"vote-module__box"},[a("div",{staticClass:"vote-module__title"},[a("span",{staticClass:"title"},[a("bbt-icon",{staticStyle:{"font-size":"24px",color:"#E32C28"},attrs:{type:"vote"}}),a("span",[t._v(t._s("radio"===t.data.poll_optiontype?"单选投票":"多选投票"))]),t._v(t._s(t.data.ispolled?"您已参与了投票":t.data.real_overt?"投票后结果可见，其他人可看到您的投票项目":""))],1),t._v(" "),t.isEnd?a("span",{staticClass:"timestamp"},[t._v("投票已结束")]):a("span",{staticClass:"timestamp"},[t._v("距离结束还有:"),a("x-countdown",{attrs:{time:t.data.poll_expiration},on:{end_callback:t.end_callback}})],1)]),t._v(" "),a("div",{staticClass:"bbt-module"},[t.data.ispolled||t.isEnd?a("div",{staticClass:"vote-module__result"},[t._l(t.data.polloptions,(function(e,i){return a("div",{key:i,staticClass:"vote-module__result-item"},[a("div",{staticClass:"item-name"},[e.imginfo&&(e.imginfo.small||e.imginfo.big)?a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:e.imginfo.small||e.imginfo.big,error:"/images/default/plate.jpg",loading:"/images/default/plate.jpg"},expression:"{\n                src: item.imginfo.small || item.imginfo.big,\n                error: '/images/default/plate.jpg',\n                loading: '/images/default/plate.jpg',\n              }",arg:"background-image"}],staticClass:"option-img"}):t._e(),t._v(" "),a("div",[t._v("\n              "+t._s(i+1)+"、"+t._s(e.polloption)),e.ispolled?a("span",[t._v("（您选择了此选项）")]):t._e()])]),t._v(" "),a("div",{staticClass:"item-ratio bbt-clearfix"},[a("div",{staticClass:"item-ratio__percent"},[a("div",{class:"bbt-pbr__"+i%4,style:"width:"+e.percent+"%"})]),t._v(" "),t.data.visiblepoll?a("div",{staticClass:"item-ratio__num"},[t._v("\n              共"+t._s(e.votes)+"票 "+t._s(e.percent)+"%\n            ")]):t._e()]),t._v(" "),t.data.overt&&e.polled_list&&e.polled_list.length?a("div",{staticClass:"item-avatar bbt-clearfix"},[t._l(e.polled_list,(function(t,e){return a("div",{key:e},[a("nuxt-link",{attrs:{to:"/user/"+t.uid,target:"_blank"}},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:t.avatar,error:"/images/default/plate.jpg",loading:"/images/default/plate.jpg"},expression:"{\n                    src: v.avatar,\n                    error: '/images/default/plate.jpg',\n                    loading: '/images/default/plate.jpg',\n                  }",arg:"background-image"}]})])],1)})),t._v(" "),Number.parseInt(e.votes)>6?a("div",[a("el-tooltip",{attrs:{effect:"dark",content:"共"+e.votes+"票",placement:"bottom"}},[a("span",[t._v("···")])])],1):t._e()],2):t._e()])})),t._v(" "),t.data.visiblepoll?a("div",{staticClass:"votercount"},[a("bbt-icon",{staticStyle:{"font-size":"16px","margin-right":"8px"},attrs:{type:"community"}}),t._v("已有"+t._s(t.data.poll_votercount||0)+"人参与投票\n        ")],1):t._e()],2):a("el-form",{ref:"form",staticClass:"vote-module__form",attrs:{model:t.form,rules:t.rules}},["radio"===t.data.poll_optiontype?a("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{prop:"radio"}},[a("el-radio-group",{model:{value:t.form.radio,callback:function(e){t.$set(t.form,"radio",e)},expression:"form.radio"}},t._l(t.data.polloptions,(function(e,i){return a("div",{key:i,staticClass:"option"},[a("el-radio",{attrs:{label:e.polloptionid}},[e.imginfo&&(e.imginfo.small||e.imginfo.big)?a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:e.imginfo.small||e.imginfo.big,error:"/images/default/plate.jpg",loading:"/images/default/plate.jpg"},expression:"{\n                    src: item.imginfo.small || item.imginfo.big,\n                    error: '/images/default/plate.jpg',\n                    loading: '/images/default/plate.jpg',\n                  }",arg:"background-image"}],staticClass:"option-img"}):t._e(),t._v(" "),a("div",[t._v(t._s(i+1)+"、"+t._s(e.polloption))])])],1)})),0)],1):a("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{prop:"checkbox"}},[a("el-checkbox-group",{model:{value:t.form.checkbox,callback:function(e){t.$set(t.form,"checkbox",e)},expression:"form.checkbox"}},t._l(t.data.polloptions,(function(e,i){return a("div",{key:i,staticClass:"option"},[a("el-checkbox",{attrs:{label:e.polloptionid}},[e.imginfo&&(e.imginfo.small||e.imginfo.big)?a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:e.imginfo.small||e.imginfo.big,error:"/images/default/plate.jpg",loading:"/images/default/plate.jpg"},expression:"{\n                    src: item.imginfo.small || item.imginfo.big,\n                    error: '/images/default/plate.jpg',\n                    loading: '/images/default/plate.jpg',\n                  }",arg:"background-image"}],staticClass:"option-img"}):t._e(),t._v(" "),a("div",[t._v(t._s(i+1)+"、"+t._s(e.polloption))])])],1)})),0)],1),t._v(" "),a("el-form-item",{staticStyle:{"text-align":"right","margin-bottom":"0","margin-top":"8px"}},[t.data.visiblepoll?a("span",{staticClass:"votercount",staticStyle:{float:"left"}},[a("bbt-icon",{staticStyle:{"font-size":"16px","margin-right":"8px"},attrs:{type:"community"}}),t._v("已有"+t._s(t.data.poll_votercount)+"人参与投票\n          ")],1):t._e(),t._v(" "),a("bbt-btn",{attrs:{type:"primary",disabled:t.isSubmitLoading},on:{click:t.onSubmit}},[t._v("提交")])],1)],1)],1)]):t._e(),t._v(" "),t.data.attachments&&t.data.attachments.length?a("x-attachments-module",{directives:[{name:"viewer",rawName:"v-viewer"}],attrs:{data:t.data.attachments,canView:t.managePost&&t.managePost.editpost}}):t._e(),t._v(" "),t.data.group_attach_hidden?a("bbt-alert",{attrs:{type:"warning",isShowIcon:!0}},[t._v("\n    本帖子中包含更多资源, 请"),a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"login-password",query:{back_url:t.$route.path}}}},[t._v("登录")]),t._v("查看，还没账号，立即免费"),a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"register",query:{redirect_url:t.$route.fullPath}}}},[t._v("注册\n    ")])],1):t._e(),t._v(" "),t._m(0)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bbt-module copyright-module",staticStyle:{padding:"8px"}},[e("p",[this._v("免责声明：本文不代表链节点立场，且不构成投资建议，请谨慎对待。")]),this._v(" "),e("p",[this._v("版权声明：作者保留权利，不代表链节点立场。")])])}],!1,null,"64e063de",null).exports),X={components:{XCrumbs:l.a,XVoteModule:B,XPayModule:x,XReplycreditModule:C.a,XHeaderModule:O.a,XRushModule:S,XPolyModule:I,XExamineModule:F.a,XShareModule:P.a,XRewardModule:N.a,XBestReply:E.a,XComment:z.a},props:{singlePostData:{type:Object},polyData:{type:Array|Object},rewardData:{type:Object},operationData:{type:Array},goodCommentData:{type:Object},managePost:{type:Object}},computed:{page:function(){return Number(this.$route.params.page)||1}},methods:{isShow:function(){return!!(this.managePost&&this.managePost.editpost||this.singlePostData.ispay)}}},U=Object(f.a)(X,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.singlePostData.nav?a("x-crumbs",{attrs:{data:t.singlePostData.nav}}):t._e(),t._v(" "),a("x-header-module",{attrs:{data:t.singlePostData}}),t._v(" "),t.page<=1?a("div",["0"!==t.singlePostData.replycredit&&t.singlePostData.replycredit_rule?a("x-replycredit-module",{attrs:{data:t.singlePostData.replycredit_rule,replycredit:t.singlePostData.replycredit}}):t._e(),t._v(" "),t.singlePostData.rushreply&&t.singlePostData.rushreply.tid?a("x-rush-module",{attrs:{data:t.singlePostData.rushreply}}):t._e(),t._v(" "),t.singlePostData.isprice?a("x-pay-module",{attrs:{price:t.singlePostData.price,isShow:t.isShow()}}):t._e(),t._v(" "),a("x-vote-module",{attrs:{data:t.singlePostData,isShow:t.isShow(),isMd:"md"==t.singlePostData.content_type,managePost:t.managePost}}),t._v(" "),t.polyData.length?a("x-poly-module",{attrs:{data:t.polyData}}):t._e(),t._v(" "),t.rewardData.list&&t.rewardData.list.length?a("x-reward-module",{attrs:{data:t.rewardData}}):t._e(),t._v(" "),t.operationData.length?a("x-examine-module",{attrs:{data:t.operationData}}):t._e(),t._v(" "),a("x-share-module",{attrs:{data:t.singlePostData}}),t._v(" "),t.goodCommentData&&t.goodCommentData.list&&t.goodCommentData.list.length?a("x-best-reply",{attrs:{title:"精彩回复",data:t.goodCommentData.list}}):t._e()],1):t._e(),t._v(" "),a("x-comment",{attrs:{data:t.singlePostData,canEdit:!t.singlePostData.closed}})],1)}),[],!1,null,null,null).exports;function Y(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var G={inject:["injectData"],mixins:[p.a],components:{XCountdown:j.a,XAttachmentsModule:u.a,XTagModule:d.a},props:{data:{type:Object},isShow:{type:Boolean,default:!0},isMd:{type:Boolean,default:!1},managePost:{type:Object}},data:function(){return{isSubmitLoading:!1,isStart:1e3*this.data.debate_starttime<=(new Date).getTime(),isEnd:1e3*this.data.debate_endtime<=(new Date).getTime()}},watch:{$route:function(){this.isStart=1e3*this.data.debate_starttime<=(new Date).getTime(),this.isEnd=1e3*this.data.debate_endtime<=(new Date).getTime()}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(a),!0).forEach((function(e){Object(n.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Y(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(c.c)({userinfo:function(t){return t.userinfo}}),{uid:function(){return this.userinfo.uid}}),methods:(R=Object(_.a)(),q={support:function(t,e){var a=this;this.isStart?this.isEnd?this.$message({message:"辩论已结束",type:"danger"}):this.$store.dispatch("post/FETCH_DEBATE_SUPPORT",{params:{tid:t,uid:this.uid,stand:e}}).catch((function(t){a.isSubmitLoading=!1,a.$message({message:t.message,type:"danger"})})):this.$message({message:"辩论未开始",type:"danger"})},start_callback:function(){this.isStart=!0},end_callback:function(){this.isEnd=!0}},Object(v.a)(q,"support",[R],Object.getOwnPropertyDescriptor(q,"support"),q),q)},W=(a(1550),Object(f.a)(G,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"debate-module"},[t.data.content&&t.isShow&&t.data.isprice?a("div",{directives:[{name:"viewer",rawName:"v-viewer"},{name:"lazy-container",rawName:"v-lazy-container",value:{selector:"img"},expression:"{ selector: 'img' }"}],class:t.isMd?"markdown-body":"bbt-editor-text bbt-html",domProps:{innerHTML:t._s(t.transHtmlAsGroup(t.data.content,t.isMd))}}):t.data.content&&!t.data.isprice?a("div",{directives:[{name:"viewer",rawName:"v-viewer"},{name:"lazy-container",rawName:"v-lazy-container",value:{selector:"img"},expression:"{ selector: 'img' }"}],class:t.isMd?"markdown-body":"bbt-editor-text bbt-html",domProps:{innerHTML:t._s(t.transHtmlAsGroup(t.data.content,t.isMd))}}):t._e(),t._v(" "),t.data.tags&&t.data.tags.length?a("x-tag-module",{attrs:{data:t.data.tags}}):t._e(),t._v(" "),a("div",{staticClass:"debate-module__box"},[a("div",{staticClass:"debate-module__title"},[a("span",{staticClass:"title"},[a("bbt-icon",{staticStyle:{"font-size":"24px",color:"#E32C28"},attrs:{type:"debate"}}),t._v(" "),a("span",[t._v("辩论信息")]),t._v(" "),t.data.umpire?a("em",{staticStyle:{"font-style":"normal"}},[t._v("\n          裁判："+t._s(t.data.umpire)+"\n        ")]):t._e()],1),t._v(" "),t.isStart?t.isStart&&!t.isEnd?a("span",{staticClass:"timestamp"},[t._v("距离结束还有:"),a("x-countdown",{attrs:{time:t.data.debate_endtime,type:"1"},on:{end_callback:t.end_callback}})],1):a("span",{staticClass:"timestamp"},[t._v("辩论已结束")]):a("span",{staticClass:"timestamp"},[t._v("距离开始还有:"),a("x-countdown",{attrs:{time:t.data.debate_starttime,type:"0"},on:{start_callback:t.start_callback}})],1)]),t._v(" "),a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"devate-viewpoint bbt-clearfix"},[t._m(0),t._v(" "),a("div",{staticClass:"devate-viewpoint__item devate-viewpoint__left"},[a("div",{staticClass:"label"},[t._v("\n            正方观点（"+t._s(t.data.affirmdebaters||0)+" 支持）\n          ")]),t._v(" "),a("div",{staticClass:"argument"},[t._v(t._s(t.data.affirmpoint))]),t._v(" "),a("div",{staticClass:"bar bbt-clearfix"},[a("div",{staticClass:"bar__support-btn",on:{click:function(e){return t.support(t.data.id,1)}}},[a("bbt-icon",{staticStyle:{"font-size":"18px",color:"#F46300"},attrs:{type:"thumb-up"}}),t._v(" "),a("span",[t._v("支持正方")])],1),t._v(" "),a("div",{staticClass:"bar-fluid"},[a("div",{staticClass:"bar-percent",style:"width:"+Number.parseInt(t.data.affirmdebaters)/(Number.parseInt(t.data.affirmdebaters)+Number.parseInt(t.data.negadebaters))*100+"%;"})])]),t._v(" "),a("div",{staticClass:"debater"},[a("div",{staticClass:"debater-num"},[t._v("\n              正方辩手："+t._s(t.data.affirmdebaters)+"\n            ")]),t._v(" "),t.data.affirmavatars&&t.data.affirmavatars.length?a("div",{staticClass:"debater-user"},t._l(t.data.affirmavatars,(function(t,e){return a("div",{key:e},[a("nuxt-link",{attrs:{to:"/user/"+t.authorid,target:"_blank"}},[a("el-tooltip",{attrs:{effect:"dark",content:t.author,placement:"bottom"}},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:t.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                        src: item.avatar,\n                        error: '/images/default/avatar.gif',\n                        loading: '/images/default/avatar.gif',\n                      }",arg:"background-image"}]})])],1)],1)})),0):t._e()])]),t._v(" "),a("div",{staticClass:"devate-viewpoint__item devate-viewpoint__right"},[a("div",{staticClass:"label"},[t._v("\n            反方观点（"+t._s(t.data.negadebaters||0)+" 支持）\n          ")]),t._v(" "),a("div",{staticClass:"argument"},[t._v(t._s(t.data.negapoint))]),t._v(" "),a("div",{staticClass:"bar bbt-clearfix"},[a("div",{staticClass:"bar__support-btn",on:{click:function(e){return t.support(t.data.id,2)}}},[a("bbt-icon",{staticStyle:{"font-size":"18px",color:"#198489"},attrs:{type:"thumb-up"}}),t._v(" "),a("span",[t._v("支持反方")])],1),t._v(" "),a("div",{staticClass:"bar-fluid"},[a("div",{staticClass:"bar-percent",style:"width:"+Number.parseInt(t.data.negadebaters)/(Number.parseInt(t.data.affirmdebaters)+Number.parseInt(t.data.negadebaters))*100+"%;"})])]),t._v(" "),a("div",{staticClass:"debater"},[a("div",{staticClass:"debater-num"},[t._v("\n              反方辩手："+t._s(t.data.negadebaters)+"\n            ")]),t._v(" "),t.data.negaavatars&&t.data.negaavatars.length?a("div",{staticClass:"debater-user"},t._l(t.data.negaavatars,(function(t,e){return a("div",{key:e},[a("nuxt-link",{attrs:{to:"/user/"+t.authorid,target:"_blank"}},[a("el-tooltip",{attrs:{effect:"dark",content:t.author,placement:"bottom"}},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:t.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                        src: item.avatar,\n                        error: '/images/default/avatar.gif',\n                        loading: '/images/default/avatar.gif',\n                      }",arg:"background-image"}]})])],1)],1)})),0):t._e()])])])])]),t._v(" "),t.data.attachments&&t.data.attachments.length?a("x-attachments-module",{directives:[{name:"viewer",rawName:"v-viewer"}],attrs:{data:t.data.attachments,canView:t.managePost&&t.managePost.editpost}}):t._e(),t._v(" "),t.data.group_attach_hidden?a("bbt-alert",{attrs:{type:"warning",isShowIcon:!0}},[t._v("\n    本帖子中包含更多资源, 请"),a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"login-password",query:{back_url:t.$route.path}}}},[t._v("登录")]),t._v("查看，还没账号，立即免费"),a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"register",query:{redirect_url:t.$route.fullPath}}}},[t._v("注册\n    ")])],1):t._e(),t._v(" "),t._m(1)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vs-coin"},[e("i",[this._v("VS")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bbt-module copyright-module",staticStyle:{padding:"8px"}},[e("p",[this._v("免责声明：本文不代表链节点立场，且不构成投资建议，请谨慎对待。")]),this._v(" "),e("p",[this._v("版权声明：作者保留权利，不代表链节点立场。")])])}],!1,null,"7323216e",null).exports),Q={components:{XCrumbs:l.a,XDebateModule:W,XPayModule:x,XReplycreditModule:C.a,XHeaderModule:O.a,XRushModule:S,XPolyModule:I,XExamineModule:F.a,XShareModule:P.a,XRewardModule:N.a,XBestReply:E.a,XComment:z.a},props:{singlePostData:{type:Object},polyData:{type:Array|Object},rewardData:{type:Object},operationData:{type:Array},goodCommentData:{type:Object},managePost:{type:Object}},computed:{currentStand:function(){return this.singlePostData.user_stand},isStart:function(){return 1e3*this.singlePostData.debate_starttime<=(new Date).getTime()},isEnd:function(){return 1e3*this.singlePostData.debate_endtime<=(new Date).getTime()},page:function(){return Number(this.$route.params.page)||1}},methods:{isShow:function(){return!!(this.managePost&&this.managePost.editpost||this.singlePostData.ispay)}}},K=Object(f.a)(Q,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.singlePostData.nav?a("x-crumbs",{attrs:{data:t.singlePostData.nav}}):t._e(),t._v(" "),a("x-header-module",{attrs:{data:t.singlePostData}}),t._v(" "),t.page<=1?a("div",["0"!==t.singlePostData.replycredit&&t.singlePostData.replycredit_rule?a("x-replycredit-module",{attrs:{data:t.singlePostData.replycredit_rule,replycredit:t.singlePostData.replycredit}}):t._e(),t._v(" "),t.singlePostData.rushreply&&t.singlePostData.rushreply.tid?a("x-rush-module",{attrs:{data:t.singlePostData.rushreply}}):t._e(),t._v(" "),t.singlePostData.isprice?a("x-pay-module",{attrs:{price:t.singlePostData.price,isShow:t.isShow()}}):t._e(),t._v(" "),a("x-debate-module",{attrs:{data:t.singlePostData,isShow:t.isShow(),isMd:"md"==t.singlePostData.content_type,managePost:t.managePost}}),t._v(" "),t.polyData.length?a("x-poly-module",{attrs:{data:t.polyData}}):t._e(),t._v(" "),t.rewardData.list&&t.rewardData.list.length?a("x-reward-module",{attrs:{data:t.rewardData}}):t._e(),t._v(" "),t.operationData.length?a("x-examine-module",{attrs:{data:t.operationData}}):t._e(),t._v(" "),a("x-share-module",{attrs:{data:t.singlePostData}}),t._v(" "),t.goodCommentData&&t.goodCommentData.list&&t.goodCommentData.list.length?a("x-best-reply",{attrs:{title:"精彩回复",data:t.goodCommentData.list}}):t._e()],1):t._e(),t._v(" "),a("x-comment",{attrs:{data:t.singlePostData,canEdit:!t.singlePostData.closed&&t.isStart&&!t.isEnd,currentStand:t.currentStand}})],1)}),[],!1,null,null,null).exports,J=a(175),Z=a(169),tt=a(168),et=a(78),at=a(102),it={components:{XAuthorModule:J.a,XRecommendBlock:Z.a,XHotPostList:tt.a,XHotPostComment:et.a,XAd:at.a},props:{authorData:{type:Object},recommendData:{type:Array},hotPostData:{type:Array},hotComment:{type:Array},ad:{type:Array}}},rt=Object(f.a)(it,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-sidebar"},[t.authorData&&t.authorData.authorid?a("x-author-module",{attrs:{data:t.authorData}}):t._e(),t._v(" "),a("x-recommend-block",{attrs:{data:t.recommendData,needLazy:!1}}),t._v(" "),a("x-hot-post-list",{attrs:{data:t.hotPostData,needLazy:!0}}),t._v(" "),a("x-hot-post-comment",{attrs:{data:t.hotComment,needLazy:!0}}),t._v(" "),t.ad&&t.ad.length?a("x-ad",{staticStyle:{"margin-bottom":"24px"},attrs:{data:t.ad,static:!1}}):t._e()],1)}),[],!1,null,null,null).exports,nt=a(24),st=a.n(nt);function ot(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function ct(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ot(Object(a),!0).forEach((function(e){Object(n.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ot(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var lt={mixins:[a(128).a],components:{XNormal:A,XVote:U,XDebate:K,XPostSide:rt},validate:function(t){var e=t.params;return/^[1-9]+[0-9]*]*$/.test(e.id)&&(!e.page||/^[1-9]+[0-9]*]*$/.test(e.page))},watchQuery:["sort","authorid","checkrush"],fetch:function(t){var e=t.store,a=(t.cookie,t.res,t.error),i=t.redirect,r=t.route,n=r.params,c=n.id,l=n.page,u=r.query,d=u.sort,p=u.authorid,m=u.checkrush;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,n,o,u,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!==Number(l)){t.next=2;break}return t.abrupt("return",i(301,{path:"/post/".concat(c)}));case 2:return t.prev=2,r={},"hot"===d?r.orderby="hot":r.ordertype=d&&void 0!==d?d:0,t.next=7,Promise.all([e.dispatch("post/FETCH_POST_SINGLE",{params:{tid:c},id:c,type:"items"}),e.dispatch("comment/FETCH_COMMENT_SINGLE",{params:ct({tid:c,authorid:p,checkrush:m},r,{page:Number(l)||1}),id:c,type:"items"})]);case 7:if(n=t.sent,o=Object(s.a)(n,2),u=o[0],!(!(f=o[1]).totalcount&&l>1||l>Number.parseInt(f.totalcount/15)+1)){t.next=13;break}return t.abrupt("return",i(302,{path:"/post/".concat(c)}));case 13:if(u.category||u.category.id){t.next=16;break}throw{code:404};case 16:if("3"!=u.type){t.next=20;break}return t.abrupt("return",i(301,{path:"/question/".concat(u.id)}));case 20:if("4"!=u.type){t.next=26;break}if(!u.category||"118"!=u.category.id){t.next=25;break}return t.abrupt("return",i(301,{path:"/event/".concat(u.id)}));case 25:return t.abrupt("return",i(301,{path:"/ama/".concat(u.id)}));case 26:t.next=35;break;case 28:if(t.prev=28,t.t0=t.catch(2),!t.t0||404!==t.t0.code){t.next=34;break}return t.abrupt("return",a({statusCode:404}));case 34:return t.abrupt("return",a({statusCode:500}));case 35:return t.abrupt("return",Promise.all([e.dispatch("ad/FETCH_LIST",{}),e.dispatch("author/FETCH_SINGLE",{params:{tid:c}}),e.dispatch("post/FETCH_POST_RELATED",{params:{tid:c}}),e.dispatch("manage/FETCH_MANAGE",{params:{type:"post",tid:c}})]).catch((function(t){})));case 36:case"end":return t.stop()}}),t,null,[[2,28]])})))()},computed:ct({},Object(c.c)({block:function(t){return t.block},post:function(t){return t.post},menu:function(t){return t.menu},comment:function(t){return t.comment},author:function(t){return t.author},activity:function(t){return t.activity},manage:function(t){return t.manage}}),{},Object(c.b)({adImgData:"ad/adImgData"}),{tid:function(){return this.$route.params.id},page:function(){return Number(this.$route.params.page)||1},managePost:function(){return this.manage.manage.post},singlePostData:function(){return this.post.items[this.tid]},category:function(){return this.singlePostData.category&&this.singlePostData.category.id},type:function(){return this.post.items[this.tid].type},isReview:function(){return-2===this.singlePostData.displayorder&&this.singlePostData.catched},isPost:function(){return"0"===this.type||"2"===this.type},isVote:function(){return"1"===this.type},isDebate:function(){return"5"===this.type},rewardData:function(){return this.post.reward},polyData:function(){return this.post.polylist},recommendData:function(){return this.block.recommend.list||[]},hotPostData:function(){return this.post.hotPost.list||[]},hotComment:function(){return this.comment.hotComment.list||[]},totalHotComment:function(){return Number(this.comment.hotComment.total)||0},authorData:function(){return this.author.items[this.tid]},goodCommentData:function(){return this.comment.goodComment},operationData:function(){return this.post.operation},officialCommentData:function(){return this.comment.response},related:function(){return this.post.related}}),methods:{getTitle:function(){return this.isReview?"".concat(this.singlePostData.title," - 审核中"):this.page>1?"第".concat(this.page,"页 - ").concat("1"==this.singlePostData.official_response?"【官方回应】":"").concat(this.singlePostData.title," - ").concat(this.singlePostData.category&&this.singlePostData.category.name):"".concat("1"==this.singlePostData.official_response?"【官方回应】":"").concat(this.singlePostData.title," - ").concat(this.singlePostData.category&&this.singlePostData.category.name)}},head:function(){return{title:this.getTitle(),meta:[{hid:"description",name:"description",content:this.singlePostData.desc||this.singlePostData.title},{hid:"keywords",name:"keywords",content:"比特币,比特币资讯,区块链,区块链资讯,数字货币,数字货币资讯,虚拟货币,虚拟货币资讯"},{hid:"og:type",property:"og:type",content:"bbs"},{hid:"og:release_date",property:"og:release_date",content:this.singlePostData.post_date?st()(1e3*this.singlePostData.post_date).format("YYYY-MM-DD HH:mm:ss"):""}]}}},ut=(a(1551),Object(f.a)(lt,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-main",staticStyle:{"margin-top":"24px"}},[a("div",{staticClass:"bbt-container"},[a("bbt-row",[t.isReview?a("bbt-col",{attrs:{span:{xs:16}}},[a("x-review-module",{attrs:{singlePostData:t.singlePostData}})],1):a("bbt-col",{attrs:{span:{xs:16}}},[t.isPost?a("x-normal",{attrs:{singlePostData:t.singlePostData,polyData:t.polyData,rewardData:t.rewardData,operationData:t.operationData,goodCommentData:t.goodCommentData,officialCommentData:t.officialCommentData,managePost:t.managePost}}):t.isVote?a("x-vote",{attrs:{singlePostData:t.singlePostData,polyData:t.polyData,rewardData:t.rewardData,operationData:t.operationData,goodCommentData:t.goodCommentData,officialCommentData:t.officialCommentData,managePost:t.managePost}}):t.isDebate?a("x-debate",{attrs:{singlePostData:t.singlePostData,polyData:t.polyData,rewardData:t.rewardData,operationData:t.operationData,goodCommentData:t.goodCommentData,officialCommentData:t.officialCommentData,managePost:t.managePost}}):t._e()],1),t._v(" "),a("bbt-col",{attrs:{span:{xs:7},offset:1}},[a("x-post-side",{attrs:{authorData:t.authorData,recommendData:t.recommendData,hotPostData:t.hotPostData,hotComment:t.hotComment,ad:t.adImgData.FD1}})],1)],1)],1)])}),[],!1,null,"6bcadda0",null));e.default=ut.exports},function(t,e,a){"use strict";a(7),a(5),a(4),a(6),a(3),a(23),a(31),a(39);var i=a(1),r=(a(903),a(0)),n=Object(r.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-topbar"},[a("div",{staticClass:"bbt-container bbt-clearfix"},[a("div",{staticClass:"marquee-wrap"},[a("div",{staticClass:"marquee-wrap__absolute"},[a("span",{staticClass:"label"},[a("a",{attrs:{href:"http://www.cbrc.gov.cn/chinese/newShouDoc/02DD1CADB1AC45DF948E3AD36F93BEDD.html",target:"_blank"}},[a("bbt-icon",{staticStyle:{"vertical-align":"middle"},attrs:{type:"info-circle"}}),t._v("\n            "+t._s('风险提示：防范以"虚拟货币""区块链"名义进行非法集资的风险  —银保监会等五部门')+"\n          ")],1)])])]),t._v(" "),a("ul",{staticClass:"bbt-topbar__menu bbt-clearfix"},[t._m(0),t._v(" "),a("li",[a("nuxt-link",{attrs:{to:"/nodes/initialization",target:"_blank"}},[a("bbt-icon",{staticStyle:{"font-size":"16px",top:"-1px",position:"relative","vertical-align":"middle"},attrs:{type:"add-node"}}),t._v("创建节点")],1)],1),t._v(" "),a("li",[a("nuxt-link",{attrs:{to:"/app-download",target:"_blank"}},[a("bbt-icon",{attrs:{type:"Mobile"}}),t._v("App下载")],1)],1),t._v(" "),a("li",[a("a",{staticStyle:{"margin-right":"16px"},attrs:{href:"https://weibo.com/ChainNode",target:"_blank",rel:"nofollow noopener"}},[a("bbt-icon",{staticStyle:{"font-size":"16px"},attrs:{type:"weibo"}}),t._v(" "),t._m(1)],1),t._v(" "),a("a",{staticStyle:{"margin-right":"16px"},attrs:{href:"javascript:;",rel:"nofollow noopener"}},[a("bbt-icon",{staticStyle:{"font-size":"16px"},attrs:{type:"wechat"}}),t._v(" "),t._m(2)],1),t._v(" "),a("a",{attrs:{href:"javascript:;",rel:"nofollow noopener"}},[a("bbt-icon",{staticStyle:{"font-size":"16px"},attrs:{type:"bitcoin"}}),t._v(" "),t._m(3)],1)])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{attrs:{href:"https://www.8btc.com",target:"_blank"}},[this._v("巴比特资讯")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"share-pop"},[e("img",{attrs:{src:"/images/common/weibo-qrcode.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"share-pop"},[e("img",{attrs:{src:"/images/common/wechat-qrcode.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"share-pop"},[e("img",{attrs:{src:"/images/common/btcpay.png",alt:""}})])}],!1,null,"2232fc1c",null).exports,s=(a(904),a(516)),o=a(2),c=a(14);function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var u={mixins:[s.a],data:function(){return{isUserSearch:!1,keyword:"",isLibraryShow:!1,isEventShow:!1,debounceFn:null,fixed:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(o.c)({menu:function(t){return t.menu},keywords:function(t){return t.keywords}}),{defaultKeyword:function(){var t={};return this.keywords.length&&(t=this.keywords[Math.floor(Math.random()*this.keywords.length)]),t},routeName:function(){return this.$route.name},routeParams:function(){return this.$route.params&&this.$route.params.id}}),mounted:function(){var t=this;this.keyword=this.defaultKeyword.keywords,this.$nextTick((function(){t.handleScroll(),t.debounceFn=Object(c.b)(t.handleScroll,100),window.addEventListener("scroll",t.debounceFn)}))},beforeDestroy:function(){window.removeEventListener("scroll",this.debounceFn),this.debounceFn=null},watch:{$route:function(){this.hideAll(),this.keyword=this.defaultKeyword.keywords,this.isUserSearch=!1}},methods:{trackEvent:function(t,e,a){window._czc&&window._czc.push(["_trackEvent",t,"点击",e,"",a])},onSubmit:function(){this.keyword&&(this.isUserSearch?(this.$router.push({name:"search",query:{keyword:this.keyword,type:"post"}}),this.keyword="",this.isUserSearch=!1):location.href=this.defaultKeyword.url)},handleInput:function(){this.isUserSearch=!0},handleScroll:function(){Object(c.i)(this.$el).y<=window.pageYOffset?this.fixed=!0:this.fixed=!1},hideAll:function(){this.isLibraryShow=!1,this.isEventShow=!1,this.isNoticeShow=!1,this.isUserShow=!1}}},d=(a(908),Object(r.a)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"bbt-header"},[a("div",{staticClass:"bbt-header__fix",class:{fixed:t.fixed}},[a("div",{staticClass:"bbt-container bbt-clearfix"},[a("div",{staticClass:"bbt-header__logo"},[a("nuxt-link",{attrs:{to:"/"}},[a("img",{attrs:{src:"/images/common/ChainNode.svg",height:"48px",alt:"ChainNode 链节点 - 区块链社区"}})])],1),t._v(" "),a("div",{staticClass:"bbt-header__search"},[a("form",{attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"bbt-header__input",class:{"dark-minor":!t.isUserSearch},attrs:{type:"text",placeholder:"请输入想要搜索的内容"},domProps:{value:t.keyword},on:{input:[function(e){e.target.composing||(t.keyword=e.target.value)},t.handleInput]}}),t._v(" "),a("i",{staticClass:"bbt-icon bbt-icon-search",on:{click:t.onSubmit}})])]),t._v(" "),a("div",{staticClass:"bbt-header__main bbt-clearfix"},[a("ul",{staticClass:"bbt-header__nav bbt-clearfix"},[a("li",[a("nuxt-link",{class:["index"===t.routeName?"link-dark-major active":"link-dark-minor"],attrs:{to:"/"}},[t._v("\n              首页\n            ")])],1),t._v(" "),a("li",{attrs:{id:"cn_node"},on:{click:function(e){return t.trackEvent("CN_node","网站首页节点导航","cn_node")}}},[a("nuxt-link",{class:[["forum-id","forum-id-:page"].includes(t.routeName)&&"1"==t.routeParams?"link-dark-major active":"link-dark-minor"],attrs:{to:{name:"forum-id",params:{id:"1"}}}},[t._v("\n              社区节点\n              "),a("span",{staticClass:"tag-new"},[t._v("HOT")])])],1),t._v(" "),a("li",{on:{mouseenter:function(e){return t.overShow("isEvent")},mouseleave:function(e){return t.outHide("isEvent")}}},[a("nuxt-link",{class:["events"===t.routeName?"link-dark-major active":"link-dark-minor"],attrs:{to:{name:"events"}}},[t._v("\n              活动直播\n              "),a("i")]),t._v(" "),a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isEventShow,expression:"isEventShow"}],staticClass:"sub__nav"},[a("dl",[a("dd",[a("nuxt-link",{attrs:{to:{path:"/videos/4627"}}},[t._v("ChainNode 直播间")])],1),t._v(" "),a("dd",[a("nuxt-link",{attrs:{to:{path:"/ask-me-anything"}}},[t._v("ChainNode AMA")])],1),t._v(" "),a("dd",[a("nuxt-link",{attrs:{to:{path:"/videos/7471"}}},[t._v("行情解析 | 今晚很关键")])],1),t._v(" "),a("dd",[a("nuxt-link",{attrs:{to:{path:"/videos/4530"}}},[t._v("Chainge 技术沙龙")])],1),t._v(" "),a("dd",[a("nuxt-link",{attrs:{to:{path:"/events/1"}}},[t._v("区块链线下活动")])],1)])])])],1),t._v(" "),a("li",[a("nuxt-link",{class:["blockchain-101"===t.routeName?"link-dark-major active":"link-dark-minor"],attrs:{to:{name:"blockchain-101"}}},[t._v("\n              新手入门\n            ")])],1),t._v(" "),a("li",{on:{mouseenter:function(e){return t.overShow("isLibrary")},mouseleave:function(e){return t.outHide("isLibrary")}}},[a("nuxt-link",{class:[["library","library-id","tutorials","tutorials-id"].includes(t.routeName)?"link-dark-major active":"link-dark-minor"],attrs:{to:"/library"}},[t._v("\n              教程文库\n              "),a("i")]),t._v(" "),a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isLibraryShow,expression:"isLibraryShow"}],staticClass:"sub__nav"},[a("dl",[a("dd",[a("nuxt-link",{attrs:{to:"/tutorials"}},[t._v("教程")])],1)])])])],1)]),t._v(" "),t.userinfo.uid?a("ul",{staticClass:"bbt-header__user bbt-clearfix"},[a("li",{class:{"new-notice":t.hasNew},on:{mouseenter:function(e){t.isNoticeShow=!0},mouseleave:function(e){t.isNoticeShow=!1}}},[a("nuxt-link",{staticClass:"link-dark-minor",attrs:{to:"/user/notification"}},[a("bbt-icon",{staticStyle:{"font-size":"20px","margin-right":"0","vertical-align":"top",position:"relative",top:"2px"},attrs:{type:"bell"}})],1),t._v(" "),t.isNoticeShow&&t.noticeData.list&&t.noticeData.list.length?a("div",{staticClass:"notice-wrap"},[a("div",{staticClass:"notice-list"},[t._l(t.noticeData.list.slice(0,5),(function(e,i){return a("div",{key:i,staticClass:"notice-item",class:{is_new:e.new},on:{click:function(a){return t.read(e.id,i)}}},["banspeak"==e.from_idtype?a("nuxt-link",{staticClass:"link-dark-major font-medium",attrs:{to:"/post/354327",target:"_blank"}},[a("div",{staticClass:"notice-content"},[t._v("\n                      "+t._s(t.xss(e.note))+"\n                    ")]),t._v(" "),a("div",{staticClass:"notice-date"},[t._v("\n                      "+t._s(t._f("timeAgo")(e.dateline))+"\n                    ")])]):"del_post"==e.from_idtype||"del_thread"==e.from_idtype?a("nuxt-link",{staticClass:"link-dark-major font-medium",attrs:{to:"/post/15508",target:"_blank"}},[a("div",{staticClass:"notice-content"},[t._v("\n                      "+t._s(t.xss(e.note))+"\n                    ")]),t._v(" "),a("div",{staticClass:"notice-date"},[t._v("\n                      "+t._s(t._f("timeAgo")(e.dateline))+"\n                    ")])]):a("nuxt-link",{staticClass:"link-dark-major font-medium",attrs:{to:{name:"notice",query:{mod:e.from_idtype,pid:e.pid,tid:e.tid}},target:"_blank"}},[a("div",{staticClass:"notice-content"},[t._v("\n                      "+t._s(t.xss(e.note))+"\n                    ")]),t._v(" "),a("div",{staticClass:"notice-date"},[t._v("\n                      "+t._s(t._f("timeAgo")(e.dateline))+"\n                    ")])])],1)})),t._v(" "),a("div",{staticClass:"notice-operate"},[a("a",{staticClass:"link-dark-major",attrs:{href:"javascript:;"},on:{click:t.readAll}},[a("bbt-icon",{attrs:{type:"mail"}}),t._v(" 全部已读")],1),t._v(" "),a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:"/user/notification",target:"_blank"}},[t._v("查看全部"),a("bbt-icon",{attrs:{type:"right"}})],1)],1)],2)]):t._e()],1),t._v(" "),a("li",{staticClass:"bbt-clearfix",staticStyle:{padding:"12px 0"},on:{mouseenter:function(e){return t.overShow("isUser")},mouseleave:function(e){return t.outHide("isUser")}}},[a("nuxt-link",{staticClass:"link-dark-minor",staticStyle:{padding:"0"},attrs:{to:"/user/"+t.userinfo.uid}},[a("div",{staticClass:"user-avatar",style:"background-image:url("+t.userinfo.avatar+");"})]),t._v(" "),a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isUserShow,expression:"isUserShow"}],staticClass:"sub__nav"},[a("div",{staticStyle:{"border-bottom":"1px dashed rgba(0, 0, 0, 0.08)"}},[a("span",[t._v(t._s(t.userinfo.username))])]),t._v(" "),a("dl",[a("dd",[a("nuxt-link",{attrs:{to:"/user/"+t.userinfo.uid}},[t._v("我的主页")])],1),t._v(" "),a("dd",[a("nuxt-link",{attrs:{to:"/user/settings/profile"}},[t._v("个人设置")])],1),t._v(" "),a("dd",[a("a",{attrs:{href:"javascript:;"},on:{click:t.logout}},[t._v("退出登录")])])])])])],1)]):a("ul",{staticClass:"bbt-header__login bbt-clearfix"},[a("li",[a("bbt-btn",{staticClass:"font-medium",attrs:{type:"primary",ghost:"",href:"/register?back_url="+t.$route.fullPath}},[t._v("注册")])],1),t._v(" "),a("li",[a("bbt-btn",{staticClass:"font-medium",attrs:{type:"primary",href:"/login/password?back_url="+t.$route.fullPath}},[t._v("登录")])],1)])])])])])}),[],!1,null,"29da0dc8",null).exports);function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var m={mixins:[s.a],computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(o.c)({mall:function(t){return t.mall}}),{categoryData:function(){return this.mall&&this.mall.category&&this.mall.category.length?this.mall.category:[]},isFromQkl:function(){return"V8VMS3"==this.$route.query.c}}),watch:{$route:function(){this.isNoticeShow=!1,this.isUserShow=!1}}},f=(a(909),Object(r.a)(m,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"bbt-header"},[a("div",{staticClass:"bbt-header__fix"},[a("div",{staticClass:"bbt-container bbt-clearfix"},[a("div",{staticClass:"bbt-header__logo"},[a("nuxt-link",{attrs:{to:{name:"mall",query:t.isFromQkl?{c:"V8VMS3"}:{}}}},[a("img",{attrs:{src:"/images/common/chaincraft.png",height:"48px",alt:"链作商城"}})])],1),t._v(" "),a("ul",{staticClass:"bbt-header__nav bbt-clearfix"},[a("li",[a("nuxt-link",{class:["mall"===t.routeName?"link-dark-major active":"link-dark-minor"],attrs:{to:{name:"mall",query:t.isFromQkl?{c:"V8VMS3"}:{}}}},[t._v("\n            首页\n          ")])],1),t._v(" "),t._l(t.categoryData,(function(e,i){return a("li",{key:i},[a("nuxt-link",{class:[t.$route.query.id==e.id||!t.$route.query.id&&0===i&&"mall-category"==t.$route.name?"link-dark-major active":"link-dark-minor"],attrs:{to:{name:"mall-category",query:t.isFromQkl?{id:""+e.id,c:"V8VMS3"}:{id:""+e.id}}}},[t._v("\n            "+t._s(e.name)+"\n          ")])],1)}))],2),t._v(" "),a("div",{staticClass:"bbt-header__main bbt-clearfix"},[t.userinfo.uid?a("ul",{staticClass:"bbt-header__user bbt-clearfix"},[a("li",{class:{"new-notice":t.hasNew},on:{mouseenter:function(e){t.isNoticeShow=!0},mouseleave:function(e){t.isNoticeShow=!1}}},[a("nuxt-link",{staticClass:"link-dark-minor",attrs:{to:"/user/notification"}},[a("bbt-icon",{staticStyle:{"font-size":"20px","margin-right":"0","vertical-align":"top",position:"relative",top:"2px"},attrs:{type:"bell"}})],1),t._v(" "),t.isNoticeShow&&t.noticeData.list&&t.noticeData.list.length?a("div",{staticClass:"notice-wrap"},[a("div",{staticClass:"notice-list"},[t._l(t.noticeData.list.slice(0,5),(function(e,i){return a("div",{key:i,staticClass:"notice-item",class:{is_new:e.new},on:{click:function(a){return t.read(e.id,i)}}},["banspeak"==e.from_idtype?a("nuxt-link",{staticClass:"link-dark-major font-medium",attrs:{to:"/post/354327",target:"_blank"}},[a("div",{staticClass:"notice-content"},[t._v("\n                      "+t._s(t.xss(e.note))+"\n                    ")]),t._v(" "),a("div",{staticClass:"notice-date"},[t._v("\n                      "+t._s(t._f("timeAgo")(e.dateline))+"\n                    ")])]):"del_post"==e.from_idtype||"del_thread"==e.from_idtype?a("nuxt-link",{staticClass:"link-dark-major font-medium",attrs:{to:"/post/15508",target:"_blank"}},[a("div",{staticClass:"notice-content"},[t._v("\n                      "+t._s(t.xss(e.note))+"\n                    ")]),t._v(" "),a("div",{staticClass:"notice-date"},[t._v("\n                      "+t._s(t._f("timeAgo")(e.dateline))+"\n                    ")])]):a("nuxt-link",{staticClass:"link-dark-major font-medium",attrs:{to:{name:"notice",query:{mod:e.from_idtype,pid:e.pid,tid:e.tid}},target:"_blank"}},[a("div",{staticClass:"notice-content"},[t._v("\n                      "+t._s(t.xss(e.note))+"\n                    ")]),t._v(" "),a("div",{staticClass:"notice-date"},[t._v("\n                      "+t._s(t._f("timeAgo")(e.dateline))+"\n                    ")])])],1)})),t._v(" "),a("div",{staticClass:"notice-operate"},[a("a",{staticClass:"link-dark-major",attrs:{href:"javascript:;"},on:{click:t.readAll}},[a("bbt-icon",{attrs:{type:"mail"}}),t._v(" 全部已读")],1),t._v(" "),a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:"/user/notification",target:"_blank"}},[t._v("查看全部"),a("bbt-icon",{attrs:{type:"right"}})],1)],1)],2)]):t._e()],1),t._v(" "),a("li",{staticClass:"bbt-clearfix",staticStyle:{padding:"12px 0"},on:{mouseenter:function(e){return t.overShow("isUser")},mouseleave:function(e){return t.outHide("isUser")}}},[a("nuxt-link",{staticClass:"link-dark-minor",staticStyle:{padding:"0"},attrs:{to:"/user/"+t.userinfo.uid}},[a("div",{staticClass:"user-avatar",style:"background-image:url("+t.userinfo.avatar+");"})]),t._v(" "),a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isUserShow,expression:"isUserShow"}],staticClass:"sub__nav"},[a("div",{staticStyle:{"border-bottom":"1px dashed rgba(0, 0, 0, 0.08)"}},[a("span",[t._v(t._s(t.userinfo.username))])]),t._v(" "),a("dl",[a("dd",[a("nuxt-link",{attrs:{to:"/user/"+t.userinfo.uid}},[t._v("我的主页")])],1),t._v(" "),a("dd",[a("nuxt-link",{attrs:{to:"/user/settings/profile"}},[t._v("个人设置")])],1),t._v(" "),a("dd",[a("a",{attrs:{href:"javascript:;"},on:{click:t.logout}},[t._v("退出登录")])])])])])],1)]):a("ul",{staticClass:"bbt-header__login bbt-clearfix"},[a("li",[a("bbt-btn",{staticClass:"font-medium",attrs:{type:"primary",ghost:"",href:"/register?back_url="+t.$route.fullPath}},[t._v("注册")])],1),t._v(" "),a("li",[a("bbt-btn",{staticClass:"font-medium",attrs:{type:"primary",href:"/login/password?back_url="+t.$route.fullPath}},[t._v("登录")])],1)])])])])])}),[],!1,null,"8dfa9aba",null).exports);a(217);function h(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var v={computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(o.c)({inSideData:function(t){return t.link.inside}}),{currentYear:function(){return(new Date).getFullYear()}})},b=(a(910),Object(r.a)(v,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"bbt-footer"},[a("div",{staticClass:"bbt-container"},[a("div",{staticClass:"bbt-friend"},[t.inSideData&&t.inSideData.length&&"index"==t.$route.name?a("div",{staticClass:"bbt-friend__item"},[a("span",{staticClass:"item__header"},[t._v("友情链接：")]),t._v(" "),a("ul",{staticClass:"item__list bbt-clearfix"},[t._l(t.inSideData,(function(e,i){return a("li",{key:i},[a("a",{staticClass:"link-dark-minor",attrs:{href:e.link_url,target:"_blank"},domProps:{innerHTML:t._s(e.link_name)}})])})),t._v(" "),a("li",[a("nuxt-link",{staticClass:"link-dark-minor",attrs:{to:"/us/friend",target:"_blank"}},[t._v("\n              更多\n            ")])],1)],2)]):t._e()]),t._v(" "),a("div",{staticClass:"bbt-copyright"},[t._v("\n      Copyright 2011-"+t._s(t.currentYear)+" · 杭州时戳信息科技有限公司 ·\n      "),a("a",{staticClass:"link-dark-minor",attrs:{href:"http://www.beian.miit.gov.cn",target:"_blank",rel:"nofollow noopener"}},[t._v("浙ICP备14013035号-11")]),t._v("\n      ·\n      "),t._m(0),t._v(" "),a("a",{staticClass:"link-dark-minor",attrs:{href:"https://www.cnzz.com/stat/website.php?web_id=1276335760",target:"_blank",rel:"nofollow noopener"}},[t._v("站点统计")]),t._v("\n      ·\n      "),a("nuxt-link",{staticClass:"link-dark-minor",attrs:{to:"/darkroom",target:"_blank"}},[t._v("小黑屋")]),t._v("\n      ·\n      "),a("nuxt-link",{staticClass:"link-dark-minor",attrs:{to:"/sitemap",target:"_blank"}},[t._v("存档")])],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"link-dark-minor",attrs:{href:"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33010602010063",target:"_blank",rel:"nofollow noopener"}},[e("img",{attrs:{src:"/images/common/public.jpg",width:"15",height:"15",alt:"浙公网安备"}}),this._v("\n        浙公网安备 33010602010063号\n      ")])}],!1,null,"e146a3c8",null).exports),_=a(15),g={data:function(){return{scrollTop:0,showHeight:500,isShow:!1,style:{position:"fixed",zIndex:99,bottom:"84px",right:"16px"},debounceFn:null,appQRcode:_.a}},computed:{routeParams:function(){return this.$route.params.id},showRelease:function(){return this.routeParams&&!["42","121","118","328"].includes(this.routeParams)}},mounted:function(){this.windowHeight=document.documentElement.clientHeight,this.handleScroll(),this.debounceFn=Object(c.b)(this.handleScroll,100),this.$nextTick((function(){window.addEventListener("scroll",this.debounceFn)}))},beforeDestroy:function(){window.removeEventListener("scroll",this.debounceFn),this.debounceFn=null},methods:{gotop:function(){document.getElementById("app").scrollIntoView({behavior:"smooth"})},handleScroll:function(t){t&&t.stopPropagation(),this.scrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,this.scrollTop>this.showHeight?this.isShow=!0:this.isShow=!1}}},y=(a(911),Object(r.a)(g,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade"}},[a("div",{staticClass:"bbt-rightbar",style:t.style},[t.showRelease?a("div",{staticClass:"old"},[a("nuxt-link",{attrs:{to:{path:"/new/post",query:{action:"newthread",fid:t.routeParams}},target:"_blank"}},[a("span",{staticClass:"item-text"},[t._v("发帖")])])],1):t._e(),t._v(" "),a("div",{staticClass:"forum"},[a("a",{attrs:{href:"javascript:;"}},[a("bbt-icon",{staticClass:"item-icon",staticStyle:{"font-size":"24px","line-height":"48px"},attrs:{type:"tubiaozhizuomoban"}}),t._v(" "),a("span",{staticClass:"item-text"},[t._v("社群")])],1),t._v(" "),a("div",{staticClass:"share-pop"},[a("img",{attrs:{src:"/images/common/admin_ljd.jpeg",alt:""}})])]),t._v(" "),a("div",{staticClass:"app"},[a("a",{attrs:{href:"javascript:;"}},[a("bbt-icon",{staticClass:"item-icon",staticStyle:{"font-size":"24px","line-height":"48px"},attrs:{type:"mobile"}}),t._v(" "),a("span",{staticClass:"item-text"},[t._v("App")])],1),t._v(" "),a("div",{staticClass:"share-pop"},[a("img",{attrs:{src:t.appQRcode,alt:""}})])]),t._v(" "),a("div",{staticClass:"report"},[a("nuxt-link",{attrs:{to:"/forum/274",target:"_blank"}},[a("bbt-icon",{staticClass:"item-icon",staticStyle:{"font-size":"24px","line-height":"48px"},attrs:{type:"question"}}),t._v(" "),a("span",{staticClass:"item-text"},[t._v("反馈")])],1)],1),t._v(" "),a("transition",{attrs:{name:"fade"}},[t.isShow?a("div",{staticClass:"gotop",on:{click:t.gotop}},[a("bbt-icon",{staticClass:"item-icon",staticStyle:{"font-size":"24px","line-height":"48px"},attrs:{type:"rocket"}}),t._v(" "),a("span",{staticClass:"item-text"},[t._v("顶部")])],1):t._e()])],1)])}),[],!1,null,"6f38183b",null).exports);function w(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var k={mixins:[a(844).a],middleware:"global",components:{XTopbar:n,XHeader:d,XMallHeader:f,XFooter:b,XRightbar:y},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?w(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(o.c)({userinfo:function(t){return t.userinfo},token:function(t){return t.token}}),{uid:function(){return this.userinfo.uid},isMall:function(){return["mall","mall-category","mall-item-id"].includes(this.$route.name)},isLive:function(){return["live-id"].includes(this.$route.name)}}),mounted:function(){var t=document.createElement("script");t.src="https://s5.cnzz.com/z_stat.php?id=1276335760&web_id=1276335760",t.language="JavaScript",document.body.appendChild(t);var e=document.createElement("script");e.src="http:"==document.location.protocol?"http://js.passport.qihucdn.com/11.0.1.js?75e977c08326907d72f4ff357dc533a8":"https://jspassport.ssl.qhimg.com/11.0.1.js?75e977c08326907d72f4ff357dc533a8",e.language="JavaScript",document.body.appendChild(e);var a=document.createElement("script"),i=document.createTextNode('\n        var _hmt = _hmt || [];\n        (function() {\n          var hm = document.createElement("script");\n          hm.src = "https://hm.baidu.com/hm.js?f08f6721ba9dce6dd3867cf2ebf9238e";\n          var s = document.getElementsByTagName("script")[0];\n          s.parentNode.insertBefore(hm, s);\n        })();\n      ');a.appendChild(i),a.language="JavaScript";var r=document.getElementsByTagName("head")[0];r.children[0]?r.insertBefore(a,r.children[0]):r.appendChild(a),this.setOnline(),this.getNotice()},beforeDestroy:function(){clearInterval(this.timer)},watch:{$route:function(){if("undefined"!=typeof window&&window._czc){var t=window.location,e=t.pathname+t.hash;window._czc.push(["_trackPageview",e,"/"])}clearInterval(this.timer),this.setOnline()}},methods:{getNotice:function(){this.uid&&this.token&&this.$store.dispatch("notice/FETCH_LIST",{params:{},type:"lists"})},fetchPushOnline:function(t){this.$store.dispatch("block/FETCH_PUSH_ONLINE",{params:{fid:t}})},setOnline:function(){var t=this;this.uid&&new Promise((function(e,a){"index"===t.$route.name?e(1):["forum-id","forum-id-:page"].includes(t.$route.name)?e(t.$route.params.id):a(!1)})).then((function(e){t.fetchPushOnline(e),t.timer=setInterval((function(){t.fetchPushOnline(e)}),3e5)})).catch((function(t){}))}},head:function(){return{title:"ChainNode 链节点",titleTemplate:"%s - ChainNode 链节点",meta:[{hid:"description",name:"description",content:"ChainNode 链节点（原巴比特论坛）是国内知名的区块链交流平台。在这里可以分享数字货币投资经验和区块链技术，观看区块链知识科普视频，参与高端的行业峰会和线下活动。"},{hid:"og:image",property:"og:image",content:"https://www.chainnode.com/iamges/common/ChainNode.png"}],link:[{rel:"alternate",media:"only screen and(max-width: 640px)",href:"https://m.chainnode.com".concat(this.$route.path)},{rel:"canonical",href:"https://www.chainnode.com".concat(this.$route.path)}]}}},x=Object(r.a)(k,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t.isMall?t._e():a("x-topbar"),t._v(" "),t.isMall?a("x-mall-header"):a("x-header"),t._v(" "),a("nuxt",{staticClass:"bbt-main"}),t._v(" "),t.isLive?t._e():a("x-footer"),t._v(" "),t.isLive?t._e():a("x-rightbar")],1)}),[],!1,null,null,null);e.a=x.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6),a(23),a(25);var i=a(1),r=(a(4),a(3),a(19),a(50)),n=(a(12),a(29),a(16)),s=a(2),o=a(82),c={mixins:[a(52).a],components:{XTagModule:o.a},props:{data:{type:Object},isMd:{type:Boolean,default:!1}}},l=a(0),u=Object(l.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"normal-module"},[t.data.content?a("div",{directives:[{name:"viewer",rawName:"v-viewer"},{name:"lazy-container",rawName:"v-lazy-container",value:{selector:"img"},expression:"{ selector: 'img' }"}],class:t.isMd?"markdown-body":"bbt-editor-text bbt-html",domProps:{innerHTML:t._s(t.transHtmlAsGroup(t.data.content,t.isMd))}}):t._e(),t._v(" "),t.data.tags&&t.data.tags.length?a("x-tag-module",{attrs:{data:t.data.tags}}):t._e(),t._v(" "),t._m(0)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bbt-module copyright-module",staticStyle:{padding:"8px"}},[e("p",[this._v("免责声明：本文不代表链节点立场，且不构成投资建议，请谨慎对待。")]),this._v(" "),e("p",[this._v("版权声明：作者保留权利，不代表链节点立场。")])])}],!1,null,null,null).exports,d=a(123),p=a(81),m=a(104),f=a(80),h=a(79),v=a(531),b={components:{XAmaModule:u,XReplycreditModule:d.a,XShareModule:p.a,XBestReply:m.a,XExamineModule:f.a,XRewardModule:h.a,XComment:v.a},props:{singlePostData:{type:Object},rewardData:{type:Object},operationData:{type:Array},goodCommentData:{type:Object}},computed:{page:function(){return Number(this.$route.params.page)||1}}},_=Object(l.a)(b,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.page<=1?a("div",["0"!==t.singlePostData.replycredit&&t.singlePostData.replycredit_rule?a("x-replycredit-module",{attrs:{data:t.singlePostData.replycredit_rule,replycredit:t.singlePostData.replycredit}}):t._e(),t._v(" "),a("x-ama-module",{attrs:{data:t.singlePostData,isMd:"md"==t.singlePostData.content_type}}),t._v(" "),t.rewardData.list&&t.rewardData.list.length?a("x-reward-module",{attrs:{data:t.rewardData}}):t._e(),t._v(" "),t.operationData.length?a("x-examine-module",{attrs:{data:t.operationData}}):t._e(),t._v(" "),a("x-share-module",{attrs:{data:t.singlePostData,type:"activity"}}),t._v(" "),t.goodCommentData&&t.goodCommentData.list&&t.goodCommentData.list.length?a("x-best-reply",{attrs:{title:"精彩回复",data:t.goodCommentData.list}}):t._e()],1):t._e(),t._v(" "),a("x-comment",{style:t.page>1?"margin-top: 0;":"",attrs:{data:t.singlePostData}})],1)}),[],!1,null,null,null).exports,g=a(519),y=a(72),w=a(78),k={props:{data:{type:Array}},methods:{}},x=(a(1451),Object(l.a)(k,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-module guest-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    嘉宾介绍\n  ")]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[a("div",{staticClass:"guest-list"},t._l(t.data,(function(e,i){return a("div",{key:i,staticClass:"guest-item"},[a("div",{staticClass:"guest-item__header bbt-clearfix"},[a("div",{staticClass:"guest-item__avatar"},[a("nuxt-link",{attrs:{to:"/user/"+e.guest_id,target:"_blank"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.guest_avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                  src: item.guest_avatar,\n                  error: '/images/default/avatar.gif',\n                  loading: '/images/default/avatar.gif',\n                }"}],staticClass:"bbt-avatar bbt-avatar--lg",attrs:{src:"/images/default/avatar.gif"}})])],1),t._v(" "),a("div",{staticClass:"guest-item__name"},[a("h5",[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:"/user/"+e.guest_id,target:"_blank"}},[t._v(t._s(e.guest))])],1),t._v(" "),a("p",[t._v(t._s(e.guest_title))])])]),t._v(" "),a("div",{staticClass:"guest-item__desc"},[t._v("\n          "+t._s(e.guest_desc)+"\n        ")])])})),0)])])}),[],!1,null,"6eed171e",null).exports),C=a(102),O={components:{XHotPostComment:w.a,XGuestModule:x,XAd:C.a},props:{singlePostData:{type:Object},hotComment:{type:Array},ad:{type:Array}}},j=Object(l.a)(O,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-sidebar"},[t.singlePostData.activity&&t.singlePostData.activity.guest_info&&t.singlePostData.activity.guest_info.length?a("x-guest-module",{attrs:{data:t.singlePostData.activity.guest_info}}):t._e(),t._v(" "),a("x-hot-post-comment",{attrs:{data:t.hotComment,needLazy:!0,title:"神回复"}}),t._v(" "),t.ad&&t.ad.length?a("x-ad",{staticStyle:{"margin-bottom":"24px"},attrs:{data:t.ad,static:!1}}):t._e()],1)}),[],!1,null,null,null).exports,D=a(24),S=a.n(D);function P(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function E(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?P(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var T={mixins:[a(128).a],components:{XAma:_,XAmaHeader:g.a,XAmaSide:j,XCrumbs:y.a},validate:function(t){var e=t.params;return/^[1-9]+[0-9]*]*$/.test(e.id)&&(!e.page||/^[1-9]+[0-9]*]*$/.test(e.page))},watchQuery:["sort","authorid","checkrush"],fetch:function(t){var e=t.store,a=(t.cookie,t.res,t.error),i=t.redirect,s=t.route,o=s.params,c=o.id,l=o.page,u=s.query,d=u.sort,p=u.authorid,m=u.checkrush;return Object(n.a)(regeneratorRuntime.mark((function t(){var n,s,o,u,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!==Number(l)){t.next=2;break}return t.abrupt("return",i(301,{path:"/ama/".concat(c)}));case 2:return t.prev=2,n={},"hot"==d?n.orderby="hot":n.ordertype=d&&void 0!==d?d:0,t.next=7,Promise.all([e.dispatch("post/FETCH_POST_SINGLE",{params:{tid:c},id:c,type:"items"}),e.dispatch("comment/FETCH_COMMENT_SINGLE",{params:E({tid:c,authorid:p,checkrush:m},n,{page:Number(l)||1}),id:c,type:"items"})]);case 7:if(s=t.sent,o=Object(r.a)(s,2),u=o[0],!(!(f=o[1]).totalcount&&l>1||l>Number.parseInt(f.totalcount/15)+1)){t.next=13;break}return t.abrupt("return",i(302,{path:"/ama/".concat(c)}));case 13:if("3"!=u.type){t.next=17;break}return t.abrupt("return",i(301,{path:"/question/".concat(u.id)}));case 17:if("0"!=u.type&&"1"!=u.type&&"5"!=u.type&&"2"!=u.type){t.next=21;break}return t.abrupt("return",i(301,{path:"/post/".concat(u.id)}));case 21:if("4"!=u.type){t.next=24;break}if(!u.category||"118"!=u.category.id){t.next=24;break}return t.abrupt("return",i(301,{path:"/event/".concat(u.id)}));case 24:t.next=33;break;case 26:if(t.prev=26,t.t0=t.catch(2),!t.t0||404!==t.t0.code){t.next=32;break}return t.abrupt("return",a({statusCode:404}));case 32:return t.abrupt("return",a({statusCode:500}));case 33:return t.abrupt("return",Promise.all([e.dispatch("ad/FETCH_LIST",{}),e.dispatch("post/FETCH_POST_RELATED",{params:{tid:c}}),e.dispatch("manage/FETCH_MANAGE",{params:{type:"post",tid:c}})]).catch((function(t){})));case 34:case"end":return t.stop()}}),t,null,[[2,26]])})))()},computed:E({},Object(s.c)({block:function(t){return t.block},post:function(t){return t.post},menu:function(t){return t.menu},comment:function(t){return t.comment},author:function(t){return t.author},activity:function(t){return t.activity}}),{},Object(s.b)({adImgData:"ad/adImgData"}),{tid:function(){return this.$route.params.id},page:function(){return Number(this.$route.params.page)||1},singlePostData:function(){return this.post.items[this.tid]},isReview:function(){return-2===this.singlePostData.displayorder&&this.singlePostData.catched},rewardData:function(){return this.post.reward},operationData:function(){return this.post.operation},goodCommentData:function(){return this.comment.goodComment},hotComment:function(){return this.comment.hotComment.list||[]},related:function(){return this.post.related}}),methods:{getTitle:function(){return this.isReview?"".concat(this.singlePostData.title," - 审核中"):this.page>1?"第".concat(this.page,"页 - ").concat(this.singlePostData.title," - ").concat(this.singlePostData.category.name):"".concat(this.singlePostData.title," - ").concat(this.singlePostData.category.name)}},head:function(){return{title:this.getTitle(),meta:[{hid:"description",name:"description",content:this.singlePostData.desc||this.singlePostData.title},{hid:"keywords",name:"keywords",content:"比特币,比特币资讯,区块链,区块链资讯,数字货币,数字货币资讯,虚拟货币,虚拟货币资讯"},{hid:"og:type",property:"og:type",content:"bbs"},{hid:"og:release_date",property:"og:release_date",content:S()(1e3*this.singlePostData.post_date).format("YYYY-MM-DD HH:mm:ss")}]}}},$=(a(1458),Object(l.a)(T,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-main",staticStyle:{"margin-top":"0"}},[t.isReview?t._e():a("div",{staticClass:"activity-header"},[a("div",{staticClass:"activity-header__crumbs"},[a("div",{staticClass:"bbt-container"},[t.singlePostData.nav?a("x-crumbs",{attrs:{data:t.singlePostData.nav,styles:"light"}}):t._e()],1)]),t._v(" "),t.singlePostData.activity?a("x-ama-header",{attrs:{data:t.singlePostData}}):t._e()],1),t._v(" "),a("div",{staticClass:"bbt-container"},[a("bbt-row",[t.isReview?a("bbt-col",{attrs:{span:{xs:16}}},[a("x-review-module",{staticStyle:{"margin-top":"24px"},attrs:{singlePostData:t.singlePostData}})],1):a("bbt-col",{attrs:{span:{xs:16}}},[a("x-ama",{attrs:{singlePostData:t.singlePostData,rewardData:t.rewardData,operationData:t.operationData,goodCommentData:t.goodCommentData}})],1),t._v(" "),a("bbt-col",{attrs:{span:{xs:7},offset:1}},[a("x-ama-side",{attrs:{singlePostData:t.singlePostData,hotComment:t.hotComment,ad:t.adImgData.FD1}})],1)],1)],1)])}),[],!1,null,"bb0ccae2",null));e.default=$.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6),a(23),a(25);var i=a(1),r=(a(4),a(3),a(19),a(50)),n=(a(12),a(29),a(16)),s=a(2),o=a(115),c=a(82),l={mixins:[a(52).a],components:{XAttachmentsModule:o.a,XTagModule:c.a},props:{data:{type:Object},isMd:{type:Boolean,default:!1},managePost:{type:Object}}},u=a(0),d=Object(u.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"normal-module"},[t.data.content?a("div",{directives:[{name:"viewer",rawName:"v-viewer"},{name:"lazy-container",rawName:"v-lazy-container",value:{selector:"img"},expression:"{ selector: 'img' }"}],class:t.isMd?"markdown-body":"bbt-editor-text bbt-html",domProps:{innerHTML:t._s(t.transHtmlAsGroup(t.data.content,t.isMd))}}):t._e(),t._v(" "),t.data.attachments&&t.data.attachments.length?a("x-attachments-module",{directives:[{name:"viewer",rawName:"v-viewer"}],attrs:{data:t.data.attachments,canView:t.managePost&&t.managePost.editpost}}):t._e(),t._v(" "),t.data.group_attach_hidden?a("bbt-alert",{attrs:{type:"warning",isShowIcon:!0}},[t._v("\n    本帖子中包含更多资源, 请"),a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"login-password",query:{back_url:t.$route.path}}}},[t._v("登录")]),t._v("查看，还没账号，立即免费"),a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"register",query:{redirect_url:t.$route.fullPath}}}},[t._v("注册\n    ")])],1):t._e(),t._v(" "),t.data.tags&&t.data.tags.length?a("x-tag-module",{attrs:{data:t.data.tags}}):t._e(),t._v(" "),t._m(0)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bbt-module copyright-module",staticStyle:{padding:"8px"}},[e("p",[this._v("免责声明：本文不代表链节点立场，且不构成投资建议，请谨慎对待。")]),this._v(" "),e("p",[this._v("版权声明：作者保留权利，不代表链节点立场。")])])}],!1,null,null,null).exports,p=a(72),m=a(107),f=a(81),h=a(79),v=a(104),b=a(80),_=a(84),g={components:{XCrumbs:p.a,XWendaModule:d,XHeaderModule:m.a,XShareModule:f.a,XRewardModule:h.a,XBestReply:v.a,XExamineModule:b.a,XComment:_.a},props:{singlePostData:{type:Object},operationData:{type:Array},goodCommentData:{type:Object},rewardData:{type:Object},managePost:{type:Object}},computed:{page:function(){return Number(this.$route.params.page)||1}}},y=Object(u.a)(g,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.singlePostData.nav?a("x-crumbs",{attrs:{data:t.singlePostData.nav}}):t._e(),t._v(" "),a("x-header-module",{attrs:{data:t.singlePostData}}),t._v(" "),t.page<=1?a("div",[a("x-wenda-module",{attrs:{data:t.singlePostData,isMd:"md"==t.singlePostData.content_type}}),t._v(" "),t.rewardData.list&&t.rewardData.list.length?a("x-reward-module",{attrs:{data:t.rewardData}}):t._e(),t._v(" "),t.operationData.length?a("x-examine-module",{attrs:{data:t.operationData}}):t._e(),t._v(" "),a("x-share-module",{attrs:{data:t.singlePostData,type:"wenda"}}),t._v(" "),t.singlePostData.reward&&t.singlePostData.reward.bestpost&&t.singlePostData.reward.bestpost.content?a("x-best-reply",{attrs:{title:"最佳答案",data:t.singlePostData.reward.bestpost,num:Number.parseInt(t.singlePostData.replies)}}):t._e(),t._v(" "),t.goodCommentData&&t.goodCommentData.list&&t.goodCommentData.list.length?a("x-best-reply",{attrs:{title:"精彩回复",data:t.goodCommentData.list}}):t._e()],1):t._e(),t._v(" "),a("x-comment",{attrs:{data:t.singlePostData}})],1)}),[],!1,null,null,null).exports,w=a(175),k=a(78),x=a(102),C={components:{XAuthorModule:w.a,XHotPostComment:k.a,XAd:x.a},props:{authorData:{type:Object},hotComment:{type:Array},ad:{type:Array}}},O=Object(u.a)(C,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-sidebar"},[a("x-author-module",{attrs:{data:t.authorData}}),t._v(" "),a("x-hot-post-comment",{attrs:{data:t.hotComment,needLazy:!0,title:"最佳回答"}}),t._v(" "),t.ad&&t.ad.length?a("x-ad",{staticStyle:{"margin-bottom":"24px"},attrs:{data:t.ad,static:!1}}):t._e()],1)}),[],!1,null,null,null).exports,j=a(24),D=a.n(j);function S(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function P(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?S(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var E={mixins:[a(128).a],components:{XWenda:y,XWendaSide:O},validate:function(t){var e=t.params;return/^[1-9]+[0-9]*]*$/.test(e.id)&&(!e.page||/^[1-9]+[0-9]*]*$/.test(e.page))},watchQuery:["sort","authorid","checkrush"],fetch:function(t){var e=t.store,a=(t.cookie,t.res,t.error),i=t.redirect,s=t.route,o=s.params,c=o.id,l=o.page,u=s.query,d=u.sort,p=u.authorid,m=u.checkrush;return Object(n.a)(regeneratorRuntime.mark((function t(){var n,s,o,u,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!==Number(l)){t.next=2;break}return t.abrupt("return",i(301,{path:"/question/".concat(c)}));case 2:return t.prev=2,n={},"hot"==d?n.orderby="hot":n.ordertype=d&&void 0!==d?d:0,t.next=7,Promise.all([e.dispatch("post/FETCH_POST_SINGLE",{params:{tid:c},id:c,type:"items"}),e.dispatch("comment/FETCH_COMMENT_SINGLE",{params:P({tid:c,authorid:p,checkrush:m},n,{page:l||1}),id:c,type:"items"})]);case 7:if(s=t.sent,o=Object(r.a)(s,2),u=o[0],!(!(f=o[1]).totalcount&&l>1||l>Number.parseInt(f.totalcount/15)+1)){t.next=13;break}return t.abrupt("return",i(302,{path:"/question/".concat(c)}));case 13:if("0"!=u.type&&"1"!=u.type&&"5"!=u.type&&"2"!=u.type){t.next=17;break}return t.abrupt("return",i(301,{path:"/post/".concat(u.id)}));case 17:if("4"!=u.type){t.next=23;break}if(!u.category||"118"!=u.category.id){t.next=22;break}return t.abrupt("return",i(301,{path:"/event/".concat(u.id)}));case 22:return t.abrupt("return",i(301,{path:"/ama/".concat(u.id)}));case 23:t.next=32;break;case 25:if(t.prev=25,t.t0=t.catch(2),!t.t0||404!==t.t0.code){t.next=31;break}return t.abrupt("return",a({statusCode:404}));case 31:return t.abrupt("return",a({statusCode:500}));case 32:return t.abrupt("return",Promise.all([e.dispatch("ad/FETCH_LIST",{}),e.dispatch("author/FETCH_SINGLE",{params:{tid:c}}),e.dispatch("post/FETCH_POST_RELATED",{params:{tid:c}}),e.dispatch("manage/FETCH_MANAGE",{params:{type:"post",tid:c}})]).catch((function(t){})));case 33:case"end":return t.stop()}}),t,null,[[2,25]])})))()},computed:P({},Object(s.c)({block:function(t){return t.block},post:function(t){return t.post},menu:function(t){return t.menu},comment:function(t){return t.comment},author:function(t){return t.author},activity:function(t){return t.activity},manage:function(t){return t.manage}}),{},Object(s.b)({adImgData:"ad/adImgData"}),{tid:function(){return this.$route.params.id},page:function(){return Number(this.$route.params.page)||1},managePost:function(){return this.manage.manage.post},singlePostData:function(){return this.post.items[this.tid]},isReview:function(){return-2===this.singlePostData.displayorder&&this.singlePostData.catched},rewardData:function(){return this.post.reward},goodCommentData:function(){return this.comment.goodComment},operationData:function(){return this.post.operation},authorData:function(){return this.author.items[this.tid]},hotComment:function(){return this.comment.hotComment.list||[]},related:function(){return this.post.related}}),methods:{getTitle:function(){return this.isReview?"".concat(this.singlePostData.title," - 审核中"):this.page>1?"第".concat(this.page,"页 - ").concat(this.singlePostData.title," - ").concat(this.singlePostData.category.name):"".concat(this.singlePostData.title," - ").concat(this.singlePostData.category.name)}},head:function(){return{title:this.getTitle(),meta:[{hid:"description",name:"description",content:this.singlePostData.desc||this.singlePostData.title},{hid:"keywords",name:"keywords",content:"比特币,比特币资讯,区块链,区块链资讯,数字货币,数字货币资讯,虚拟货币,虚拟货币资讯"},{hid:"og:type",property:"og:type",content:"bbs"},{hid:"og:release_date",property:"og:release_date",content:D()(1e3*this.singlePostData.post_date).format("YYYY-MM-DD HH:mm:ss")}]}}},T=(a(1552),Object(u.a)(E,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-main",staticStyle:{"margin-top":"24px"}},[a("div",{staticClass:"bbt-container"},[a("bbt-row",[t.isReview?a("bbt-col",{attrs:{span:{xs:16}}},[a("x-review-module",{attrs:{singlePostData:t.singlePostData}})],1):a("bbt-col",{attrs:{span:{xs:16}}},[a("x-wenda",{attrs:{singlePostData:t.singlePostData,operationData:t.operationData,goodCommentData:t.goodCommentData,rewardData:t.rewardData,managePost:t.managePost}})],1),t._v(" "),a("bbt-col",{attrs:{span:{xs:7},offset:1}},[a("x-wenda-side",{attrs:{authorData:t.authorData,hotComment:t.hotComment,ad:t.adImgData.FD1}})],1)],1)],1)])}),[],!1,null,"09f7dd93",null));e.default=T.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6);var i,r,n,s,o=a(18),c=(a(33),a(25),a(20)),l=(a(4),a(3),a(19),a(1)),u=(a(29),a(16)),d=(a(12),a(2)),p=a(533),m=a(53),f=a(17),h={inject:["injectData"],props:{wendaOrderby:{type:Array},wendaStatus:{type:Array},wendaSort:{type:Array},currentOrderby:{type:String|Number},currentStatus:{type:String|Number},currentSort:{type:String|Number}},methods:(i=Object(f.a)("/login/password",{back_url:"/new/wenda?action=newthread"}),r={switchTab:function(t,e,a){t===this.currentOrderby&&e===this.currentStatus&&a===this.currentSort||this.$emit("switch",t,e,a)},releasePost:function(){this.$router.push({name:"new-wenda",query:{action:"newthread"}})}},Object(o.a)(r,"releasePost",[i],Object.getOwnPropertyDescriptor(r,"releasePost"),r),r)},v=(a(1118),a(0)),b=Object(v.a)(h,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-filter"},[a("ul",{staticClass:"bbt-filter__type"},t._l(t.wendaOrderby,(function(e,i){return a("li",{key:i,class:{active:e.type==t.currentOrderby},on:{click:function(a){return t.switchTab(e.type,t.currentStatus,t.currentSort)}}},[1===i?a("bbt-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"hot"}}):t._e(),t._v(t._s(e.name)+"\n    ")],1)})),0),t._v(" "),a("ul",{staticClass:"bbt-filter__filter"},t._l(t.wendaStatus,(function(e,i){return a("li",{key:i,class:{active:e.type==t.currentStatus},on:{click:function(a){return t.switchTab(t.currentOrderby,e.type,t.currentSort)}}},[t._v("\n      "+t._s(e.name)+"\n    ")])})),0),t._v(" "),a("ul",{staticClass:"bbt-filter__sort"},t._l(t.wendaSort,(function(e,i){return a("li",{key:i,class:{active:e.type==t.currentSort},on:{click:function(a){return t.switchTab(t.currentOrderby,t.currentStatus,e.type)}}},[1===i?a("bbt-icon",{staticStyle:{"font-size":"20px","margin-right":"0"},attrs:{type:"reward"}}):t._e(),t._v("\n      "+t._s(e.name)+"\n    ")],1)})),0),t._v(" "),a("bbt-btn",{attrs:{type:"primary",size:"lg"},on:{click:t.releasePost}},[a("bbt-icon",{attrs:{type:"report"}}),t._v(" 我要提问\n  ")],1)],1)}),[],!1,null,"7a716f82",null).exports;function _(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var g,y,w,k,x={inject:["injectData"],props:{data:{type:Array}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?_(Object(a),!0).forEach((function(e){Object(l.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(d.c)({userinfo:function(t){return t.userinfo}}),{uid:function(){return this.userinfo.uid}}),methods:(n=Object(f.a)(),s={like:function(t,e,a,i,r){var n=this;this.$store.dispatch("ask/SET_WENDALIST_LIKE",{params:{pid:t,is_against:r,uid:Number.parseInt(this.uid)},status:e,index:a,subIndex:i,type:r}).catch((function(t){n.$message({message:t.message,type:"danger"})}))}},Object(o.a)(s,"like",[n],Object.getOwnPropertyDescriptor(s,"like"),s),s)},C=(a(1119),Object(v.a)(x,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wenda-module"},t._l(t.data,(function(e,i){return a("div",{key:i,staticClass:"wenda-item"},[a("div",{staticClass:"wenda-item__header"},[a("p",{staticClass:"wenda-item__author"},[t._v("\n        "+t._s(e.author_info.name)+"于"+t._s(e.post_date_format)+"提问\n      ")]),t._v(" "),a("p",{staticClass:"wenda-item__info"},[a("bbt-icon",{style:"color:"+(Number.parseInt(e.price)>0?"#F46300;":"#198489")+";font-size:20px;",attrs:{type:Number.parseInt(e.price)>0?"undone":"done"}}),t._v(" "),a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"question-id",params:{id:""+e.tid}},target:"_blank"}},[t._v(t._s(e.title))]),t._v(" "),a("span",{staticClass:"price"},[a("bbt-icon",{staticStyle:{color:"#FDB500","font-size":"18px"},attrs:{type:"reward"}}),a("span",[t._v(t._s(Math.abs(e.price)))])],1),t._v(" "),a("span",{staticClass:"num"},[t._v("\n          回答"),a("i",[t._v(t._s(e.replies))]),t._v(" "),a("span",{staticClass:"bbt-dot",staticStyle:{"margin-right":"4px"}}),t._v("\n          收藏"),a("i",[t._v(t._s(e.like))])])],1)]),t._v(" "),a("div",{staticClass:"wenda-item__body"},[e.replies_list.length||e.bestpost&&e.bestpost.content||!(Number.parseInt(e.price)>0)?!(e.replies_list.length&&Number.parseInt(e.price)>0)||e.bestpost&&e.bestpost.content?a("div",{staticClass:"wenda-item__done"},[a("div",{staticClass:"wenda-item__bestreply"},[a("div",{staticClass:"reply-item"},[a("div",{staticClass:"reply-item__box"},[a("p",{staticClass:"reply-item__author"},[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:"/user/"+e.bestpost.authorid,target:"_blank"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.bestpost.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                      src: item.bestpost.avatar,\n                      error: '/images/default/avatar.gif',\n                      loading: '/images/default/avatar.gif',\n                    }"}],staticClass:"bbt-avatar bbt-avatar__sm",attrs:{src:"/images/default/avatar.gif"}}),t._v("\n                  "+t._s(e.bestpost.author)+"\n                ")]),t._v("\n                于 "),a("span",[t._v(t._s(t._f("timeGMT")(e.bestpost.post_date)))]),t._v(" 回答\n              ")],1),t._v(" "),e.bestpost&&e.bestpost.content?a("div",{staticClass:"reply-item__content"},[a("div",{domProps:{innerHTML:t._s(e.bestpost.content.replace(/<[^>]+>/g,""))}})]):t._e(),t._v(" "),a("div",{staticClass:"reply-item__action"},["0"==e.bestpost.attitude?a("a",{staticClass:"comment__action-item link-dark-minor",attrs:{href:"javascript:;"},on:{click:function(a){return t.like(e.bestpost.pid,!0,i,null,0)}}},[a("bbt-icon",{attrs:{type:"thumb-up"}}),t._v("\n                  "+t._s(e.bestpost.like)+" 赞\n                ")],1):a("a",{staticClass:"comment__action-item link-primary",attrs:{href:"javascript:;"},on:{click:function(a){return t.like(e.bestpost.pid,!0,i,null,0)}}},[a("bbt-icon",{attrs:{type:"thumb-up"}}),t._v("\n                  "+t._s(e.bestpost.like)+" 赞\n                ")],1),t._v(" "),"0"==e.bestpost.isagainst?a("a",{staticClass:"comment__action-item link-dark-minor",attrs:{href:"javascript:;"},on:{click:function(a){return t.like(e.bestpost.pid,!0,i,null,1)}}},[a("bbt-icon",{attrs:{type:"thumb-down"}}),t._v("\n                  "+t._s(e.bestpost.against)+" 踩\n                ")],1):a("a",{staticClass:"comment__action-item link-primary",attrs:{href:"javascript:;"},on:{click:function(a){return t.like(e.bestpost.pid,!0,i,null,1)}}},[a("bbt-icon",{attrs:{type:"thumb-down"}}),t._v("\n                  "+t._s(e.bestpost.against)+" 踩\n                ")],1)])])])])]):a("div",{staticClass:"wenda-item__undone"},[a("div",{staticClass:"wenda-item__newreply"},t._l(e.replies_list,(function(e,r){return a("div",{key:r,staticClass:"reply-item"},[a("div",{staticClass:"reply-item__box"},[a("p",{staticClass:"reply-item__author"},[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:"/user/"+e.author_info.id,target:"_blank"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.author_info.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                      src: subItem.author_info.avatar,\n                      error: '/images/default/avatar.gif',\n                      loading: '/images/default/avatar.gif',\n                    }"}],staticClass:"bbt-avatar bbt-avatar__sm",attrs:{src:"/images/default/avatar.gif"}}),t._v("\n                  "+t._s(e.author_info.name)+"\n                ")]),t._v("\n                于 "),a("span",[t._v(t._s(t._f("timeGMT")(e.post_date)))]),t._v(" 回答\n              ")],1),t._v(" "),a("div",{staticClass:"reply-item__content"},[a("div",{domProps:{innerHTML:t._s(e.content.replace(/<[^>]+>/g,""))}})]),t._v(" "),a("div",{staticClass:"reply-item__action"},["0"==e.attitude?a("a",{staticClass:"comment__action-item link-dark-minor",attrs:{href:"javascript:;"},on:{click:function(a){return t.like(e.pid,!1,i,r,0)}}},[a("bbt-icon",{attrs:{type:"thumb-up"}}),t._v(" "+t._s(e.like)+" 赞\n                ")],1):a("a",{staticClass:"comment__action-item link-primary",attrs:{href:"javascript:;"},on:{click:function(a){return t.like(e.pid,!1,i,r,0)}}},[a("bbt-icon",{attrs:{type:"thumb-up"}}),t._v(" "+t._s(e.like)+" 赞\n                ")],1),t._v(" "),"0"==e.isagainst?a("a",{staticClass:"comment__action-item link-dark-minor",attrs:{href:"javascript:;"},on:{click:function(a){return t.like(e.pid,!1,i,r,1)}}},[a("bbt-icon",{attrs:{type:"thumb-down"}}),t._v("\n                  "+t._s(e.against)+" 踩\n                ")],1):a("a",{staticClass:"comment__action-item link-primary",attrs:{href:"javascript:;"},on:{click:function(a){return t.like(e.pid,!1,i,r,1)}}},[a("bbt-icon",{attrs:{type:"thumb-down"}}),t._v("\n                  "+t._s(e.against)+" 踩\n                ")],1)])])])})),0),t._v(" "),a("p",{staticClass:"undone-text"},[t._v("\n          您的点赞将会为提问者选择最佳答案提供参考，帮助到更多的人\n          "),a("nuxt-link",{staticClass:"bbt-btn bbt-btn--primary bbt-btn--sm",attrs:{to:{name:"question-id",params:{id:""+e.tid}},target:"_blank"}},[a("bbt-icon",{attrs:{type:"edit"}}),t._v(" 我来回答\n          ")],1)],1)]):a("div",{staticClass:"wenda-item__noreply"},[a("p",{staticClass:"undone-text"},[t._v("\n          此问题暂无回答\n          "),a("nuxt-link",{staticClass:"bbt-btn bbt-btn--primary bbt-btn--sm",attrs:{to:{name:"question-id",params:{id:""+e.tid}},target:"_blank"}},[a("bbt-icon",{attrs:{type:"edit"}}),t._v(" 我来回答\n          ")],1)],1)])])])})),0)}),[],!1,null,"6d25ebb1",null).exports),O={inject:["injectData"],props:{data:{type:Object}},methods:(g=Object(f.a)(),y={fav:function(t,e){var a=this;this.$store.dispatch("block/SET_FAV",{params:{id:t,type:"forum",op:e},id:t}).catch((function(t){a.$message({type:"danger",message:t.message})}))}},Object(o.a)(y,"fav",[g],Object.getOwnPropertyDescriptor(y,"fav"),y),y)},j=(a(1120),a(1121),Object(v.a)(O,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-module",staticStyle:{"padding-bottom":"0"}},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    "+t._s(t.data.name)+"\n    "),"0"==t.data.favid?a("a",{staticClass:"link-dark-minor",attrs:{href:"javascript:;"},on:{click:function(e){return t.fav(t.data.fid)}}},[a("bbt-icon",{attrs:{type:"star-o"}}),t._v(" 关注节点")],1):a("a",{staticClass:"link-dark-minor",attrs:{href:"javascript:;"},on:{click:function(e){return t.fav(t.data.fid,"delete")}}},[a("bbt-icon",{attrs:{type:"star1"}}),t._v(" 已关注")],1)]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[a("div",{staticClass:"block-info"},[a("div",{staticClass:"block-info__overview bbt-clearfix"},[a("div",{staticClass:"block-info__overview-logo"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:t.data.icon,error:"/images/default/project.jpg",loading:"/images/default/project.jpg"},expression:"{\n              src: data.icon,\n              error: '/images/default/project.jpg',\n              loading: '/images/default/project.jpg',\n            }"}],attrs:{src:"/images/default/project.jpg",alt:t.data.name}})]),t._v(" "),a("div",{staticClass:"block-info__overview-item"},[t._v("\n          今日"),a("span",[t._v(t._s(t._f("num_to_thousand")(t.data.todayposts))+"\n            "),a("bbt-icon",{attrs:{type:Number.parseInt(t.data.yesterdayposts)-Number.parseInt(t.data.todayposts)>=0?"arrowdown":"arrowup"}})],1)]),t._v(" "),a("div",{staticClass:"block-info__overview-item"},[t._v("\n          主题"),a("span",[t._v(t._s(t._f("num_to_thousand")(t.data.threads)))])]),t._v(" "),a("div",{staticClass:"block-info__overview-item"},[t._v("\n          帖数"),a("span",[t._v(t._s(t._f("num_to_thousand")(t.data.posts)))])])]),t._v(" "),a("div",{staticClass:"block-info__desc",domProps:{innerHTML:t._s(t.data.rules)}}),t._v(" "),t.data.moderators&&t.data.moderators.length?a("div",{staticClass:"block-info__admin"},[a("div",{staticClass:"block-info__admin-title"},[t._v("\n          节点管理员：\n        ")]),t._v(" "),a("ul",{staticClass:"admin-list bbt-clearfix"},t._l(t.data.moderators,(function(e,i){return a("li",{key:i,staticClass:"admin-list__item"},[a("div",{staticClass:"admin-list__avatar"},[a("nuxt-link",{attrs:{to:"/user/"+e.uid,target:"_blank"}},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:e.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                    src: item.avatar,\n                    error: '/images/default/avatar.gif',\n                    loading: '/images/default/avatar.gif',\n                  }",arg:"background-image"}]}),t._v(" "),a("p",[t._v(t._s(e.username))])])],1)])})),0)]):t._e()])])])}),[],!1,null,"0f0574e6",null).exports),D=a(78),S=a(171),P=a.n(S),E=a(27);function T(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function $(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?T(Object(a),!0).forEach((function(e){Object(l.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var L={inject:["injectData"],validate:function(t){var e=t.params;return!Number(e.page)||/^[1-9]+[0-9]*]*$/.test(Number(e.page))},components:{XForumNav:p.a,XTagFilter:m.a,XSortFilter:b,XListModule:C,XBlockinfo:j,XHotPostComment:D.a,XCountTo:P.a,XEmpty:E.a},watchQuery:["orderby","status","sort","tagid"],data:function(){return{isLoading:!1,pageSize:10}},fetch:function(t){var e=t.store,a=t.redirect,i=t.params.page,r=t.query,n=r.orderby,s=r.status,o=r.sort,l=r.tagid;t.cookie;return Object(u.a)(regeneratorRuntime.mark((function t(){var r,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(1===Number(i)||Number(i)>1e3)){t.next=2;break}return t.abrupt("return",a(301,{path:"/ask"}));case 2:return[],(u={}).orderby=n||"dateline",s&&(u.status=s),o&&(u.price=o),l&&(u.tagid=l),r=[e.dispatch("ask/FETCH_WENDA_LIST",{params:$({page:Number(i)||1},u),type:"lists"}),e.dispatch("ask/FETCH_QUESTION_SUM",{}),e.dispatch("ask/FETCH_TAGS_LIST",{type:"tags"})],t.abrupt("return",Promise.all([e.dispatch("block/FETCH_SINGLE_BLOCK",{params:{fid:"42"},id:"42",type:"items"})].concat(Object(c.a)(r))).catch((function(t){})));case 10:case"end":return t.stop()}}),t)})))()},computed:$({},Object(d.c)({menu:function(t){return t.menu},ask:function(t){return t.ask},block:function(t){return t.block},author:function(t){return t.author},comment:function(t){return t.comment}}),{currentOrderby:function(){return this.$route.query.orderby},currentStatus:function(){return this.$route.query.status||null},currentSort:function(){return this.$route.query.sort||null},currentTagId:function(){return this.$route.query.tagid||0},currentPage:function(){return Number(this.$route.params.page)||1},wendaOrderby:function(){return this.menu.wenda_orderby},wendaStatus:function(){return this.menu.wenda_status},wendaSort:function(){return this.menu.wenda_sort},sumData:function(){return this.ask.sum},tagData:function(){return this.ask.tags},tagNum:function(){return Number(this.ask.tags.total)||0},wendaPostListData:function(){return this.ask.lists},totalNum:function(){return Number(this.ask.lists.total)||0},blockInfoData:function(){return this.block.items&&this.block.items[42]||{}},hotComment:function(){return this.comment.hotComment.list||[]},totalHotComment:function(){return Number(this.comment.hotComment.total)||0}}),created:function(){this.currentPage>Number.parseInt(this.totalNum/10)+1&&this.$router.replace({name:"ask"})},watch:{$route:function(){this.isLoading=!1}},methods:(w=Object(f.a)("/login/password",{back_url:"/new/wenda?action=newthread"}),k={switchTab:function(t){document.getElementById("app").scrollIntoView(),this.isLoading=!0;var e={};t.id&&(e={tagid:t.id}),this.$router.push({name:"ask",query:e})},switchSortTab:function(t,e,a){document.getElementById("app").scrollIntoView(),this.isLoading=!0;var i={};t&&(i.orderby=t),e&&(i.status=e),a&&(i.sort=a),this.currentTagId&&(i.tagid=this.currentTagId),this.$router.push({name:"ask",query:i})},changePage:function(t){document.getElementById("app").scrollIntoView(),this.isLoading=!0;var e={};this.currentOrderby&&(e.orderby=this.currentOrderby),this.currentStatus&&(e.status=this.currentStatus),this.currentSort&&(e.sort=this.currentSort),this.currentTagId&&(e.tagid=this.currentTagId),1==t?this.$router.push({name:"ask",query:e}):this.$router.push({name:"ask-page",params:{page:"".concat(t)},query:e})},releasePost:function(){this.$router.push({name:"new-wenda",query:{action:"newthread"}})}},Object(o.a)(k,"releasePost",[w],Object.getOwnPropertyDescriptor(k,"releasePost"),k),k),head:function(){return{title:this.currentPage>1?"第".concat(this.currentPage,"页 - ").concat(this.blockInfoData&&this.blockInfoData.seotitle):this.blockInfoData&&this.blockInfoData.seotitle,titleTemplate:null,meta:[{hid:"description",name:"description",content:this.blockInfoData&&this.blockInfoData.description},{hid:"keywords",name:"keywords",content:this.blockInfoData&&this.blockInfoData.keywords}]}}},I=(a(1124),Object(v.a)(L,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main",staticStyle:{"margin-top":"24px"}},[a("div",{staticClass:"bbt-container"},[a("x-forum-nav"),t._v(" "),a("bbt-row",[a("bbt-col",{attrs:{span:{xs:17}}},[t.tagData.list&&t.tagData.list.length?a("x-tag-filter",{attrs:{menu:t.tagData.list,currentId:t.currentTagId,isNeedMore:t.tagNum>10},on:{switch:t.switchTab}}):t._e(),t._v(" "),a("div",{staticClass:"wenda-overview",staticStyle:{"background-image":"url('/images/banner/ask@2x.jpg')"}},[a("p",[t._v("\n            截止目前，链节点大牛们一共热心回答了"),a("x-count-to",{style:"display:inline-block;width:"+12*((""+t.sumData.threads_num).length+1)+"px;text-align:center;",attrs:{startVal:Number.parseInt(t.sumData.threads_num/2),endVal:Number.parseInt(t.sumData.threads_num),duration:1500}}),t._v("个问题\n          ")],1),t._v(" "),a("p",[t._v("\n            写下了"),a("x-count-to",{style:"display:inline-block;width:"+12*((""+t.sumData.words_num).length+1)+"px;text-align:center;",attrs:{startVal:Number.parseInt(t.sumData.words_num/2),endVal:Number.parseInt(t.sumData.words_num),duration:1500}}),t._v("个字，相当于"),a("x-count-to",{style:"display:inline-block;width:"+12*((""+t.sumData.book_num).length+1)+"px;text-align:center;",attrs:{startVal:Number.parseInt(0),endVal:Number.parseInt(t.sumData.book_num),duration:1500}}),t._v("本《区块链：从数字货币到信用社会》\n          ")],1)]),t._v(" "),a("x-sort-filter",{attrs:{wendaOrderby:t.wendaOrderby,wendaStatus:t.wendaStatus,wendaSort:t.wendaSort,currentOrderby:t.currentOrderby,currentStatus:t.currentStatus,currentSort:t.currentSort},on:{switch:t.switchSortTab}}),t._v(" "),a("bbt-loading",{style:t.isLoading?"min-height: 1000px;":"",attrs:{loading:t.isLoading}},[t.wendaPostListData.list&&t.wendaPostListData.list.length?a("x-list-module",{attrs:{data:t.wendaPostListData.list}}):a("x-empty",[t._v("暂无数据")]),t._v(" "),t.totalNum>t.pageSize?a("el-pagination",{staticStyle:{margin:"24px 0",display:"inline-block"},attrs:{layout:"prev, pager, next, jumper","current-page":Number.parseInt(t.currentPage),"page-size":t.pageSize,total:t.totalNum},on:{"current-change":t.changePage}}):t._e(),t._v(" "),t.totalNum>t.pageSize?a("bbt-btn",{staticStyle:{float:"right",margin:"20px 0px"},attrs:{type:"primary",size:"lg"},on:{click:t.releasePost}},[a("bbt-icon",{attrs:{type:"report"}}),t._v(" 我要提问")],1):t._e()],1)],1),t._v(" "),a("bbt-col",{attrs:{span:{xs:7}}},[t.blockInfoData&&t.blockInfoData.name?a("x-blockinfo",{attrs:{data:t.blockInfoData}}):t._e(),t._v(" "),a("x-hot-post-comment",{attrs:{data:t.hotComment,needLazy:!0,title:"最佳回答"}})],1)],1)],1)])}),[],!1,null,"7859b2dc",null));e.default=I.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6);var i,r,n=a(20),s=(a(4),a(3),a(19),a(1)),o=(a(12),a(29),a(16)),c=a(2),l=a(519),u=a(18),d=a(17);function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var m={inject:["injectData"],props:{activityOrderby:{type:Array},activityStatus:{type:Array},currentOrderBy:{type:String|Number},currentStatus:{type:String|Number}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(c.c)({group:function(t){return t.group}}),{isAdmin:function(){return"1"==this.group.groupid}}),methods:(i=Object(d.a)("/login/password",{back_url:"/new/ama?action=newthread"}),r={switchTab:function(t,e){e===this.currentStatus&&t===this.currentOrderBy||this.$emit("switch",t,e)},releasePost:function(){this.$router.push({name:"new-ama",query:{action:"newthread"}})}},Object(u.a)(r,"releasePost",[i],Object.getOwnPropertyDescriptor(r,"releasePost"),r),r)},f=(a(1126),a(0)),h=Object(f.a)(m,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-filter"},[a("ul",{staticClass:"bbt-filter__type"},t._l(t.activityOrderby,(function(e,i){return i<2?a("li",{key:i,class:{active:e.type==t.currentOrderBy},on:{click:function(a){return t.switchTab(e.type,t.currentStatus)}}},[1==i?a("bbt-icon",{attrs:{type:"hot"}}):t._e(),t._v(t._s(e.name)+"\n    ")],1):t._e()})),0),t._v(" "),a("ul",{staticClass:"bbt-filter__sort"},t._l(t.activityStatus,(function(e,i){return a("li",{key:i,class:{active:e.type==t.currentStatus},on:{click:function(a){return t.switchTab(t.currentOrderBy,e.type)}}},[t._v("\n      "+t._s(e.name)+"\n    ")])})),0),t._v(" "),t.isAdmin?a("bbt-btn",{attrs:{type:"primary",size:"lg"},on:{click:t.releasePost}},[a("bbt-icon",{attrs:{type:"calendar"}}),t._v(" 发起AMA")],1):t._e()],1)}),[],!1,null,"04f25bd3",null).exports,v={props:{data:{type:Array}},methods:{getStatus:function(t,e){var a=(new Date).getTime();return a<1e3*t?0:a>=1e3*t&&a<1e3*e?1:-1}}},b=(a(1127),Object(f.a)(v,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("bbt-row",t._l(t.data,(function(e,i){return a("bbt-col",{key:i,attrs:{span:{xs:8}}},[a("div",{staticClass:"ama-block"},[a("div",{staticClass:"ama-block__index"},[t._v("\n        "+t._s(e.activity.place)+"\n        "),a("i")]),t._v(" "),a("div",{staticClass:"ama-block__image"},[a("nuxt-link",{attrs:{to:{name:"ama-id",params:{id:""+e.tid},query:0!==t.getStatus(Number.parseInt(e.activity.starttimefrom),Number.parseInt(e.activity.starttimeto))?{sort:"hot"}:""},target:"_blank"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.activity.thumb||e.activity.attachurl,error:"/images/default/news.jpg",loading:"/images/default/news.jpg"},expression:"{\n              src: item.activity.thumb || item.activity.attachurl,\n              error: '/images/default/news.jpg',\n              loading: '/images/default/news.jpg',\n            }"}],attrs:{src:"/images/default/news.jpg"}})])],1),t._v(" "),a("div",{staticClass:"ama-block__info"},[a("h6",[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"ama-id",params:{id:""+e.tid},query:0!==t.getStatus(Number.parseInt(e.activity.starttimefrom),Number.parseInt(e.activity.starttimeto))?{sort:"hot"}:""},target:"_blank"}},[t._v("\n            "+t._s(e.title)+"\n          ")])],1),t._v(" "),a("p",[0==t.getStatus(Number.parseInt(e.activity.starttimefrom),Number.parseInt(e.activity.starttimeto))?a("span",{staticClass:"status"},[t._v("未开始")]):1==t.getStatus(Number.parseInt(e.activity.starttimefrom),Number.parseInt(e.activity.starttimeto))?a("span",{staticClass:"status"},[t._v("进行中")]):a("span",{staticClass:"status"},[t._v("已结束")]),t._v(" "),a("span",{staticClass:"view-reply"},[a("span",[a("bbt-icon",{attrs:{type:"eye"}}),t._v(" "+t._s(e.views))],1),t._v(" "),a("span",[a("bbt-icon",{attrs:{type:"comment"}}),t._v(" "+t._s(e.replies))],1)])])])])])})),1)}),[],!1,null,"2c9971d6",null).exports),_=a(27);function g(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function y(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?g(Object(a),!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var w={watchQuery:["orderby","act_status"],validate:function(t){var e=t.params;return!e.page||/^[1-9]+[0-9]*]*$/.test(e.page)},components:{XAmaHeader:l.a,XAmaFilter:h,XAmaList:b,XEmpty:_.a},fetch:function(t){var e=t.store,a=t.redirect,i=t.params.page,r=t.query,s=r.orderby,c=r.act_status;t.cookie;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(1===Number(i)||Number(i)>1e3)){t.next=2;break}return t.abrupt("return",a(301,{path:"/ask-me-anything"}));case 2:return[],o={},"before"==c?o.act_status="activity_before":"now"==c?o.act_status="activity_in":"after"==c&&(o.act_status="activity_end"),o.order_by=s||"dateline",r=[e.dispatch("ama/FETCH_LIST",{params:y({module:"ama",page:i||1,num:15},o),type:"lists"}),e.dispatch("ama/FETCH_NEW_ITEM",{type:"topAma"})],t.abrupt("return",Promise.all([e.dispatch("block/FETCH_SINGLE_BLOCK",{params:{fid:"121"},id:"121",type:"items"})].concat(Object(n.a)(r))).catch((function(t){})));case 8:case"end":return t.stop()}}),t)})))()},computed:y({},Object(c.c)({menu:function(t){return t.menu},ama:function(t){return t.ama},block:function(t){return t.block}}),{topAmaData:function(){return this.ama.topAma},currentOrderBy:function(){return this.$route.query.orderby||null},currentStatus:function(){return this.$route.query.act_status||null},currentPage:function(){return Number(this.$route.params.page)||1},activityOrderby:function(){return this.menu.activity_orderby},activityStatus:function(){return this.menu.activity_status},amaListData:function(){return this.ama.lists},totalNum:function(){return Number(this.ama.lists.total)||0},blockInfoData:function(){return this.block.items&&this.block.items[121]||{}}}),data:function(){return{isLoading:!1,pageSize:15}},watch:{$route:function(){this.isLoading=!1}},methods:{changePage:function(t){document.getElementById("app").scrollIntoView(),this.isLoading=!0;var e={};this.currentStatus&&(e.act_status=this.currentStatus),this.currentOrderBy&&(e.orderby=this.currentOrderBy),t>1?this.$router.push({name:"ask-me-anything-page",params:{page:"".concat(t)},query:e}):this.$router.push({name:"ask-me-anything",query:e})},switchTab:function(t,e){document.getElementById("app").scrollIntoView(),this.isLoading=!0;var a={};e&&(a.act_status=e),t&&(a.orderby=t),this.$router.push({name:"ask-me-anything",query:a})}},head:function(){return{title:this.currentPage>1?"第".concat(this.currentPage,"页 - ").concat(this.blockInfoData&&this.blockInfoData.seotitle):this.blockInfoData&&this.blockInfoData.seotitle,titleTemplate:null,meta:[{hid:"description",name:"description",content:this.blockInfoData&&this.blockInfoData.description},{hid:"keywords",name:"keywords",content:this.blockInfoData&&this.blockInfoData.keywords}]}}},k=Object(f.a)(w,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[t.topAmaData.tid?a("x-ama-header",{attrs:{data:t.topAmaData}}):t._e(),t._v(" "),a("div",{staticClass:"bbt-container"},[a("x-ama-filter",{attrs:{activityOrderby:t.activityOrderby,activityStatus:t.activityStatus,currentOrderBy:t.currentOrderBy,currentStatus:t.currentStatus},on:{switch:t.switchTab}}),t._v(" "),a("bbt-loading",{style:t.isLoading?"min-height: 1000px;":"",attrs:{loading:t.isLoading}},[t.amaListData.list&&t.amaListData.list.length?a("x-ama-list",{attrs:{data:t.amaListData.list}}):a("x-empty",[t._v("暂无数据")]),t._v(" "),t.totalNum>t.pageSize?a("el-pagination",{staticStyle:{margin:"24px 0"},attrs:{layout:"prev, pager, next, jumper","current-page":Number.parseInt(t.currentPage),"page-size":t.pageSize,total:parseInt(t.totalNum)},on:{"current-change":t.changePage}}):t._e()],1)],1)],1)}),[],!1,null,null,null);e.default=k.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6),a(23);var i=a(20),r=(a(4),a(3),a(19),a(1)),n=(a(12),a(29),a(16)),s=(a(31),a(39),a(2)),o=a(42),c=a(27),l=a(53),u={props:{activityOrderby:{type:Array},activityStatus:{type:Array},activityFilter:{type:Array},currentOrderby:{type:String|Number},currentFilter:{type:String|Number},currentStatus:{type:String|Number},currentView:{type:String}},methods:{switchTab:function(t,e,a){t===this.currentOrderby&&e===this.currentStatus&&a===this.currentFilter||this.$emit("switch",t,e,a)},switchView:function(t){t!==this.currentView&&this.$emit("view",t)}}},d=(a(1475),a(0)),p=Object(d.a)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-filter"},[a("ul",{staticClass:"bbt-filter__type"},t._l(t.activityOrderby,(function(e,i){return a("li",{key:i,class:{active:e.type==t.currentOrderby},on:{click:function(a){return t.switchTab(e.type,t.currentStatus,t.currentFilter)}}},[1===i?a("bbt-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"hot"}}):2===i?a("bbt-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"Group"}}):t._e(),t._v(t._s(e.name)+"\n    ")],1)})),0),t._v(" "),a("ul",{staticClass:"bbt-filter__filter"},t._l(t.activityStatus,(function(e,i){return a("li",{key:i,class:{active:e.type==t.currentStatus},on:{click:function(a){return t.switchTab(t.currentOrderby,e.type,t.currentFilter)}}},[t._v("\n      "+t._s(e.name)+"\n    ")])})),0),t._v(" "),a("ul",{staticClass:"bbt-filter__sort"},t._l(t.activityFilter,(function(e,i){return a("li",{key:i,class:{active:e.type==t.currentFilter},on:{click:function(a){return t.switchTab(t.currentOrderby,t.currentStatus,e.type)}}},[t._v("\n      "+t._s(e.name)+"\n    ")])})),0),t._v(" "),a("ul",{staticClass:"bbt-filter__view"},[a("li",{class:{active:"block"==t.currentView||!t.currentView},on:{click:function(e){return t.switchView("block")}}},[a("bbt-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"block-list"}})],1),t._v(" "),a("li",{class:{active:"list"==t.currentView},on:{click:function(e){return t.switchView("list")}}},[a("bbt-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"line-list"}})],1)])])}),[],!1,null,"eca010ec",null).exports,m=a(126),f=a(535);function h(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function v(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(Object(a),!0).forEach((function(e){Object(r.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var b=[null,"精选","全部","会议展览","课程讲座","聚会交流","创业路演"],_={watchQuery:["orderby","act_status","act_filter","act_place"],validate:function(t){var e=t.params;return/^[1-9]+[0-9]*]*$/.test(e.id)&&(!e.page||/^[1-9]+[0-9]*]*$/.test(e.page))&&["1","2","3","4","5","6"].includes(e.id)},components:{XTab:o.a,XEmpty:c.a,XTagFilter:l.a,XSortFilter:p,XActivityListModule:m.a,XActivityListRowModule:f.a},data:function(){return{isLoading:!1,pageSize:20}},fetch:function(t){var e=t.store,a=t.redirect,r=t.params,s=r.id,o=r.page,c=t.query,l=c.orderby,u=c.act_status,d=c.act_filter,p=c.act_place;t.cookie;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(1===Number(o)||Number(o)>1e3)){t.next=2;break}return t.abrupt("return",a(301,{path:"/events/".concat(s)}));case 2:return[],n=[null,null,null,"会议展览","课程讲座","聚会交流","创业路演"],c={},p&&(c.act_place=p),"1"==s?c.filter="digest":c.act_class=n[s],"before"==u?c.act_status="activity_before":"now"==u?c.act_status="activity_in":"after"==u&&(c.act_status="activity_end"),c.order_by=l||"dateline","free"==d?c.price=1:"pay"==d&&(c.price=2),r=[e.dispatch("activity/FETCH_LIST",{params:v({},c,{module:"offline",page:Number(o)||1}),type:"lists"}),e.dispatch("ad/FETCH_ACTIVITY_LIST",{}),e.dispatch("activity/FETCH_CITY_LIST",{})],t.abrupt("return",Promise.all([e.dispatch("block/FETCH_SINGLE_BLOCK",{params:{fid:"118"},id:"118",type:"items"})].concat(Object(i.a)(r))).catch((function(t){})));case 12:case"end":return t.stop()}}),t)})))()},watch:{$route:function(){this.isLoading=!1}},computed:v({},Object(s.c)({activity:function(t){return t.activity},block:function(t){return t.block},menu:function(t){return t.menu}}),{menuData:function(){return this.menu.activity},tagData:function(){return this.activity.place},activityOrderby:function(){return this.menu.activity_orderby},activityStatus:function(){return this.menu.activity_status},activityFilter:function(){return this.menu.activity_filter},activityData:function(){return this.activity.lists},totalNum:function(){return Number(this.activity.lists.total)||0},currentId:function(){return this.$route.params.id},currentIndex:function(){var t=this,e=0;return this.menuData.map((function(a,i){a.id==t.currentId&&(e=i)})),e},currentTagId:function(){return this.$route.query.act_place||null},currentTagName:function(){var t=this,e=null;return this.tagData.map((function(a,i){t.currentTagId&&t.currentTagId==a.id&&(e=a.name)})),e},currentPage:function(){return Number(this.$route.params.page)||1},currentView:function(){return this.$route.query.act_view||null},currentOrderby:function(){return this.$route.query.orderby||null},currentStatus:function(){return this.$route.query.act_status||null},currentFilter:function(){return this.$route.query.act_filter||null},blockInfoData:function(){return this.block.items&&this.block.items[118]||{}}}),methods:{switchTab:function(t){document.getElementById("app").scrollIntoView(),this.isLoading=!0,this.$router.push({name:"events-id",params:{id:"".concat(t.id)}})},switchSubTab:function(t){document.getElementById("app").scrollIntoView(),this.isLoading=!0;var e={};t.id&&(e.act_place=t.id),this.currentView&&(e.act_view=this.currentView),this.$router.push({name:"events-id",params:{id:"".concat(this.currentId)},query:e})},switchSortTab:function(t,e,a){document.getElementById("app").scrollIntoView(),this.isLoading=!0;var i={};this.currentTagId&&(i.act_place=this.currentTagId),this.currentView&&(i.act_view=this.currentView),t&&(i.orderby=t),e&&(i.act_status=e),a&&(i.act_filter=a),this.$router.push({name:"events-id",params:{id:"".concat(this.currentId)},query:i})},switchView:function(t){document.getElementById("app").scrollIntoView(),this.isLoading=!0;var e={};this.currentTagId&&(e.act_place=this.currentTagId),this.currentOrderby&&(e.orderby=this.currentOrderby),this.currentStatus&&(e.act_status=this.currentStatus),this.currentFilter&&(e.act_filter=this.currentFilter),e.act_view=t,this.currentPage>1?this.$router.push({name:"events-id-:page",params:{id:"".concat(this.currentId),page:"".concat(this.currentPage)},query:e}):this.$router.push({name:"events-id",params:{id:"".concat(this.currentId)},query:e})},changePage:function(t){document.getElementById("app").scrollIntoView(),this.isLoading=!0;var e={};this.currentTagId&&(e.act_place=this.currentTagId),this.currentView&&(e.act_view=this.currentView),this.currentOrderby&&(e.orderby=this.currentOrderby),this.currentStatus&&(e.act_status=this.currentStatus),this.currentFilter&&(e.act_filter=this.currentFilter),t>1?this.$router.push({name:"events-id-:page",params:{id:"".concat(this.currentId),page:"".concat(t)},query:e}):this.$router.push({name:"events-id",params:{id:"".concat(this.currentId)},query:e})},getTitle:function(){var t=!1;return"free"==this.currentFilter&&(t=!0),this.currentPage>1?"第".concat(this.currentPage,"页 - ").concat(b[this.currentId]," - ").concat(this.currentTagName?this.currentTagName:"").concat(t?"免费":"").concat(this.blockInfoData&&this.blockInfoData.seotitle):"".concat(b[this.currentId]," - ").concat(this.currentTagName?"".concat(this.currentTagName):"").concat(t?"免费":"").concat(this.blockInfoData&&this.blockInfoData.seotitle)}},head:function(){return{title:this.getTitle(),titleTemplate:null,meta:[{hid:"description",name:"description",content:this.blockInfoData&&this.blockInfoData.description},{hid:"keywords",name:"keywords",content:this.blockInfoData&&this.blockInfoData.keywords}]}}},g=Object(d.a)(_,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main",staticStyle:{"margin-top":"0"}},[a("div",{staticClass:"bbt-container"},[a("div",{staticStyle:{"padding-top":"24px",position:"relative"}},[a("x-tab",{attrs:{menu:t.menuData,size:"lg",currentId:t.currentId,currentIndex:t.currentIndex},on:{switch:t.switchTab}}),t._v(" "),t.tagData.length?a("x-tag-filter",{staticStyle:{margin:"32px 0 8px 0"},attrs:{isNeedMore:!1,menu:t.tagData,currentId:t.currentTagId},on:{switch:t.switchSubTab}}):t._e(),t._v(" "),a("x-sort-filter",{attrs:{activityOrderby:t.activityOrderby,activityFilter:t.activityFilter,activityStatus:t.activityStatus,currentOrderby:t.currentOrderby,currentFilter:t.currentFilter,currentStatus:t.currentStatus,currentView:t.currentView},on:{switch:t.switchSortTab,view:t.switchView}}),t._v(" "),a("bbt-loading",{style:t.isLoading?"min-height: 1000px;":"",attrs:{loading:t.isLoading}},[t.activityData.list&&t.activityData.list.length?a("div",["list"==t.currentView?a("x-activity-list-row-module",{attrs:{data:t.activityData.list}}):a("x-activity-list-module",{attrs:{data:t.activityData.list}})],1):a("x-empty",[t._v("暂无数据")]),t._v(" "),t.totalNum>t.pageSize?a("el-pagination",{staticStyle:{margin:"24px 0"},attrs:{layout:t.totalNum>200?"prev, pager, next, jumper":"prev, pager, next","current-page":Number.parseInt(t.currentPage),"page-size":t.pageSize,total:t.totalNum},on:{"current-change":t.changePage}}):t._e()],1)],1)])])}),[],!1,null,null,null);e.default=g.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6),a(33),a(25);var i=a(1),r=(a(31),a(4),a(3),a(19),a(12),a(2)),n=a(179),s=(a(23),a(521)),o=a(53),c=a(27),l={components:{XLibraryListModule:s.a,XTagFilter:o.a,XEmpty:c.a},props:{categoryData:{type:Array},libraryData:{type:Object},id:{type:String|Number},currentPage:{type:String|Number},menuData:{type:Array}},data:function(){return{isLoading:!1,pageSize:10}},computed:{currentItemIndex:function(){var t=this,e=0;return this.categoryData.map((function(a,i){t.id==a.type_id?e=i:a.item.map((function(a,r){t.id==a.type_id&&(e=i)}))})),e},currentItemName:function(){var t=this,e=this.categoryData[0].type_name;return this.categoryData.map((function(a,i){t.id==a.type_id?e=a.type_name:a.item.map((function(a,i){t.id==a.type_id&&(e=a.type_name)}))})),e},currentIdIndex:function(){var t=this,e=null;return this.categoryData.map((function(a,i){a.item.map((function(a,i){t.id==a.type_id&&(e=i)}))})),e},currentKeyId:function(){var t=this,e=null;return this.menuData.map((function(a,i){t.$route.query.keyword==a.name&&(e=i)})),e}},watch:{$route:function(t,e){this.isLoading=!1}},methods:{changeRoute:function(t){this.isLoading||this.id==t||(this.isLoading=!0,this.$router.push({name:"library-id",params:{id:"".concat(t)}}))},switchKeyword:function(t){if(t.id!=this.currentKeyId){this.isLoading=!0;var e={};t.id&&(e.keyword=t.name),this.$router.push({name:"library-id",params:{id:"".concat(this.id)},query:e})}},changePage:function(t){if(!this.isLoading){this.isLoading=!0;var e={};this.currentKeyId&&(e.keyword=this.menuData[this.currentKeyId].name),t>1?this.$router.push({name:"library-id-:page",params:{id:"".concat(this.id),page:"".concat(t)},query:e}):this.$router.push({name:"library-id",params:{id:"".concat(this.id)},query:e})}}}},u=(a(1512),a(0)),d=Object(u.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"bbt-section"},[a("div",{staticClass:"bbt-container"},[a("div",{staticClass:"library-wrap bbt-clearfix"},[a("div",{staticClass:"library-wrap__category"},[a("div",{staticClass:"type-list"},t._l(t.categoryData,(function(e,i){return a("div",{key:i,staticClass:"type-list__item",class:{active:t.currentItemIndex==i}},[a("dl",[a("dt",{class:{active:t.currentItemIndex==i&&"number"!=typeof t.currentIdIndex}},[a("a",{staticClass:"link-dark-major",attrs:{href:"javascript:;"},on:{click:function(a){return t.changeRoute(e.type_id)}}},[a("bbt-icon",{attrs:{type:"library-"+e.type_id}}),t._v(t._s(e.type_name))],1)]),t._v(" "),t._l(e.item,(function(e,r){return a("dd",{key:r,class:{active:t.currentItemIndex==i&&t.currentIdIndex==r}},[a("a",{staticClass:"link-dark-minor",attrs:{href:"javascript:;"},on:{click:function(a){return t.changeRoute(e.type_id)}}},[t._v(t._s(e.type_name))])])}))],2)])})),0)]),t._v(" "),a("div",{staticClass:"library-wrap__content"},[a("h5",[t._v(t._s(t.currentItemName))]),t._v(" "),a("x-tag-filter",{staticStyle:{margin:"16px 0 28px 0"},attrs:{isNeedMore:!0,menu:t.menuData,currentId:t.currentKeyId},on:{switch:t.switchKeyword}}),t._v(" "),a("bbt-loading",{attrs:{loading:t.isLoading}},[t.libraryData.list&&t.libraryData.list.length?a("x-library-list-module",{attrs:{data:t.libraryData.list}}):a("x-empty",[t._v("暂无数据")]),t._v(" "),Number.parseInt(t.libraryData.total)>t.pageSize?a("el-pagination",{staticStyle:{margin:"0 0 32px 0"},attrs:{layout:Number.parseInt(t.libraryData.total)>100?"prev, pager, next, jumper":"prev, pager, next","current-page":t.currentPage,"page-size":t.pageSize,total:Number.parseInt(t.libraryData.total)},on:{"current-change":t.changePage}}):t._e()],1)],1)])])])}),[],!1,null,"184c1b48",null).exports;function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var m={components:{XBanner:n.a,XLibrarySection:d},validate:function(t){var e=t.params;return/^[1-9]+[0-9]*]*$/.test(e.id)&&(!e.page||/^[1-9]+[0-9]*]*$/.test(e.page))},watchQuery:["keyword"],fetch:function(t){var e=t.store,a=(t.res,t.error),i=t.redirect,r=t.route,n=r.params,s=n.id,o=n.page,c=r.query.keyword;return 1===Number(o)?i(301,{path:"/library/".concat(s)}):Promise.all([e.dispatch("library/FETCH_CATEGORY_LIST",{params:{},type:"category"}).then((function(t){var e=[];if(t.map((function(t){e.push("".concat(t.type_id)),t.item.map((function(t){e.push("".concat(t.type_id))}))})),!e.includes(s))throw{code:404}})),e.dispatch("library/FETCH_LIST",{params:{page_size:10,type_id:s,page:Number(o)||1,keyword:c},type:"detail_list"})]).catch((function(t){return t&&404===t.code?a({statusCode:404}):a({statusCode:500})}))},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(r.c)({libraby:function(t){return t.library},menu:function(t){return t.menu}}),{num:function(){return this.libraby.num.total},categoryData:function(){return this.libraby.category},libraryData:function(){return this.libraby.detail_list&&this.libraby.detail_list.list?this.libraby.detail_list:{}},totalNum:function(){return Number(this.libraby.detail_list.total)||0},menuData:function(){return this.menu.library_kewords},id:function(){return this.$route.params.id},currentPage:function(){return Number(this.$route.params.page)||1}}),created:function(){this.currentPage>Number.parseInt(this.totalNum/10)+1&&this.$router.replace({name:"library-id",params:{id:"".concat(this.id)}})},mounted:function(){Promise.all([this.$store.dispatch("library/FETCH_NUM")]).catch((function(t){}))},methods:{search:function(t){this.$router.push({name:"search",query:{keyword:t,type:"library"}})},getName:function(){var t=this,e=this.categoryData[0].type_name;return this.categoryData.map((function(a,i){t.id==a.type_id?e=a.type_name:a.item.map((function(a,i){t.id==a.type_id&&(e=a.type_name)}))})),e}},head:function(){return{title:this.currentPage>1?"第".concat(this.currentPage,"页 - ").concat(this.getName()," - 区块链文库"):"".concat(this.getName()," - 区块链文库"),meta:[{hid:"description",name:"description",content:"区块链文库是区块链领域的专业文档分享平台，由用户自发上传分享。文库搜集了比特币中文白皮书、开发者指南、行业研究报告、线下交流PPT、创业项目商业计划书等资料。"}]}}},f=Object(u.a)(m,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main bbt-main",staticStyle:{"padding-bottom":"0"}},[a("x-banner",{attrs:{num:t.num,type:"library"},on:{search:t.search}}),t._v(" "),a("x-library-section",{attrs:{categoryData:t.categoryData,libraryData:t.libraryData,menuData:t.menuData,id:t.id,currentPage:t.currentPage}})],1)}),[],!1,null,null,null);e.default=f.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6),a(33),a(25),a(23);var i=a(1),r=(a(12),a(4),a(3),a(19),a(31),a(39),a(2)),n=a(42),s=a(125);function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var c={components:{XTab:n.a,XVideoListModule:s.a},validate:function(t){var e=t.params;return/^[1-9]+[0-9]*]*$/.test(e.id)&&(!e.page||/^[1-9]+[0-9]*]*$/.test(e.page))&&["4624","4937","4530","4627","1526","7471"].includes(e.id)},fetch:function(t){var e=t.store,a=(t.cookie,t.res,t.error,t.redirect,t.route.params),i=a.id,r=a.page;return Promise.all([e.dispatch("video/FETCH_LIST",{params:{page:Number(r)||1,cat_id:i},type:"detail"})]).catch((function(t){}))},data:function(){return{type:"detail",pageSize:20,isLoading:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(r.c)({menuData:function(t){return t.menu.video},video:function(t){return t.video},flashData:function(t){return t.flash.new.list}}),{videoData:function(){return this.video[this.type].list},desc:function(){return this.video[this.type].desc},totalNum:function(){return Number(this.video[this.type].total)||0},currentPage:function(){return Number(this.$route.params.page)||1},catId:function(){return this.$route.params.id},currentIndex:function(){var t=this,e=0;return this.menuData.map((function(a,i){a.id==t.catId&&(e=i)})),e},catName:function(){var t=this,e=this.menuData.filter((function(e){return e.id==t.catId&&e.id}));return e[0]&&e[0].name},linkHref:function(){return this.catId?"https://www.8btc.com/video/list?cat_id=".concat(this.catId):"https://www.8btc.com/video/list"}}),created:function(){this.currentPage>Number.parseInt(this.totalNum/20)+1&&this.$router.replace({name:this.$route.name,params:{id:"".concat(this.catId)}})},watch:{$route:function(){this.isLoading=!1}},methods:{switchTab:function(t){this.isLoading=!0,this.$router.push({name:"videos-id",params:{id:"".concat(t.id)}})},changePage:function(t){this.isLoading=!0,t>1?this.$router.push({name:"videos-id-:page",params:{id:"".concat(this.catId),page:"".concat(t)}}):this.$router.push({name:"videos-id",params:{id:"".concat(this.catId)}})}},head:function(){return{title:this.catName?this.currentPage>1?"第".concat(this.currentPage,"页 - ").concat(this.catName," - 区块链视频"):"".concat(this.catName," - 区块链视频"):"全部视频 - 区块链视频",link:[{hid:"canonical",rel:"canonical",href:this.linkHref}],meta:[{hid:"description",name:"description",content:this.desc}]}}},l=a(0),u=Object(l.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main bbt-main--margin"},[a("div",{staticClass:"bbt-container"},[a("x-tab",{attrs:{menu:t.menuData,size:"lg",currentId:t.catId,currentIndex:t.currentIndex},on:{switch:t.switchTab}}),t._v(" "),a("bbt-loading",{attrs:{loading:t.isLoading,size:"lg"}},[a("x-video-list-module",{attrs:{data:t.videoData,count:t.pageSize}}),t._v(" "),t.totalNum>t.pageSize?a("el-pagination",{staticStyle:{"margin-top":"24px"},attrs:{layout:"prev, pager, next","current-page":t.currentPage,"page-size":t.pageSize,total:t.totalNum},on:{"current-change":t.changePage}}):t._e()],1)],1)])}),[],!1,null,null,null);e.default=u.exports},function(t,e,a){"use strict";var i={mounted:function(){var t=document.createElement("script");t.src="https://s5.cnzz.com/z_stat.php?id=1276335760&web_id=1276335760",t.language="JavaScript",document.body.appendChild(t);var e=document.createElement("script");e.src="http:"==document.location.protocol?"http://js.passport.qihucdn.com/11.0.1.js?75e977c08326907d72f4ff357dc533a8":"https://jspassport.ssl.qhimg.com/11.0.1.js?75e977c08326907d72f4ff357dc533a8",e.language="JavaScript",document.body.appendChild(e);var a=document.createElement("script"),i=document.createTextNode('\n        var _hmt = _hmt || [];\n        (function() {\n          var hm = document.createElement("script");\n          hm.src = "https://hm.baidu.com/hm.js?f08f6721ba9dce6dd3867cf2ebf9238e";\n          var s = document.getElementsByTagName("script")[0];\n          s.parentNode.insertBefore(hm, s);\n        })();\n      ');a.appendChild(i),a.language="JavaScript";var r=document.getElementsByTagName("head")[0];r.children[0]?r.insertBefore(a,r.children[0]):r.appendChild(a)},watch:{$route:function(){if("undefined"!=typeof window&&window._czc){var t=window.location,e=t.pathname+t.hash;window._czc.push(["_trackPageview",e,"/"])}}},head:function(){return{title:"ChainNode 链节点",titleTemplate:"%s - ChainNode 链节点",meta:[{hid:"description",name:"description",content:"ChainNode 链节点（原巴比特论坛）是国内知名的区块链交流平台。在这里可以分享数字货币投资经验和区块链技术，观看区块链知识科普视频，参与高端的行业峰会和线下活动。"},{hid:"og:image",property:"og:image",content:"https://www.chainnode.com/iamges/common/ChainNode.png"}],link:[{rel:"alternate",media:"only screen and(max-width: 640px)",href:"https://m.chainnode.com".concat(this.$route.path)},{rel:"canonical",href:"https://www.chainnode.com".concat(this.$route.path)}]}}},r=a(0),n=Object(r.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("nuxt")],1)}),[],!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";var i=a(0),r=Object(i.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("nuxt")],1)}),[],!1,null,null,null);e.a=r.exports},function(t,e,a){"use strict";var i={name:"NuxtLoading",data:function(){return{percent:0,show:!1,canSucceed:!0,reversed:!1,skipTimerCount:0,rtl:!1,throttle:200,duration:5e3,continuous:!1}},computed:{left:function(){return!(!this.continuous&&!this.rtl)&&(this.rtl?this.reversed?"0px":"auto":this.reversed?"auto":"0px")}},beforeDestroy:function(){this.clear()},methods:{clear:function(){clearInterval(this._timer),clearTimeout(this._throttle),this._timer=null},start:function(){var t=this;return this.clear(),this.percent=0,this.reversed=!1,this.skipTimerCount=0,this.canSucceed=!0,this.throttle?this._throttle=setTimeout((function(){return t.startTimer()}),this.throttle):this.startTimer(),this},set:function(t){return this.show=!0,this.canSucceed=!0,this.percent=Math.min(100,Math.max(0,Math.floor(t))),this},get:function(){return this.percent},increase:function(t){return this.percent=Math.min(100,Math.floor(this.percent+t)),this},decrease:function(t){return this.percent=Math.max(0,Math.floor(this.percent-t)),this},pause:function(){return clearInterval(this._timer),this},resume:function(){return this.startTimer(),this},finish:function(){return this.percent=this.reversed?0:100,this.hide(),this},hide:function(){var t=this;return this.clear(),setTimeout((function(){t.show=!1,t.$nextTick((function(){t.percent=0,t.reversed=!1}))}),500),this},fail:function(){return this.canSucceed=!1,this},startTimer:function(){var t=this;this.show||(this.show=!0),void 0===this._cut&&(this._cut=1e4/Math.floor(this.duration)),this._timer=setInterval((function(){t.skipTimerCount>0?t.skipTimerCount--:(t.reversed?t.decrease(t._cut):t.increase(t._cut),t.continuous&&(t.percent>=100?(t.skipTimerCount=1,t.reversed=!t.reversed):t.percent<=0&&(t.skipTimerCount=1,t.reversed=!t.reversed)))}),100)}},render:function(t){var e=t(!1);return this.show&&(e=t("div",{staticClass:"nuxt-progress",class:{"nuxt-progress-notransition":this.skipTimerCount>0,"nuxt-progress-failed":!this.canSucceed},style:{width:this.percent+"%",left:this.left}})),e}},r=(a(899),a(0)),n=Object(r.a)(i,void 0,void 0,!1,null,null,null);e.a=n.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";var i=a(251);a.n(i).a},function(t,e,a){"use strict";var i=a(252);a.n(i).a},,,function(t,e,a){},function(t,e,a){"use strict";var i=a(253);a.n(i).a},,,,,function(t,e,a){"use strict";var i=a(254);a.n(i).a},function(t,e,a){"use strict";var i=a(255);a.n(i).a},function(t,e,a){"use strict";var i=a(256);a.n(i).a},function(t,e,a){"use strict";var i=a(257);a.n(i).a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";var i=a(259);a.n(i).a},function(t,e,a){"use strict";var i=a(260);a.n(i).a},function(t,e,a){"use strict";var i=a(261);a.n(i).a},function(t,e,a){"use strict";var i=a(262);a.n(i).a},function(t,e,a){"use strict";var i=a(263);a.n(i).a},function(t,e,a){"use strict";var i=a(264);a.n(i).a},function(t,e,a){"use strict";var i=a(265);a.n(i).a},function(t,e,a){"use strict";var i=a(266);a.n(i).a},function(t,e,a){"use strict";var i=a(267);a.n(i).a},function(t,e,a){"use strict";var i=a(268);a.n(i).a},function(t,e,a){"use strict";var i=a(269);a.n(i).a},function(t,e,a){"use strict";var i=a(270);a.n(i).a},function(t,e,a){"use strict";var i=a(271);a.n(i).a},function(t,e,a){"use strict";var i=a(272);a.n(i).a},function(t,e,a){"use strict";var i=a(273);a.n(i).a},function(t,e,a){"use strict";var i=a(274);a.n(i).a},function(t,e,a){"use strict";var i=a(275);a.n(i).a},function(t,e,a){"use strict";var i=a(276);a.n(i).a},function(t,e,a){"use strict";var i=a(277);a.n(i).a},function(t,e,a){"use strict";var i=a(278);a.n(i).a},function(t,e,a){"use strict";var i=a(279);a.n(i).a},function(t,e,a){"use strict";var i=a(280);a.n(i).a},function(t,e,a){"use strict";var i=a(281);a.n(i).a},function(t,e,a){"use strict";var i=a(282);a.n(i).a},function(t,e,a){"use strict";var i=a(283);a.n(i).a},function(t,e,a){"use strict";var i=a(284);a.n(i).a},function(t,e,a){"use strict";var i=a(285);a.n(i).a},function(t,e,a){"use strict";var i=a(286);a.n(i).a},function(t,e,a){"use strict";var i=a(287);a.n(i).a},function(t,e,a){"use strict";var i=a(288);a.n(i).a},function(t,e,a){"use strict";var i=a(289);a.n(i).a},function(t,e,a){"use strict";var i=a(290);a.n(i).a},function(t,e,a){"use strict";var i=a(291);a.n(i).a},function(t,e,a){"use strict";var i=a(292);a.n(i).a},function(t,e,a){"use strict";var i=a(293);a.n(i).a},function(t,e,a){"use strict";var i=a(294);a.n(i).a},function(t,e,a){"use strict";var i=a(295);a.n(i).a},function(t,e,a){"use strict";var i=a(296);a.n(i).a},function(t,e,a){"use strict";var i=a(297);a.n(i).a},function(t,e,a){"use strict";var i=a(298);a.n(i).a},function(t,e,a){"use strict";var i=a(299);a.n(i).a},function(t,e,a){"use strict";var i=a(300);a.n(i).a},function(t,e,a){"use strict";var i=a(301);a.n(i).a},function(t,e,a){"use strict";var i=a(302);a.n(i).a},function(t,e,a){"use strict";var i=a(303);a.n(i).a},function(t,e,a){"use strict";var i=a(304);a.n(i).a},function(t,e,a){"use strict";var i=a(305);a.n(i).a},function(t,e,a){"use strict";var i=a(306);a.n(i).a},function(t,e,a){"use strict";var i=a(307);a.n(i).a},function(t,e,a){"use strict";var i=a(308);a.n(i).a},function(t,e,a){"use strict";var i=a(309);a.n(i).a},function(t,e,a){"use strict";var i=a(310);a.n(i).a},function(t,e,a){"use strict";var i=a(311);a.n(i).a},function(t,e,a){"use strict";var i=a(312);a.n(i).a},function(t,e,a){"use strict";var i=a(313);a.n(i).a},function(t,e,a){"use strict";var i=a(314);a.n(i).a},function(t,e,a){"use strict";var i=a(315);a.n(i).a},,,,,,,function(t,e,a){"use strict";var i=a(316);a.n(i).a},function(t,e,a){"use strict";var i=a(317);a.n(i).a},function(t,e,a){"use strict";var i=a(318);a.n(i).a},function(t,e,a){"use strict";var i=a(319);a.n(i).a},function(t,e,a){"use strict";var i=a(320);a.n(i).a},function(t,e,a){"use strict";var i=a(321);a.n(i).a},function(t,e,a){"use strict";var i=a(322);a.n(i).a},function(t,e,a){"use strict";var i=a(323);a.n(i).a},function(t,e,a){"use strict";var i=a(324);a.n(i).a},function(t,e,a){"use strict";var i=a(325);a.n(i).a},function(t,e,a){"use strict";var i=a(326);a.n(i).a},function(t,e,a){"use strict";var i=a(327);a.n(i).a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";var i=a(328);a.n(i).a},function(t,e,a){"use strict";var i=a(329);a.n(i).a},function(t,e,a){"use strict";var i=a(330);a.n(i).a},function(t,e,a){"use strict";var i=a(331);a.n(i).a},function(t,e,a){"use strict";var i=a(332);a.n(i).a},function(t,e,a){"use strict";var i=a(333);a.n(i).a},function(t,e,a){"use strict";var i=a(334);a.n(i).a},function(t,e,a){"use strict";var i=a(335);a.n(i).a},function(t,e,a){"use strict";var i=a(336);a.n(i).a},function(t,e,a){"use strict";var i=a(337);a.n(i).a},function(t,e,a){"use strict";var i=a(338);a.n(i).a},function(t,e,a){"use strict";var i=a(339);a.n(i).a},function(t,e,a){"use strict";var i=a(340);a.n(i).a},function(t,e,a){"use strict";var i=a(341);a.n(i).a},function(t,e,a){"use strict";var i=a(342);a.n(i).a},function(t,e,a){"use strict";var i=a(343);a.n(i).a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";var i=a(344);a.n(i).a},function(t,e,a){"use strict";var i=a(345);a.n(i).a},,function(t,e,a){"use strict";var i=a(346);a.n(i).a},function(t,e,a){"use strict";var i=a(347);a.n(i).a},function(t,e,a){"use strict";var i=a(348);a.n(i).a},function(t,e,a){"use strict";var i=a(349);a.n(i).a},function(t,e,a){"use strict";var i=a(350);a.n(i).a},,function(t,e,a){"use strict";var i=a(351);a.n(i).a},function(t,e,a){"use strict";var i=a(352);a.n(i).a},function(t,e,a){"use strict";var i=a(353);a.n(i).a},function(t,e,a){"use strict";var i=a(354);a.n(i).a},function(t,e,a){"use strict";var i=a(355);a.n(i).a},function(t,e,a){"use strict";var i=a(356);a.n(i).a},function(t,e,a){"use strict";var i=a(357);a.n(i).a},function(t,e,a){"use strict";var i=a(358);a.n(i).a},function(t,e,a){"use strict";var i=a(359);a.n(i).a},function(t,e,a){"use strict";var i=a(360);a.n(i).a},function(t,e,a){"use strict";var i=a(361);a.n(i).a},function(t,e,a){"use strict";var i=a(362);a.n(i).a},function(t,e,a){"use strict";var i=a(363);a.n(i).a},function(t,e,a){"use strict";var i=a(364);a.n(i).a},function(t,e,a){"use strict";var i=a(365);a.n(i).a},,,function(t,e,a){"use strict";var i=a(366);a.n(i).a},function(t,e,a){"use strict";var i=a(367);a.n(i).a},,function(t,e,a){"use strict";var i=a(368);a.n(i).a},function(t,e,a){"use strict";var i=a(369);a.n(i).a},function(t,e,a){"use strict";var i=a(370);a.n(i).a},function(t,e,a){"use strict";var i=a(371);a.n(i).a},function(t,e,a){"use strict";var i=a(372);a.n(i).a},function(t,e,a){"use strict";var i=a(373);a.n(i).a},function(t,e,a){"use strict";var i=a(374);a.n(i).a},function(t,e,a){"use strict";var i=a(375);a.n(i).a},function(t,e,a){"use strict";var i=a(376);a.n(i).a},function(t,e,a){"use strict";var i=a(377);a.n(i).a},function(t,e,a){"use strict";var i=a(378);a.n(i).a},function(t,e,a){"use strict";var i=a(379);a.n(i).a},function(t,e,a){"use strict";var i=a(380);a.n(i).a},function(t,e,a){"use strict";var i=a(381);a.n(i).a},function(t,e,a){"use strict";var i=a(382);a.n(i).a},function(t,e,a){"use strict";var i=a(383);a.n(i).a},function(t,e,a){"use strict";var i=a(384);a.n(i).a},function(t,e,a){"use strict";var i=a(385);a.n(i).a},function(t,e,a){"use strict";var i=a(386);a.n(i).a},function(t,e,a){"use strict";var i=a(387);a.n(i).a},function(t,e,a){"use strict";var i=a(388);a.n(i).a},function(t,e,a){"use strict";var i=a(389);a.n(i).a},function(t,e,a){"use strict";var i=a(390);a.n(i).a},function(t,e,a){"use strict";var i=a(391);a.n(i).a},function(t,e,a){"use strict";var i=a(392);a.n(i).a},,function(t,e,a){"use strict";var i=a(393);a.n(i).a},function(t,e,a){"use strict";var i=a(394);a.n(i).a},function(t,e,a){"use strict";var i=a(395);a.n(i).a},function(t,e,a){"use strict";var i=a(396);a.n(i).a},function(t,e,a){"use strict";var i=a(397);a.n(i).a},function(t,e,a){"use strict";var i=a(398);a.n(i).a},function(t,e,a){"use strict";var i=a(399);a.n(i).a},function(t,e,a){"use strict";var i=a(400);a.n(i).a},function(t,e,a){"use strict";var i=a(401);a.n(i).a},function(t,e,a){"use strict";var i=a(402);a.n(i).a},function(t,e,a){"use strict";var i=a(403);a.n(i).a},function(t,e,a){"use strict";var i=a(404);a.n(i).a},function(t,e,a){"use strict";var i=a(405);a.n(i).a},function(t,e,a){"use strict";var i=a(406);a.n(i).a},function(t,e,a){"use strict";var i=a(407);a.n(i).a},function(t,e,a){"use strict";var i=a(408);a.n(i).a},function(t,e,a){"use strict";var i=a(409);a.n(i).a},function(t,e,a){"use strict";var i=a(410);a.n(i).a},function(t,e,a){"use strict";var i=a(411);a.n(i).a},function(t,e,a){"use strict";var i=a(412);a.n(i).a},function(t,e,a){"use strict";var i=a(413);a.n(i).a},function(t,e,a){"use strict";var i=a(414);a.n(i).a},function(t,e,a){"use strict";var i=a(415);a.n(i).a},function(t,e,a){"use strict";var i=a(416);a.n(i).a},function(t,e,a){"use strict";var i=a(417);a.n(i).a},function(t,e,a){"use strict";var i=a(418);a.n(i).a},function(t,e,a){"use strict";var i=a(419);a.n(i).a},function(t,e,a){"use strict";var i=a(420);a.n(i).a},function(t,e,a){"use strict";var i=a(421);a.n(i).a},function(t,e,a){"use strict";var i=a(422);a.n(i).a},function(t,e,a){"use strict";var i=a(423);a.n(i).a},function(t,e,a){"use strict";var i=a(424);a.n(i).a},function(t,e,a){"use strict";var i=a(425);a.n(i).a},function(t,e,a){"use strict";var i=a(426);a.n(i).a},function(t,e,a){"use strict";var i=a(427);a.n(i).a},function(t,e,a){"use strict";var i=a(428);a.n(i).a},function(t,e,a){"use strict";var i=a(429);a.n(i).a},function(t,e,a){"use strict";var i=a(430);a.n(i).a},function(t,e,a){"use strict";var i=a(431);a.n(i).a},function(t,e,a){"use strict";var i=a(432);a.n(i).a},function(t,e,a){"use strict";var i=a(433);a.n(i).a},function(t,e,a){"use strict";var i=a(434);a.n(i).a},function(t,e,a){"use strict";var i=a(435);a.n(i).a},function(t,e,a){"use strict";var i=a(436);a.n(i).a},function(t,e,a){"use strict";var i=a(437);a.n(i).a},function(t,e,a){"use strict";var i=a(438);a.n(i).a},function(t,e,a){"use strict";var i=a(439);a.n(i).a},function(t,e,a){"use strict";var i=a(440);a.n(i).a},function(t,e,a){"use strict";var i=a(441);a.n(i).a},function(t,e,a){"use strict";var i=a(442);a.n(i).a},function(t,e,a){"use strict";var i=a(443);a.n(i).a},function(t,e,a){"use strict";var i=a(444);a.n(i).a},function(t,e,a){"use strict";var i=a(445);a.n(i).a},function(t,e,a){"use strict";var i=a(446);a.n(i).a},function(t,e,a){"use strict";var i=a(447);a.n(i).a},function(t,e,a){"use strict";var i=a(448);a.n(i).a},function(t,e,a){"use strict";var i=a(449);a.n(i).a},function(t,e,a){"use strict";var i=a(450);a.n(i).a},function(t,e,a){"use strict";var i=a(451);a.n(i).a},function(t,e,a){"use strict";var i=a(452);a.n(i).a},function(t,e,a){"use strict";var i=a(453);a.n(i).a},function(t,e,a){"use strict";var i=a(454);a.n(i).a},function(t,e,a){"use strict";var i=a(455);a.n(i).a},function(t,e,a){"use strict";var i=a(456);a.n(i).a},function(t,e,a){"use strict";var i=a(457);a.n(i).a},function(t,e,a){"use strict";var i=a(458);a.n(i).a},function(t,e,a){"use strict";var i=a(459);a.n(i).a},function(t,e,a){"use strict";var i=a(460);a.n(i).a},function(t,e,a){"use strict";var i=a(461);a.n(i).a},function(t,e,a){"use strict";var i=a(462);a.n(i).a},function(t,e,a){"use strict";var i=a(463);a.n(i).a},function(t,e,a){"use strict";var i=a(464);a.n(i).a},function(t,e,a){"use strict";var i=a(465);a.n(i).a},function(t,e,a){"use strict";var i=a(466);a.n(i).a},function(t,e,a){"use strict";var i=a(467);a.n(i).a},function(t,e,a){"use strict";var i=a(468);a.n(i).a},function(t,e,a){"use strict";var i=a(469);a.n(i).a},function(t,e,a){"use strict";var i=a(470);a.n(i).a},function(t,e,a){"use strict";var i=a(471);a.n(i).a},function(t,e,a){"use strict";var i=a(472);a.n(i).a},function(t,e,a){"use strict";var i=a(473);a.n(i).a},function(t,e,a){"use strict";var i=a(474);a.n(i).a},,,function(t,e,a){"use strict";var i=a(475);a.n(i).a},function(t,e,a){"use strict";var i=a(476);a.n(i).a},function(t,e,a){"use strict";var i=a(477);a.n(i).a},,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";var i=a(478);a.n(i).a},function(t,e,a){"use strict";var i=a(479);a.n(i).a},function(t,e,a){"use strict";var i=a(480);a.n(i).a},function(t,e,a){"use strict";var i=a(481);a.n(i).a},function(t,e,a){"use strict";var i=a(482);a.n(i).a},function(t,e,a){"use strict";var i=a(483);a.n(i).a},function(t,e,a){"use strict";var i=a(484);a.n(i).a},function(t,e,a){"use strict";var i=a(485);a.n(i).a},function(t,e,a){"use strict";var i=a(486);a.n(i).a},function(t,e,a){"use strict";var i=a(487);a.n(i).a},function(t,e,a){"use strict";var i=a(488);a.n(i).a},function(t,e,a){"use strict";var i=a(489);a.n(i).a},function(t,e,a){"use strict";var i=a(490);a.n(i).a},function(t,e,a){"use strict";var i=a(491);a.n(i).a},function(t,e,a){"use strict";var i=a(492);a.n(i).a},function(t,e,a){"use strict";var i=a(493);a.n(i).a},function(t,e,a){"use strict";var i=a(494);a.n(i).a},function(t,e,a){"use strict";var i=a(495);a.n(i).a},function(t,e,a){"use strict";var i=a(496);a.n(i).a},function(t,e,a){"use strict";var i=a(497);a.n(i).a},function(t,e,a){"use strict";var i=a(498);a.n(i).a},function(t,e,a){"use strict";var i=a(499);a.n(i).a},function(t,e,a){"use strict";var i=a(500);a.n(i).a},function(t,e,a){"use strict";var i=a(501);a.n(i).a},function(t,e,a){"use strict";var i=a(502);a.n(i).a},function(t,e,a){"use strict";var i=a(503);a.n(i).a},function(t,e,a){"use strict";var i=a(504);a.n(i).a},function(t,e,a){"use strict";var i=a(505);a.n(i).a},function(t,e,a){"use strict";var i=a(506);a.n(i).a},function(t,e,a){"use strict";var i=a(507);a.n(i).a},function(t,e,a){"use strict";var i=a(508);a.n(i).a},function(t,e,a){"use strict";var i=a(509);a.n(i).a},function(t,e,a){"use strict";var i=a(510);a.n(i).a},function(t,e,a){"use strict";var i=a(511);a.n(i).a},function(t,e,a){"use strict";var i=a(512);a.n(i).a},function(t,e,a){"use strict";var i=a(513);a.n(i).a},function(t,e,a){"use strict";var i=a(514);a.n(i).a},,,,,,,,,,,,,,,,function(t,e,a){"use strict";var i=a(1),r=(a(31),a(39),a(40)),n={components:{"no-ssr":a.n(r).a},props:{skin:{validate:function(t){return["browsing","hotcomment","hotpost","hotnodes","newnodes","hottopic","getstart","eventcalendar","hotuser","hotcourse","hotdoc"].includes(t)},default:""},needLazy:{type:Boolean}},data:function(){return{rowOptions:{gutter:16},hotnodesOptions:[{type:"repeat",repeat:3,list:[{span:3,alignSelf:"center",type:"circle"},{span:8,type:"more",children:[{type:"list",options:{list:[{width:"100%",height:"16px",marginLeft:"8px",marginTop:"12px"}]}}]},{type:"spaceline",span:2,options:{}},{span:3,alignSelf:"center",type:"circle"},{span:8,type:"more",children:[{type:"list",options:{list:[{width:"100%",height:"16px",marginLeft:"8px",marginTop:"12px"}]}}]},{type:"spaceline",span:24,options:{height:"16px"}}]}],newnodesOptions:[{type:"repeat",repeat:5,list:[{span:3,alignSelf:"center",type:"circle"},{type:"spaceline",span:1,options:{height:"44px"}},{span:18,type:"more",children:[{type:"list",options:{list:[{width:"60%",height:"22px"},{width:"100%",height:"20px"}]}}]},{type:"spaceline",span:24,options:{height:"16px"}}]}],hottopicOptions:[{type:"repeat",repeat:5,list:[{span:5,alignSelf:"center",type:"banner",options:{width:"48px",height:"48px"}},{span:16,type:"more",children:[{type:"list",options:{list:[{width:"100%",height:"22px"},{width:"80%",height:"20px"}]}}]},{type:"spaceline",span:24,options:{height:"24px"}}]}],getstartOptions:[{type:"repeat",repeat:5,list:[{span:3,type:"tag",options:{list:[{width:"24px",height:"24px",margin:"0px"}]}},{span:21,type:"more",children:[{type:"list",options:{list:[{width:"100%",height:"24px"}]}}]},{type:"spaceline",span:24,options:{height:"24px"}}]}],hotuserOptions:[{type:"repeat",repeat:5,list:[{span:3,alignSelf:"center",type:"circle"},{span:21,type:"more",children:[{type:"list",options:{list:[{width:"40%",height:"16px",marginLeft:"8px"},{width:"90%",height:"14px",marginLeft:"8px"}]}}]},{type:"spaceline",span:24,options:{height:"24px"}}]}],eventcalendarOptions:[{type:"repeat",repeat:4,list:[{span:1,alignSelf:"center",type:"banner",options:{width:"8px",height:"68px"}},{span:22,type:"more",children:[{type:"list",options:{list:[{width:"60%",height:"10px"},{width:"90%",height:"14px"},{width:"40%",height:"14px"}]}}]},{span:1,alignSelf:"center",type:"banner",options:{width:"8px",height:"16px"}},{type:"spaceline",span:22,options:{height:"16px"}}]}],browsingOptions:[{type:"tag",options:{justify:"space-between",list:[{width:"44px",height:"44px",borderRadius:"50%"},{width:"44px",height:"44px",borderRadius:"50%"},{width:"44px",height:"44px",borderRadius:"50%"},{width:"44px",height:"44px",borderRadius:"50%"},{width:"44px",height:"44px",borderRadius:"50%",marginRight:"0px"},{width:"44px",height:"44px",borderRadius:"50%"},{width:"44px",height:"44px",borderRadius:"50%"},{width:"44px",height:"44px",borderRadius:"50%"},{width:"44px",height:"44px",borderRadius:"50%"},{width:"44px",height:"44px",borderRadius:"50%",marginRight:"0px"}]}}],hotcommentOptions:[{type:"repeat",repeat:5,list:[{span:24,type:"more",children:[{type:"list",options:{list:[{width:"100%",height:"12px"},{width:"60%",height:"12px"}]}}]},{type:"spaceline",span:24,options:{height:"8px"}},{span:1,alignSelf:"center",type:"circle",options:{width:"24px",height:"24px"}},{type:"spaceline",span:1,options:{height:"24px"}},{span:20,type:"more",children:[{type:"list",options:{list:[{width:"100%",height:"14px",marginTop:"5px",marginBottom:"5px"}]}}]},{type:"spaceline",span:24,options:{height:"16px"}}]}],hotpostOptions:[{type:"repeat",repeat:5,list:[{span:3,type:"tag",options:{list:[{width:"24px",height:"24px",margin:"0px"}]}},{span:21,type:"more",children:[{type:"list",options:{list:[{width:"100%",height:"14px"}]}}]},{type:"spaceline",span:3,options:{height:"24px"}},{span:21,type:"more",children:[{type:"list",options:Object(i.a)({list:[{width:"100%",height:"12px"}]},"list",[{width:"60%",height:"12px"}])}]},{type:"spaceline",span:24,options:{height:"8px"}}]}],hotcourseOptions:[{type:"spaceline",span:24,options:{height:"4px"}},{span:24,type:"more",children:[{type:"list",options:{list:[{width:"100%",height:"16px"},{width:"100%",height:"12px"},{width:"40%",height:"12px"}]}}]},{type:"repeat",repeat:9,list:[{type:"spaceline",span:24,options:{height:"16px"}},{span:24,type:"more",children:[{type:"list",options:{list:[{width:"100%",height:"16px"}]}}]}]}],hotdocOptions:[{type:"repeat",repeat:10,list:[{span:3,type:"tag",options:{list:[{width:"24px",height:"24px",margin:"0px"}]}},{span:21,type:"more",children:[{type:"list",options:{list:[{width:"100%",height:"14px"}]}}]},{type:"spaceline",span:3,options:{height:"24px"}},{span:10,type:"more",children:[{type:"list",options:{list:[{width:"100%",height:"14px"}]}}]},{type:"spaceline",span:3,options:{height:"14px"}},{span:6,type:"more",children:[{type:"list",options:{list:[{width:"100%",height:"14px"}]}}]},{type:"spaceline",span:24,options:{height:"8px"}}]}]}},computed:{childOptions:function(){return this["".concat(this.skin,"Options")]}}},s=a(0),o=Object(s.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bbt-skeleton"},[this.needLazy?e("div",[e("no-ssr",[e("fy-vue-skeleton",{staticStyle:{background:"transparent",padding:"0","margin-top":"24px"},attrs:{animation:"race",backgroundColor:"#eeeeee",rowOptions:this.rowOptions,childOptions:this.childOptions}})],1)],1):this._t("default")],2)}),[],!1,null,null,null);e.a=o.exports},function(t,e,a){"use strict";a(33),a(12);var i=a(22),r=a.n(i),n=a(15),s=a(14),o=a(8),c={props:{isVisible:{type:Boolean},isLoading:{type:Boolean},index:{type:Number},subIndex:{type:Number},data:{type:Array}},data:function(){return{isUpLoading:!1}},computed:{editContent:function(){var t=this.data[this.index];return this.subIndex>=0?t.child[this.subIndex].content.replace(/\n\n\n\n/g,"<br/>").replace(/\r\n\r\n/g,"<br/>"):"quote"==t.quote_type?t.content_meaasge.replace(/\n\n\n\n/g,"<br/>").replace(/\r\n\r\n/g,"<br/>"):t.content.replace(/\n\n\n\n/g,"<br/>").replace(/\r\n\r\n/g,"<br/>")},pid:function(){var t=this.data[this.index];return this.subIndex>=0?t.child[this.subIndex].pid:t.pid},isShow:function(){return this.isVisible}},watch:{isShow:function(t){t?this.initEditor():this.editor=null}},methods:{closeDialog:function(){this.$emit("close")},save:function(){!this.editor.txt.html()||this.editor.txt.html().replace(/<[^>]+>/g,"").replace(/\s*/g,"").replace(/&nbsp;/g,"").length<5||this.$emit("save",r()(Object(o.c)(this.editor.txt.html()),Object(s.h)(!1)),this.pid)},initEditor:function(){var t=this;this.$nextTick((function(){var e=a(773);t.editor=new e(t.$refs.editor),t.editor.customConfig.openDraft=!1,t.editor.customConfig.pasteTextHandle=function(t){return r()(Object(o.c)(t),Object(s.h)(!0))},t.editor.customConfig.menus=["emoticon","image","clear"];for(var i=[],c=0;c<=71;c++)i.push({alt:"emoji".concat(c),src:"".concat(n.e.cdn,"/public/emoji/emoji").concat(c,".png")});t.editor.customConfig.emotions=[{title:"emoji",type:"image",content:i}],t.editor.customConfig.textMinLength=5,t.editor.customConfig.textMaxLength=2e4,t.editor.customConfig.uploadImgShowBase64=!1,t.editor.customConfig.uploadImgMaxSize=2097152,t.editor.customConfig.uploadImgMaxLength=5,t.editor.customConfig.withCredentials=!0,t.editor.customConfig.showLinkImg=!1,t.editor.customConfig.uploadImgTimeout=1e4,t.editor.customConfig.customUploadImg=function(e,a){if(!t.isUpLoading){a("/images/default/news.jpg");for(var i=0;i<e.length;i++)t.isUpLoading=!0,Object(s.l)(e[i],t.uploadType,!1,t.$store.$api).then((function(e){t.isUpLoading=!1,e.url&&(a(e.url),t.editor.txt.html(Object(o.i)(t.editor.txt.html())))})).catch((function(e){t.editor.txt.html(Object(o.i)(t.editor.txt.html())),t.isUpLoading=!1,t.$message({type:"danger",message:e.msg||e.message||"上传失败，请重试"})}))}},t.editor.customConfig.customAlert=function(e){t.$message({type:"danger",message:e})},t.editor.customConfig.zIndex=20,t.editor.create(),t.editContent&&(t.editor.txt.html(t.editContent),t.editorContent=t.editContent)}))}}},l=(a(1447),a(0)),u=Object(l.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isShow?a("div",[a("el-dialog",{attrs:{title:"编辑评论",visible:t.isShow,"show-close":!0,"close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":!0,"before-close":t.closeDialog,width:"500px"},on:{"update:visible":function(e){t.isShow=e}}},[a("div",{staticClass:"editor"},[a("div",{ref:"editor",staticClass:"editor__content",staticStyle:{"text-align":"left"}})]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("bbt-btn",{staticStyle:{"margin-right":"16px"},attrs:{type:"default",size:"sm"},on:{click:t.closeDialog}},[t._v("取 消")]),t._v(" "),t.isLoading?a("bbt-btn",{attrs:{type:"primary",size:"sm",disabled:""}},[t._v("操作中...")]):a("bbt-btn",{attrs:{type:"primary",size:"sm"},on:{click:t.save}},[t._v("保 存")])],1)])],1):t._e()}),[],!1,null,null,null);e.a=u.exports},function(t,e,a){"use strict";var i=a(72),r=a(107),n=a(84),s=a(531),o={components:{XCrumbs:i.a,XHeaderModule:r.a,XComment:n.a,XOtherComment:s.a},props:{singlePostData:{type:Object}},data:function(){return{crumbData:[{name:this.singlePostData.title}]}}},c=(a(1457),a(0)),l=Object(c.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("x-crumbs",{attrs:{data:t.crumbData}}),t._v(" "),a("x-header-module",{attrs:{data:t.singlePostData}}),t._v(" "),a("div",{staticClass:"bbt-html isHidden"},[a("bbt-icon",{staticStyle:{"font-size":"16px",color:"rgba(0, 0, 0, 0.56)","margin-right":"4px"},attrs:{type:"lock"}}),a("span",{domProps:{innerHTML:t._s(t.singlePostData.content)}})],1),t._v(" "),t._m(0),t._v(" "),"ama-id"!==t.$route.name&&"ama-id-:page"!==t.$route.name?a("x-comment",{attrs:{data:t.singlePostData,canEdit:!1}}):a("x-other-comment",{attrs:{data:t.singlePostData}})],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bbt-module copyright-module",staticStyle:{padding:"8px"}},[e("p",[this._v("免责声明：本文不代表链节点立场，且不构成投资建议，请谨慎对待。")]),this._v(" "),e("p",[this._v("版权声明：作者保留权利，不代表链节点立场。")])])}],!1,null,"e6784cbc",null);e.a=l.exports},,function(t,e,a){"use strict";a(12),a(25);var i=a(178),r=a(14);a(243),a(608);var n={props:{type:String,data:Object,prevData:Object,isSingle:Boolean},components:{chart:i.a},data:function(){return{timer:null,width:0,offsetLeft:0,pollCount:1}},computed:{marketOption:function(){return{xAxis:{type:"category",boundaryGap:!1,show:!1,data:this.data.data.time},tooltip:{show:!0,position:function(t,e,a,i,r){return{top:0,right:0}},formatter:"¥{c}",trigger:"axis"},yAxis:{type:"value",show:!1,min:function(t){return t.min-Number.parseInt((t.max-t.min)/5)}},color:["#FFF2DC"],grid:{borderWidth:0,left:0,top:0,bottom:0,right:0},series:[{type:"line",smooth:!1,showSymbol:!1,lineStyle:{normal:{width:1,color:"#F5A623"}},itemStyle:{color:"#F5A623"},areaStyle:{},data:this.data.data.value}]}},pollTimer:function(){return Object(r.j)(this.pollCount)}},methods:{switchTab:function(t,e){var a=this;this.$store.dispatch("market/FETCH_SINGLE",{type:t,reset:!0}).then((function(e){a.$emit("switch",t),a.offsetLeft=Object(r.i)(a.$refs[t]).x}))},poll:function(){var t=this;this.timer=setTimeout((function(){t.$store.dispatch("market/FETCH_SINGLE",{type:t.type}).then((function(){t.pollCount=t.pollCount+1,clearTimeout(t.timer),t.poll()}),(function(){t.poll(),t.pollCount=t.pollCount+1,clearTimeout(t.timer),t.poll()}))}),this.pollTimer)}},mounted:function(){this.poll()},destroyed:function(){clearTimeout(this.timer)}},s=(a(1304),a(0)),o=Object(s.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data&&t.data.tickers&&t.data.tickers.length?a("div",{staticClass:"bbt-module market-module"},[t.isSingle?a("div",{staticClass:"bbt-module__header"},[t._v("\n    "+t._s(t.type.toUpperCase())+" 实时行情\n    "),a("span",{staticClass:"bbt-module__more"},[a("a",{staticClass:"link-dark-minor",attrs:{rel:"noopener",href:"https://www.qkl123.com/chart/huobipro_"+t.type.toLowerCase()+"_usd",target:"_blank"}},[t._v("\n        更多"),a("bbt-icon",{attrs:{type:"right"}})],1)])]):a("div",{staticClass:"bbt-module__header"},[t._v("\n    行情\n  ")]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[t.isSingle?t._e():a("div",{staticClass:"market-module__tab"},[a("ul",[a("li",{ref:"btc",class:{active:"btc"===t.type},on:{click:function(e){return t.switchTab("btc",0)}}},[t._v("\n          BTC\n        ")]),t._v(" "),a("li",{ref:"eth",class:{active:"eth"===t.type},on:{click:function(e){return t.switchTab("eth",1)}}},[t._v("\n          ETH\n        ")]),t._v(" "),a("li",{ref:"btm",class:{active:"btm"===t.type},on:{click:function(e){return t.switchTab("btm",2)}}},[t._v("\n          BTM\n        ")]),t._v(" "),a("li",{ref:"bch",class:{active:"bch"===t.type},on:{click:function(e){return t.switchTab("bch",3)}}},[t._v("\n          BCH\n        ")]),t._v(" "),a("li",{ref:"eos",class:{active:"eos"===t.type},on:{click:function(e){return t.switchTab("eos",4)}}},[t._v("\n          EOS\n        ")])]),t._v(" "),a("div",{staticClass:"li-active__line",style:{left:t.offsetLeft+"px"}})]),t._v(" "),a("chart",{staticStyle:{height:"90px",width:"100%",overflow:"hidden"},attrs:{options:t.marketOption}}),t._v(" "),a("ul",{staticClass:"market-module__list"},t._l(t.data.tickers,(function(e,i){return a("li",{key:i},[a("a",{staticClass:"market-module__item",attrs:{href:"https://www.qkl123.com/chart/"+e.exchange+"_"+e.pair,target:"_blank",rel:"noopener"}},[a("div",{staticClass:"item__name"},[t._v("\n            "+t._s(e.symbol_show.toUpperCase())+"/"+t._s(e.currency_show.toUpperCase())),a("br"),t._v(" "),a("span",[t._v(t._s(t._f("name_to_exchange")(e.exchange)))])]),t._v(" "),a("div",{staticClass:"item__price"},[a("span",{staticClass:"item__price--rmb"},[t._v("¥"+t._s(t._f("number_fixed")(e.ticker.last_rmb)))]),a("br"),t._v(" "),a("span",{staticClass:"item__price--usd"},[t._v("\n              "+t._s("btc"===e.currency_show?"฿":"usdt"===e.currency_show?"₮":"$")+t._s(t._f("pair_price_fixed")(e.ticker.last))+"\n            ")])]),t._v(" "),a("div",{staticClass:"item__scale",class:{"item__scale--down":e.ticker.change<0,"item__scale--up":e.ticker.change>0,"item__scale--horiz":0==e.ticker.change}},[a("span",[t._v(t._s(e.ticker.scale))])]),t._v(" "),a("div",{staticClass:"item__transition",class:{item__transition__up:t.prevData.tickers&&t.prevData.tickers[i]&&e.ticker.last>t.prevData.tickers[i].ticker.last,item__transition__down:t.prevData.tickers&&t.prevData.tickers[i]&&e.ticker.last<t.prevData.tickers[i].ticker.last}})])])})),0)],1)]):t._e()}),[],!1,null,"25a32921",null);e.a=o.exports},,function(t,e,a){"use strict";var i=a(8),r={props:{data:{type:Array}},methods:{routeType:function(t,e){return Object(i.n)(t,e)}}},n=(a(1486),a(0)),s=Object(n.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-list"},t._l(t.data,(function(e){return a("div",{key:e.tid,staticClass:"post-item-wrap"},[a("div",{staticClass:"post-item"},[e.tid?a("nuxt-link",{staticClass:"link-dark-major bbt-block",attrs:{to:{name:t.routeType(e.type,61),params:{id:e.tid}},target:"_blank"}},[a("div",{staticClass:"post-item__avatar"},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:e.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n              src: item.avatar,\n              error: '/images/default/avatar.gif',\n              loading: '/images/default/avatar.gif',\n            }",arg:"background-image"}]})]),t._v(" "),a("div",{staticClass:"post-item__body"},[a("div",{staticClass:"post-item__info"},[a("h3",{staticClass:"post-item__title"},[t._v("\n              "+t._s(e.title)+"\n            ")])]),t._v(" "),a("div",{staticClass:"post-item__author"},[a("div",{staticClass:"post-item__author-left"},[a("div",{staticClass:"author-name",staticStyle:{color:"rgba(0,0,0,0.88)"}},[t._v("\n                "+t._s(e.author)+"\n              ")])]),t._v(" "),a("div",{staticClass:"post-item__tag-right"},[a("span",[t._v("赞助")])])])])]):a("a",{staticClass:"link-dark-major bbt-block",attrs:{target:"_blank",href:e.url,rel:"nofollow noopener"}},[a("div",{staticClass:"post-item__avatar"},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:e.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n              src: item.avatar,\n              error: '/images/default/avatar.gif',\n              loading: '/images/default/avatar.gif',\n            }",arg:"background-image"}]})]),t._v(" "),a("div",{staticClass:"post-item__body"},[a("div",{staticClass:"post-item__info"},[a("h3",{staticClass:"post-item__title"},[t._v("\n              "+t._s(e.title)+"\n            ")])]),t._v(" "),a("div",{staticClass:"post-item__author"},[a("div",{staticClass:"post-item__author-left"},[a("div",{staticClass:"author-name",staticStyle:{color:"rgba(0,0,0,0.88)"}},[t._v("\n                "+t._s(e.author)+"\n              ")])]),t._v(" "),a("div",{staticClass:"post-item__tag-right"},[a("span",[t._v("赞助")])])])])])],1)])})),0)}),[],!1,null,"4fb58005",null);e.a=s.exports},function(t,e,a){"use strict";a(7),a(5),a(4),a(6),a(25),a(31),a(39),a(3);var i,r,n,s=a(18),o=a(1),c=(a(23),a(12),a(2)),l=a(22),u=a.n(l),d=a(17);function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var m={inject:["injectData"],props:{name:{type:String},fid:{type:String|Number,default:61}},watch:{name:function(t){this.ruleForm.block=t}},data:function(){var t=this;return{currentId:0,isSubmitLoading:!1,selOptions:[{label:"单选",value:"radio"},{label:"多选",value:"checkbox"}],ruleForm:{title:null,block:this.name||"区块链社区",content:null},ruleForm2:{date:null,voting:"radio",voteResult:[],options:[{message:""},{message:""}]},ruleForm3:{date:null,referee:null,square:null,conside:null},rules:{title:[{required:!0,message:"请输入帖子标题",trigger:["blur","change"]},{min:1,max:35,message:"帖子标题长度在 1 到 35 个字符",trigger:["blur","change"]}],content:[{required:!0,message:"请输入帖子正文",trigger:["blur","change"]}]},rules2:{date:[{required:!0,message:"请选择结束时间",trigger:"change"}],voting:[{required:!0,message:"请选择投票形式",trigger:"change"}]},rules3:{date:[{required:!0,message:"请选择结束时间",trigger:"change"}],referee:[{required:!0,message:"请输入辩论裁判",trigger:"blur"},{validator:function(e,a,i){if(!a)return i(new Error("请输入辩论裁判"));t.$store.dispatch("release/VALID_REFEREE",{params:{user_name:a}}).then((function(t){t.status?i():i(new Error("裁判不存在"))}))},trigger:"blur"}],square:[{required:!0,message:"请输入正方观点",trigger:["blur","change"]},{min:1,max:45,message:"观点长度在 1 到 45 个字符",trigger:["blur","change"]}],conside:[{required:!0,message:"请输入反方观点",trigger:["blur","change"]},{min:1,max:45,message:"观点长度在 1 到 45 个字符",trigger:["blur","change"]}]},endTime:{disabledDate:function(t){return t.getTime()<(new Date).getTime()-864e5}},endTime2:{disabledDate:function(t){return t.getTime()<(new Date).getTime()-864e5}}}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){Object(o.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(c.c)({userinfo:function(t){return t.userinfo}}),{uid:function(){return this.userinfo.uid},tid:function(){return this.$route.params.id}}),methods:(i=Object(d.a)(),r=Object(d.a)(),n={seniorRelease:function(){this.$router.push({name:"328"==this.fid?"new-flaw":"new-post",query:"328"==this.fid?{action:"newthread"}:{fid:"".concat(this.fid)||"61",action:"newthread"}})},switchTab:function(t){this.currentId=t,this.$refs.ruleForm.resetFields(),this.$refs.ruleForm2.resetFields()},onSubmit:function(){var t=this;0==this.currentId?this.$refs.ruleForm.validate((function(e){e&&t.submit({message:u()(t.ruleForm.content),subject:u()(t.ruleForm.title),special:"0",fid:t.fid,uid:t.uid})})):1==this.currentId?new Promise((function(e,a){t.$refs.ruleForm.validate((function(t){t?e(t):a(t)}))})).then((function(e){t.$refs.ruleForm2.validate((function(e){e&&t.submit({message:u()(t.ruleForm.content),subject:u()(t.ruleForm.title),special:"1",fid:t.fid,uid:t.uid,polloption:t.ruleForm2.options,maxchoices:"radio"==t.ruleForm2.voting?1:t.ruleForm2.options.length,visibilitypoll:t.ruleForm2.voteResult.includes("1")?"1":"0",overt:t.ruleForm2.voteResult.includes("2")?"1":"0",endtime:t.ruleForm2.date})}))})):5==this.currentId&&new Promise((function(e,a){t.$refs.ruleForm.validate((function(t){t?e(t):a(t)}))})).then((function(e){t.$refs.ruleForm3.validate((function(e){e&&t.submit({message:u()(t.ruleForm.content),subject:u()(t.ruleForm.title),special:"5",fid:t.fid,uid:t.uid,affirmpoint:u()(t.ruleForm3.square),negapoint:u()(t.ruleForm3.conside),umpire:t.ruleForm3.referee,endtime:t.ruleForm3.date})}))}))},submit:function(t){var e=this;this.isSubmitLoading||(this.isSubmitLoading=!0,this.$store.dispatch("release/POST_NEW_THREAD",{params:t}).then((function(t){201==t.code?(e.$router.push({name:"post-id",params:{id:t.data.tid}}),e.$message({message:"帖子审核中，请等待管理员处理",type:"warning"})):(Number.parseInt(t.data.credits)>0?e.$message({message:"发表主题 金币+".concat(t.data.credits),type:"success"}):Number.parseInt(t.data.credits)<0&&e.$message({message:"发表主题 金币".concat(t.data.credits),type:"warning"}),window.location.reload())})).catch((function(t){e.isSubmitLoading=!1,"176"==e.tid?e.$message({type:"danger",message:"发布空投活动请先联系管理员。 管理员1微信496369629 管理员2微信1559187345"}):e.$message({type:"danger",message:t.message})})))},removeOption:function(t){if(this.ruleForm2.options.length>2){var e=this.ruleForm2.options.indexOf(t);-1!==e&&this.ruleForm2.options.splice(e,1)}else this.$message({type:"danger",message:"投票帖至少保留2个选项"})},addOption:function(){this.ruleForm2.options.push({message:"",imgUrl:"",image:""})}},Object(s.a)(n,"seniorRelease",[i],Object.getOwnPropertyDescriptor(n,"seniorRelease"),n),Object(s.a)(n,"onSubmit",[r],Object.getOwnPropertyDescriptor(n,"onSubmit"),n),n)},f=(a(1484),a(1485),a(0)),h=Object(f.a)(m,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"quickpost-module"},[a("div",{staticClass:"quickpost-module__tab bbt-clearfix"},[a("div",{staticClass:"tab-item",class:{active:0===t.currentId},on:{click:function(e){return t.switchTab(0)}}},[a("bbt-icon",{attrs:{type:"comment"}}),t._v("\n      发表新帖\n    ")],1),t._v(" "),"313"!=t.fid&&"314"!=t.fid&&"328"!=t.fid?a("div",{staticClass:"tab-item",class:{active:1===t.currentId},on:{click:function(e){return t.switchTab(1)}}},[a("bbt-icon",{attrs:{type:"vote"}}),t._v("\n      发起投票\n    ")],1):t._e(),t._v(" "),"313"!=t.fid&&"314"!=t.fid&&"328"!=t.fid?a("div",{staticClass:"tab-item",class:{active:5===t.currentId},on:{click:function(e){return t.switchTab(5)}}},[a("bbt-icon",{attrs:{type:"debate"}}),t._v("\n      发起辩论\n    ")],1):t._e(),t._v(" "),a("div",{staticClass:"tab-rule"},[a("a",{staticClass:"link-dark-minor",attrs:{href:"javascript:;"},on:{click:t.seniorRelease}},[t._v("高级模式")]),t._v(" "),a("nuxt-link",{staticClass:"link-dark-minor",attrs:{to:{name:"post-id",params:{id:"15508"}},target:"_blank"}},[t._v("发帖须知")])],1)]),t._v(" "),a("div",{staticClass:"quickpost-module__content release-wrap"},[a("el-form",{ref:"ruleForm",staticClass:"bbt-clearfix",attrs:{model:t.ruleForm,rules:t.rules}},[a("bbt-row",[a("bbt-col",{attrs:{span:{xs:6}}},[a("el-form-item",{attrs:{prop:"block"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.ruleForm.block,callback:function(e){t.$set(t.ruleForm,"block",e)},expression:"ruleForm.block"}})],1)],1),t._v(" "),a("bbt-col",{attrs:{span:{xs:18}}},[a("el-form-item",{attrs:{prop:"title"}},[a("el-input",{attrs:{placeholder:"请在此填写标题"},model:{value:t.ruleForm.title,callback:function(e){t.$set(t.ruleForm,"title",e)},expression:"ruleForm.title"}})],1)],1)],1),t._v(" "),a("el-form-item",{staticStyle:{"margin-bottom":"16px"},attrs:{prop:"content"}},[a("el-input",{ref:"content",attrs:{type:"textarea",rows:"3",placeholder:"请发表你的真知灼见..."},model:{value:t.ruleForm.content,callback:function(e){t.$set(t.ruleForm,"content",e)},expression:"ruleForm.content"}})],1)],1),t._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:1==t.currentId,expression:"currentId == 1"}],ref:"ruleForm2",staticClass:"bbt-clearfix",attrs:{model:t.ruleForm2,rules:t.rules2,"label-width":"104px"}},[a("bbt-row",[a("bbt-col",{attrs:{span:{xs:10}}},[a("el-form-item",{attrs:{label:"投票时间",for:"date",prop:"date"}},[a("el-date-picker",{attrs:{placeholder:"请选择结束时间","picker-options":t.endTime,type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.ruleForm2.date,callback:function(e){t.$set(t.ruleForm2,"date",e)},expression:"ruleForm2.date"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"投票形式",prop:"votingType"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择投票形式"},model:{value:t.ruleForm2.voting,callback:function(e){t.$set(t.ruleForm2,"voting",e)},expression:"ruleForm2.voting"}},t._l(t.selOptions,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"投票结果",for:"voteResult"}},[a("el-checkbox-group",{model:{value:t.ruleForm2.voteResult,callback:function(e){t.$set(t.ruleForm2,"voteResult",e)},expression:"ruleForm2.voteResult"}},[a("el-checkbox",{attrs:{label:"1",name:"result"}},[t._v("投票后结果可见")]),t._v(" "),a("el-checkbox",{attrs:{label:"2",name:"result"}},[t._v("公开投票参与人")])],1)],1)],1),t._v(" "),a("bbt-col",{attrs:{span:{xs:14}}},[t._l(t.ruleForm2.options,(function(e,i){return a("el-form-item",{key:i,staticClass:"no-label",attrs:{for:"index"}},[a("bbt-col",{attrs:{span:{xs:22}}},[a("el-form-item",{attrs:{prop:"options."+i+".message",rules:{required:!0,message:"投票选项不能为空",trigger:"blur"}}},[a("el-input",{attrs:{placeholder:"请输入选项"+(i+1)},model:{value:e.message,callback:function(a){t.$set(e,"message",a)},expression:"item.message"}})],1)],1),t._v(" "),a("bbt-col",{staticStyle:{"text-align":"center"},attrs:{span:{xs:2}}},[a("span",{on:{click:function(a){return t.removeOption(e)}}},[a("bbt-icon",{staticClass:"link-dark-minor",staticStyle:{"font-size":"20px",cursor:"pointer"},attrs:{type:"delete"}})],1)])],1)})),t._v(" "),a("el-form-item",{staticStyle:{"text-align":"right"}},[a("bbt-btn",{attrs:{type:"primary",size:"sm",href:"javascript:;",ghost:""},on:{click:t.addOption}},[t._v("\n              增加选项\n            ")])],1)],2)],1)],1),t._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:5==t.currentId,expression:"currentId == 5"}],ref:"ruleForm3",staticClass:"bbt-clearfix",attrs:{model:t.ruleForm3,rules:t.rules3,"label-width":"104px"}},[a("bbt-row",[a("bbt-col",{attrs:{span:{xs:10}}},[a("el-form-item",{attrs:{label:"辩论时间",for:"date",prop:"date"}},[a("el-date-picker",{attrs:{placeholder:"请选择结束时间","picker-options":t.endTime2,type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.ruleForm3.date,callback:function(e){t.$set(t.ruleForm3,"date",e)},expression:"ruleForm3.date"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"辩论裁判",prop:"referee"}},[a("el-input",{attrs:{placeholder:"请输入辩论裁判"},model:{value:t.ruleForm3.referee,callback:function(e){t.$set(t.ruleForm3,"referee",e)},expression:"ruleForm3.referee"}})],1)],1),t._v(" "),a("bbt-col",{attrs:{span:{xs:14}}},[a("el-form-item",{staticClass:"no-label",attrs:{prop:"square"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入正方观点"},model:{value:t.ruleForm3.square,callback:function(e){t.$set(t.ruleForm3,"square",e)},expression:"ruleForm3.square"}})],1),t._v(" "),a("el-form-item",{staticClass:"no-label",attrs:{prop:"conside"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入反方观点"},model:{value:t.ruleForm3.conside,callback:function(e){t.$set(t.ruleForm3,"conside",e)},expression:"ruleForm3.conside"}})],1)],1)],1)],1),t._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("bbt-btn",{attrs:{type:"primary",disabled:t.isSubmitLoading},on:{click:t.onSubmit}},[t.isSubmitLoading?a("span",[a("bbt-icon",{attrs:{type:"report"}}),t._v("发表中")],1):a("span",[a("bbt-icon",{attrs:{type:"report"}}),t._v("发表帖子")],1)])],1)],1)])}),[],!1,null,"427f5d90",null);e.a=h.exports},,,,,,,,,,,,function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6);var i=a(18),r=(a(12),a(1)),n=(a(4),a(3),a(19),a(29),a(16)),s=a(2),o={props:["banners"],data:function(){return{swiperOption:{autoplay:{delay:5e3,stopOnLastSlide:!1,disableOnInteraction:!0},effect:"fade",lazy:!0,loop:this.banners.length>1,slidesPerView:"auto",centeredSlides:!0,spaceBetween:0,pagination:{el:".swiper-pagination",type:"bullets"},navigation:{nextEl:"#banner-swiper-button-next",prevEl:"#banner-swiper-button-prev"}}}},methods:{trackEvent:function(t,e,a){window._czc&&window._czc.push(["_trackEvent",t,"点击",e,"",a])}}},c=(a(1564),a(1565),a(0)),l=Object(c.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"swiper",rawName:"v-swiper:mySwiper",value:t.swiperOption,expression:"swiperOption",arg:"mySwiper"}],staticClass:"feature-banner",attrs:{id:"feature-banner"},on:{click:function(e){return t.trackEvent("CN_ad_A2","网站首页左侧banner广告位","feature-banner")}}},[a("div",{staticClass:"swiper-wrapper"},t._l(t.banners,(function(e,i){return a("div",{key:i,staticClass:"swiper-slide"},[a("a",{attrs:{target:"_blank",href:e.outer_url,rel:"nofollow noopener"}},[a("div",{staticClass:"feature-banner__thumb swiper-lazy",attrs:{"data-background":e.img_url}},[a("div",{staticClass:"swiper-lazy-preloader"})]),t._v(" "),e.title?a("div",{staticClass:"feature-banner__title"},[a("div",[t._v("\n            "+t._s(e.title)+"\n          ")])]):t._e()])])})),0),t._v(" "),t.banners.length>1?a("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"}):t._e(),t._v(" "),t.banners.length>1?a("div",{staticClass:"swiper-button-prev swiper-button-white",attrs:{id:"banner-swiper-button-prev"}}):t._e(),t._v(" "),t.banners.length>1?a("div",{staticClass:"swiper-button-next swiper-button-white",attrs:{id:"banner-swiper-button-next"}}):t._e()])}),[],!1,null,null,null).exports,u={props:{data:{type:Array}},components:{XBannerModule:l},computed:{normalData:function(){return this.data.filter((function(t){return"7"!==t.advertise_type&&"8"!==t.advertise_type}))},rightData:function(){return this.data.filter((function(t){return"7"===t.advertise_type||"8"===t.advertise_type}))}},methods:{trackEvent:function(t,e,a){window._czc&&window._czc.push(["_trackEvent",t,"点击",e,"",a])}}},d=(a(1566),Object(c.a)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"feature-hero bbt-clearfix"},[a("div",{staticClass:"feature-hero__left"},[a("x-banner-module",{attrs:{banners:t.normalData}})],1),t._v(" "),a("div",{staticClass:"feature-hero__right"},t._l(t.rightData,(function(e,i){return a("div",{key:i,staticClass:"feature-quick",attrs:{id:"feature-quick"+i},on:{click:function(e){return t.trackEvent("CN_ad_A"+(i+3),"网站首页中banner广告位","feature-quick"+i)}}},[a("a",{attrs:{target:"_blank",href:e.outer_url,rel:"nofollow noopener"}},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:e.img_url,error:"/images/default/news.jpg",loading:"/images/default/news.jpg"},expression:"{\n            src: item.img_url,\n            error: '/images/default/news.jpg',\n            loading: '/images/default/news.jpg'\n          }",arg:"background-image"}],key:e.img_url,staticClass:"feature-quick__bg",staticStyle:{"background-image":"url(/images/default/news.jpg)"}}),t._v(" "),"1"==e.advertise_type?a("div",{staticClass:"feature-quick__play"},[a("img",{attrs:{src:"/images/common/video-play@2x.png",width:"52px",alt:""}})]):"1"!=e.advertise_type&&e.title?a("div",{staticClass:"feature-quick__title"},[a("div",[t._v("\n            "+t._s(e.title)+"\n          ")])]):t._e()])])})),0)])}),[],!1,null,"2968de5c",null).exports),p=(a(31),a(25),a(22)),m=a.n(p),f={data:function(){return{pageSize:15,timer:null,isHover:!1,isShow:!0}},props:{data:{type:Object},comment:{type:Array}},watch:{comment:{handler:function(t,e){t.length&&e.length&&(t[t.length-1].pid===e[e.length-1].pid||this.isHover||this.scrollToBottom())},deep:!0}},mounted:function(){var t=this;this.pollComment(),this.$nextTick((function(){t.comment.length&&(document.getElementById("comment-scroll").scrollTop=document.getElementById("comment-scroll").scrollHeight,document.getElementById("comment-scroll").addEventListener("mouseover",(function(){t.isHover=!0})),document.getElementById("comment-scroll").addEventListener("mouseout",(function(){t.isHover=!1})))}))},beforeDestroy:function(){var t=this;document.getElementById("comment-scroll").removeEventListener("mouseover",(function(){t.isHover=!1})),document.getElementById("comment-scroll").removeEventListener("mouseout",(function(){t.isHover=!1})),clearInterval(this.timer)},methods:{xss:function(t){return m()(t,{whiteList:[],stripIgnoreTag:!0})},handleHide:function(){var t=this;this.isShow=!1,document.getElementById("comment-scroll").removeEventListener("mouseover",(function(){t.isHover=!1})),document.getElementById("comment-scroll").removeEventListener("mouseout",(function(){t.isHover=!1})),clearInterval(this.timer)},isGuest:function(t){var e=[];return this.data.activity&&this.data.activity.guest_info&&this.data.activity.guest_info.length&&this.data.activity.guest_info.map((function(t){e.push(Number.parseInt(t.guest_id))})),e.includes(Number.parseInt(t))},scrollToBottom:function(){var t=null,e=document.getElementById("comment-scroll"),a=e.scrollTop;t=requestAnimationFrame((function i(){a+e.offsetHeight>=e.childNodes[0].offsetHeight?cancelAnimationFrame(t):(a=document.getElementById("comment-scroll").scrollTop,document.getElementById("comment-scroll").scrollTop=a+20,t=requestAnimationFrame(i))}))},pollComment:function(){var t=this;this.timer=setInterval((function(){t.$store.dispatch("comment/FETCH_INDEXCOMMENT_LIST",{params:{tid:t.data.id,page:1,ordertype:1,num:20,size:"small",from:"web"}})}),1e4)}}},h=(a(1567),Object(c.a)(f,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isShow?a("div",{staticClass:"ama-module"},[a("div",{staticClass:"ama-module__info"},[a("h3",{staticClass:"ama-module__title"},[a("nuxt-link",{staticClass:"link-dark-major font-bold bbt-block",attrs:{to:{name:"ama-id",params:{id:""+t.data.id},query:{sort:"hot"}},target:"_blank"}},[a("span",[a("img",{attrs:{src:"/images/common/amaing.gif"}})]),t._v(" "+t._s(t.data.title)+"\n      ")])],1),t._v(" "),a("span",{staticClass:"ama-module__close",on:{click:t.handleHide}},[a("bbt-icon",{staticStyle:{"font-size":"16px"},attrs:{type:"close"}})],1)]),t._v(" "),a("div",{staticClass:"ama-module__guest bbt-clearfix"},[t.data.activity&&t.data.activity.guest_info&&t.data.activity.guest_info.length?a("div",{staticClass:"ama-module__guest-left"},[t._v("\n      本期嘉宾：\n      "),t._l(t.data.activity.guest_info,(function(e,i){return a("span",{key:e.guest_id},[t._v(t._s(e.guest)+"-"+t._s(e.guest_title)),i<t.data.activity.guest_info.length-1?a("span",{staticClass:"bbt-dot",staticStyle:{margin:"0 4px"}}):t._e()])}))],2):t._e(),t._v(" "),a("div",{staticClass:"ama-module__guest-right"},[a("span",[a("bbt-icon",{attrs:{type:"eye"}}),t._v(" "+t._s(t.data.views)+" ")],1),t._v(" "),a("span",[a("bbt-icon",{attrs:{type:"comment"}}),t._v(" "+t._s(t.data.replies)+"\n      ")],1)])]),t._v(" "),t.comment&&t.comment.length?a("div",{staticClass:"ama-module__comment"},[a("div",{staticClass:"comment-wrap",attrs:{id:"comment-scroll"}},[a("ul",t._l(t.comment,(function(e,i){return a("li",{key:i},[a("span",{staticClass:"bbt-circle"}),t._v(" "),a("nuxt-link",{staticClass:"link-dark-minor user-avatar",attrs:{to:"/user/"+e.user_info.uid,target:"_blank"}},[t._v("\n            "+t._s(e.user_info.username)+"\n          ")]),t._v(" "),a("span",{staticClass:"bbt-dot"}),t._v(" "),t.isGuest(e.user_info.uid)?a("span",{staticClass:"user-title isguest"},[t._v("嘉宾回复")]):a("span",{staticClass:"user-title"},[t._v(t._s(e.user_info.grouptitle))]),t._v(" "),a("span",{staticClass:"text-overflow comment-content"},[a("nuxt-link",{staticClass:"link-dark-major",attrs:{target:"_blank",to:{name:"ama-id",params:{id:""+e.tid},query:{sort:"hot"}}}},[t._v(t._s(t.xss(e.message)))])],1),t._v(" "),a("span",{staticClass:"comment-time"},[t._v(t._s(t._f("timeAgo")(e.dateline)))])],1)})),0)])]):t._e()]):t._e()}),[],!1,null,"9b9fc9fe",null).exports),v=a(15),b=a(174),_={props:{data:{type:Array}},components:{XSharepop:b.a},mounted:function(){},methods:{qrcodeUrl:function(t){return"video"===t.type?"".concat(v.e.btc8host,"/video/").concat(t.id):"activity"===t.type?"".concat(v.e.host,"/event/").concat(t.id):"ama"===t.type?"".concat(v.e.host,"/ama/").concat(t.id):"question"===t.type?"".concat(v.e.host,"/question/").concat(t.id):"".concat(v.e.host,"/post/").concat(t.id)},weiboUrl:function(t){var e="post";return"video"===t.type?e="video":"activity"===t.type?e="event":"ama"===t.type?e="ama":"question"===t.type&&(e="question"),t.img_url?"".concat(v.e.weibo_share_url,"?url=").concat("video"===e?v.e.btc8host:v.e.host,"/").concat(e,"/").concat(t.id,"&title=").concat(t.title,"&pic=").concat(t.img_url):"".concat(v.e.weibo_share_url,"?url=").concat("video"===e?v.e.btc8host:v.e.host,"/").concat(e,"/").concat(t.id,"&title=").concat(t.title)},type_to_route:function(t){switch(t){case"activity":return"event-id";case"ama":return"ama-id";case"question":return"question-id";default:return"post-id"}},getRoute:function(t){return 121==t?"/ask-me-anything":118==t?"/events":42==t?"/ask":61==t?"/forum/1":"/forum/".concat(t)}}},g=(a(1568),Object(c.a)(_,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",t._l(t.data,(function(e,i){return a("div",{key:i,staticClass:"post-item-wrap"},["video"!==e.type&&"outer"!==e.type?a("div",{staticClass:"post-item"},[a("h3",{staticClass:"post-item__title"},[a("nuxt-link",{staticClass:" link-dark-major",attrs:{to:{name:t.type_to_route(e.type),params:{id:e.id}},target:"_blank"}},["question"===e.type&&e.price>0?a("span",[a("span",[t._v("悬赏"+t._s(e.price)+"金币")])]):t._e(),t._v(" "),"question"===e.type&&e.price<0?a("span",[a("span",[t._v("已解决")])]):t._e(),t._v(" "),"activity"===e.type?a("span",[t._v("活动")]):"ama"===e.type?a("span",[t._v("AMA")]):t._e(),t._v("\n          "+t._s(e.title)+"\n        ")])],1),t._v(" "),a("div",{staticClass:"post-item__info bbt-clearfix"},[e.img_url?a("div",{staticClass:"post-item__thumb"},[a("nuxt-link",{attrs:{to:{name:t.type_to_route(e.type),params:{id:e.id}},target:"_blank"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.img_url,error:"/images/default/news.jpg",loading:"/images/default/news.jpg"},expression:"{\n                src: item.img_url,\n                error: '/images/default/news.jpg',\n                loading: '/images/default/news.jpg',\n              }"}],key:e.id,attrs:{src:"/images/default/news.jpg",alt:e.title}})])],1):t._e(),t._v(" "),a("div",{staticClass:"post-item__content"},[a("div",{staticClass:"post-item__desc",class:{"line-clamp-3":e.img_url}},[a("nuxt-link",{attrs:{to:{name:t.type_to_route(e.type),params:{id:e.id}},target:"_blank"}},[t._v("\n              "+t._s(e.content)+"\n            ")])],1),t._v(" "),a("div",{staticClass:"post-item__author",class:{"line-absolute":e.img_url}},[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:"/user/"+e.author_id,target:"_blank"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.author_avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                  src: item.author_avatar,\n                  error: '/images/default/avatar.gif',\n                  loading: '/images/default/avatar.gif',\n                }"}],staticClass:"bbt-avatar",attrs:{width:"24"}}),t._v("\n              "+t._s(e.author_name)+"\n            ")]),t._v(" "),a("span",{staticClass:"bbt-dot"}),t._v(" "),a("nuxt-link",{staticClass:"post-item__source",attrs:{target:"_blank",to:{path:t.getRoute(e.category_id)}}},[t._v("\n              "+t._s(e.category_name)+"\n            ")]),t._v(" "),a("span",{staticClass:"post-item__nums"},[a("nuxt-link",{staticClass:"link-dark-minor",attrs:{to:{name:t.type_to_route(e.type),params:{id:e.id}},target:"_blank"}},[a("bbt-icon",{attrs:{type:"comment"}}),t._v(" "+t._s(e.replies)+"\n              ")],1),t._v(" "),a("nuxt-link",{staticClass:"link-dark-minor",attrs:{to:{name:t.type_to_route(e.type),params:{id:e.id}},target:"_blank"}},[a("bbt-icon",{attrs:{type:"thumb-up"}}),t._v(" "+t._s(e.likes)+"\n              ")],1),t._v(" "),a("x-sharepop",{staticStyle:{display:"inline-block"},attrs:{offset:"visibtop",qrcodeUrl:t.qrcodeUrl(e),weiboUrl:t.weiboUrl(e)}})],1)],1)])])]):"outer"===e.type?a("div",{staticClass:"post-item"},[a("h3",{staticClass:"post-item__title"},[a("a",{staticClass:"link-dark-major",attrs:{href:e.url,target:"_blank",rel:"noopener nofollow"}},[t._v("\n          "+t._s(e.title)+"\n        ")])]),t._v(" "),a("div",{staticClass:"post-item__info bbt-clearfix"},[e.cover_img?a("div",{staticClass:"post-item__thumb"},[a("a",{staticClass:"link-dark-major",attrs:{href:e.url,target:"_blank",rel:"noopener nofollow"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.cover_img,error:"/images/default/news.jpg",loading:"/images/default/news.jpg"},expression:"{\n                src: item.cover_img,\n                error: '/images/default/news.jpg',\n                loading: '/images/default/news.jpg',\n              }"}],attrs:{src:"/images/default/news.jpg",alt:e.title}})])]):t._e(),t._v(" "),a("div",{staticClass:"post-item__content"},[a("a",{attrs:{href:e.url,target:"_blank",rel:"noopener nofollow"}},[a("div",{staticClass:"post-item__desc",class:{"line-clamp-3":e.cover_img}},[t._v("\n              "+t._s(e.content)+"\n            ")]),t._v(" "),e.type_name?a("div",{staticClass:"post-item__tag",class:{"line-absolute":e.cover_img}},[a("span",[t._v(t._s(e.type_name))])]):t._e()])])])]):a("div",{staticClass:"post-item"},[a("h3",{staticClass:"post-item__title"},[a("a",{staticClass:"link-dark-major",attrs:{href:"https://www.8btc.com/video/"+e.id,target:"_blank"}},[t._v("\n          "+t._s(e.title)+"\n        ")])]),t._v(" "),a("div",{staticClass:"post-item__info bbt-clearfix"},[e.img_url?a("div",{staticClass:"post-item__thumb"},[a("a",{staticClass:"link-dark-major",attrs:{href:"https://www.8btc.com/video/"+e.id,target:"_blank"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.img_url,error:"/images/default/news.jpg",loading:"/images/default/news.jpg"},expression:"{\n                src: item.img_url,\n                error: '/images/default/news.jpg',\n                loading: '/images/default/news.jpg',\n              }"}],key:e.id,attrs:{src:"/images/default/news.jpg",alt:e.title}}),t._v(" "),a("div",{staticClass:"post-item__thumb-mask"})])]):t._e(),t._v(" "),a("div",{staticClass:"post-item__content"},[a("div",{staticClass:"post-item__desc",class:{"line-clamp-3":e.img_url}},[a("a",{attrs:{href:"https://www.8btc.com/video/"+e.id,target:"_blank"}},[t._v("\n              "+t._s(e.content)+"\n            ")])]),t._v(" "),a("div",{staticClass:"post-item__author",class:{"line-absolute":e.img_url}},[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:"/user/"+e.author_id,target:"_blank"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.author_avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                  src: item.author_avatar,\n                  error: '/images/default/avatar.gif',\n                  loading: '/images/default/avatar.gif',\n                }"}],staticClass:"bbt-avatar",attrs:{width:"24"}}),t._v("\n              "+t._s(e.author_name)+"\n            ")]),t._v(" "),a("span",{staticClass:"bbt-dot"}),t._v(" "),a("nuxt-link",{staticClass:"post-item__source",attrs:{target:"_blank",to:{name:"videos-id",params:{id:""+e.category_id}}}},[t._v("\n              "+t._s(e.category_name)+"\n            ")]),t._v(" "),a("span",{staticClass:"post-item__nums"},[a("a",{staticClass:"link-dark-minor",attrs:{href:"https://www.8btc.com/video/"+e.id,target:"_blank"}},[a("bbt-icon",{attrs:{type:"comment"}}),t._v(" "+t._s(e.replies)+"\n              ")],1),t._v(" "),a("a",{staticClass:"link-dark-minor",attrs:{href:"https://www.8btc.com/video/"+e.id,target:"_blank"}},[a("bbt-icon",{attrs:{type:"thumb-up"}}),t._v(" "+t._s(e.likes)+"\n              ")],1),t._v(" "),a("x-sharepop",{staticStyle:{display:"inline-block"},attrs:{offset:"visibtop",qrcodeUrl:t.qrcodeUrl(e),weiboUrl:t.weiboUrl(e)}})],1)],1)])])])])})),0)}),[],!1,null,"640d04a9",null).exports),y=a(77),w=a(47),k={mixins:[w.a],props:{data:Array,needLazy:Boolean},methods:{fetchModule:function(){var t=this;this.$store.dispatch("topic/FETCH_HOT_LIST",{params:{},type:"hot"}).then((function(){window.removeEventListener("scroll",t.debounceFn),t.debounceFn=null,t.isRender=!0,t.isLoading=!1})).catch((function(){t.isLoading=!1}))}}},x=(a(1569),Object(c.a)(k,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data&&t.data.length||t.needLazy&&!t.isRender?a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    热议话题\n    ")]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[a("x-skeleton",{attrs:{needLazy:t.needLazy&&!t.isRender,skin:"hottopic"}},t._l(t.data,(function(e,i){return a("div",{key:i,staticClass:"topic-item"},[a("div",{staticClass:"topic-item__thumb"},[a("nuxt-link",{attrs:{to:"/hot/"+e.topic_id,target:"_blank"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.icon,error:"/images/default/project.jpg",loading:"/images/default/project.jpg"},expression:"{\n                src: item.icon,\n                error: '/images/default/project.jpg',\n                loading: '/images/default/project.jpg',\n              }"}],attrs:{src:"/images/default/project.jpg",alt:e.title,target:"_blank"}})])],1),t._v(" "),a("div",{staticClass:"topic-item__body"},[a("nuxt-link",{attrs:{to:"/hot/"+e.topic_id,target:"_blank"}},[a("p",{staticClass:"link-dark-major"},[t._v("#"+t._s(e.title))]),t._v(" "),a("p",[t._v("\n              热度 "+t._s(t._f("num_to_thousand")(e.views))+"\n              "),a("span",{staticClass:"bbt-dot",staticStyle:{margin:"0 8px"}}),t._v("\n              讨论 "+t._s(t._f("num_to_thousand")(e.replies))+"\n            ")])])],1)])})),0)],1)]):t._e()}),[],!1,null,"fa7e2582",null).exports),C={props:{data:{type:Array}},data:function(){return{swiperOption:{autoplay:{delay:6e3,stopOnLastSlide:!1,disableOnInteraction:!0},effect:"slide",lazy:!0,loop:this.data.length>1,slidesPerView:"auto",centeredSlides:!0,spaceBetween:0},nowTime:Date.parse(new Date)/1e3}},methods:{activityStatus:function(t,e){return this.nowTime<t?"before":this.nowTime>=t&&this.nowTime<e?"in":"end"},trackEvent:function(t,e,a){window._czc&&window._czc.push(["_trackEvent",t,"点击",e,"",a])}}},O=(a(1570),a(1571),Object(c.a)(C,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"activity-item",attrs:{id:"top-activity"},on:{click:function(e){return t.trackEvent("CN_ad_A5","网站首页右侧活动广告位","top-activity")}}},[a("div",{directives:[{name:"swiper",rawName:"v-swiper:mySwiper",value:t.swiperOption,expression:"swiperOption",arg:"mySwiper"}]},[a("div",{staticClass:"swiper-wrapper"},t._l(t.data,(function(e,i){return a("div",{key:i,staticClass:"swiper-slide"},[a("nuxt-link",{attrs:{to:{name:"event-id",params:{id:""+e.tid}},target:"_blank"}},[a("div",{staticClass:"activity-item__thumb swiper-lazy",attrs:{"data-background":e.activity.thumb}},[a("div",{staticClass:"swiper-lazy-preloader"}),t._v(" "),"in"!==t.activityStatus(e.activity.starttimefrom,e.activity.starttimeto)?a("div",{staticClass:"activity-item__mask"}):t._e(),t._v(" "),"before"==t.activityStatus(e.activity.starttimefrom,e.activity.starttimeto)?a("div",[a("span",{staticClass:"bbt-label bbt-label--lemon bbt-label--top"},[t._v("报名中")]),t._v(" "),a("bbt-btn",{attrs:{type:"warning"}},[t._v("立即报名")])],1):"in"==t.activityStatus(e.activity.starttimefrom,e.activity.starttimeto)?a("div",[a("span",{staticClass:"bbt-label bbt-label--lemon bbt-label--top"},[t._v("进行中")])]):a("div",[a("bbt-btn",{attrs:{type:"assist"}},[t._v("活动回顾")])],1)]),t._v(" "),a("div",{staticClass:"activity-item__info"},[a("div",{staticClass:"activity-item__title"},[t._v(t._s(e.title))]),t._v(" "),a("div",{staticClass:"activity-item__desc"},[a("p",[a("bbt-icon",{attrs:{type:"calendar"}}),t._v("\n                "+t._s(t._f("timeGMT")(e.activity.starttimefrom))+"\n              ")],1),t._v(" "),a("p",[a("bbt-icon",{attrs:{type:"activity"}}),t._v("\n                "+t._s(e.activity.place)+"\n              ")],1)])])])],1)})),0)])])}),[],!1,null,"132ffd32",null).exports),j=a(169),D={mixins:[w.a],props:{data:Array,needLazy:Boolean},methods:{fetchModule:function(){var t=this;this.$store.dispatch("guide/FETCH_RECOMMEND_LIST",{params:{},type:"recommend"}).then((function(){window.removeEventListener("scroll",t.debounceFn),t.debounceFn=null,t.isRender=!0,t.isLoading=!1})).catch((function(){t.isLoading=!1}))}}},S=(a(1572),Object(c.a)(D,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data&&t.data.length||t.needLazy&&!t.isRender?a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    新手入门\n    "),a("span",{staticClass:"bbt-module__more"},[a("nuxt-link",{staticClass:"link-dark-minor",attrs:{to:{name:"blockchain-101"},target:"_blank"}},[t._v("\n        更多"),a("bbt-icon",{attrs:{type:"right"}})],1)],1)]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[a("x-skeleton",{attrs:{needLazy:t.needLazy&&!t.isRender,skin:"getstart"}},t._l(t.data,(function(e,i){return a("div",{key:i,staticClass:"guide-item"},[a("a",{staticClass:"link-dark-major",attrs:{href:e.url,target:"_blank"}},[a("span",{class:"guide-item__index"+i},[t._v(t._s(i+1))]),t._v(t._s(e.title)+"\n        ")])])})),0)],1)]):t._e()}),[],!1,null,"cc2c8b8e",null).exports),P={mixins:[w.a],props:{data:Array,needLazy:Boolean},methods:{fetchModule:function(){var t=this;this.$store.dispatch("author/FETCH_EXPERT_LIST",{params:{},type:"expert"}).then((function(){window.removeEventListener("scroll",t.debounceFn),t.debounceFn=null,t.isRender=!0,t.isLoading=!1})).catch((function(){t.isLoading=!1}))}}},E=(a(1573),Object(c.a)(P,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data&&t.data.length||t.needLazy&&!t.isRender?a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    社区大咖\n  ")]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[a("x-skeleton",{attrs:{needLazy:t.needLazy&&!t.isRender,skin:"hotuser"}},t._l(t.data,(function(e,i){return a("div",{key:i,staticClass:"user-item"},[a("nuxt-link",{attrs:{to:"/user/"+e.uid,target:"_blank"}},[a("div",{staticClass:"user-item__avatar"},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:e.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                src: item.avatar,\n                error: '/images/default/avatar.gif',\n                loading: '/images/default/avatar.gif',\n              }",arg:"background-image"}]})]),t._v(" "),a("div",{staticClass:"user-item__info"},[a("p",{staticClass:"link-dark-major"},[t._v(t._s(e.username))]),t._v(" "),a("p",[t._v(t._s(e.desc))])])])],1)})),0)],1)]):t._e()}),[],!1,null,"756eb650",null).exports),T=a(40),$=a.n(T),L=(a(33),{props:{data:Array},methods:{getArea:function(t){var e={},a=0,i=0,r=0;if(-1!==t.indexOf("海外"))e.Province=t.substring(0,2),e.City=null,e.Area=t.substring(2);else if(-1!==t.indexOf("钓鱼岛"))e.Province=t.substring(0,3),e.City=null,e.Area=t.substring(3);else if(-1!==(a=t.indexOf("省"))?e.Province=t.substring(0,a+1):-1!==(i=t.indexOf("自治区"))?e.Province=t.substring(0,i+3):-1!==(i=t.indexOf("行政区"))?e.Province=t.substring(0,i+3):-1!==t.indexOf("市")?e.Province=t.substring(0,3):e.Province=null,-1!==(r=t.indexOf("市")))0==i?e.City=t.substring(a+1,r+1):e.Province?e.City=null:e.City=t.substring(i+3,r+1);else{var n=t.indexOf("自治州");if(-1!==n)e.City=0==i?t.substring(a+1,n+3):t.substring(i+3,n+3);else{var s=t.indexOf("地区");e.City=-1!==s?0==i?t.substring(a+1,s+2):t.substring(i+3,s+2):null}}return e.Area=t.replace(e.Province,"").replace(e.City,""),e}}}),I=(a(1574),Object(c.a)(L,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"activity-list"},t._l(t.data,(function(e,i){return a("div",{key:i,staticClass:"activity-item"},[a("nuxt-link",{attrs:{to:{name:"event-id",params:{id:""+e.tid}},target:"_blank"}},[a("div",{staticClass:"activity-item__header"},[a("span",[t._v(t._s(t._f("timeYMD")(e.activity.starttimefrom)))]),t._v(" "),a("span",[t._v(t._s(t.getArea(e.activity.place).City||t.getArea(e.activity.place).Province||"线上活动"))])]),t._v(" "),a("div",{staticClass:"activity-item__title link-dark-major"},[t._v("\n        "+t._s(e.title)+"\n      ")])])],1)})),0)}),[],!1,null,"57b46e0c",null).exports),F={mixins:[w.a],components:{XActivityList:I,"no-ssr":$.a},props:{data:Array,needLazy:Boolean},data:function(){return{isSSR:!1,isLock:!1,page:1,scrollTop:0}},mounted:function(){this.isSSR=!0},methods:{fetchModule:function(){var t=this;this.$store.dispatch("activity/FETCH_LIST",{params:{module:"index_slide_calendar",num:10},type:"sideCalendar"}).then((function(){window.removeEventListener("scroll",t.debounceFn),t.debounceFn=null,t.isRender=!0,t.isLoading=!1})).catch((function(){t.isLoading=!1}))},loadingMore:function(){var t=this;if(!this.isLock){this.isLock=!0;var e=this.page+1;this.$store.dispatch("activity/FETCH_NEXT_PAGE",{params:{module:"index_slide_calendar",page:e,num:10},type:"sideCalendar"}).then((function(a){t.page=e,a&&a.list&&a.list.length&&(t.isLock=!1)})).catch((function(){t.isLock=!1}))}}}},N=(a(1575),a(1576),Object(c.a)(F,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data&&t.data.length||t.needLazy&&!t.isRender?a("div",{staticClass:"bbt-module calendar-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    活动日历\n    "),a("span",{staticClass:"bbt-module__more"},[a("nuxt-link",{staticClass:"link-dark-minor",attrs:{to:{name:"events"},target:"_blank"}},[t._v("\n        更多"),a("bbt-icon",{attrs:{type:"right"}})],1)],1)]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[a("x-skeleton",{attrs:{needLazy:t.needLazy&&!t.isRender,skin:"eventcalendar"}},[t.isSSR?a("no-ssr",[a("happy-scroll",{attrs:{"scroll-top":t.scrollTop,color:"rgba(51,51,51,0.2)",resize:"","hide-horizontal":""},on:{"update:scrollTop":function(e){t.scrollTop=e},"update:scroll-top":function(e){t.scrollTop=e},"vertical-end":t.loadingMore}},[a("x-activity-list",{attrs:{data:t.data}})],1)],1):a("x-activity-list",{attrs:{data:t.data}})],1)],1)]):t._e()}),[],!1,null,"0f414876",null).exports),z=a(14),M={data:function(){return{isFixed:!1,appQRcode:v.a}},mounted:function(){var t=this;this.$nextTick((function(){t.handleScroll(),window.addEventListener("scroll",t.handleScroll)}))},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll:function(){Object(z.i)(this.$el).y-68<=window.pageYOffset?this.isFixed=!0:this.isFixed=!1}}},A=(a(1577),Object(c.a)(M,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{height:"333px"}},[a("div",{staticClass:"bbt-module",class:{fixed:t.isFixed}},[a("div",{staticClass:"bbt-module__body"},[a("div",{staticClass:"bbt-link"},[a("ul",{staticClass:"bbt-link__list"},[a("li",[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:"/us/about",target:"_blank"}},[t._v("关于我们")])],1),t._v(" "),a("li",[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:"/us/contact",target:"_blank"}},[t._v("联系我们")])],1),t._v(" "),a("li",[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:"/us/rule",target:"_blank"}},[t._v("社区公约")])],1),t._v(" "),t._m(0),t._v(" "),a("li",[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:"/us/business",target:"_blank"}},[t._v("商务合作")])],1),t._v(" "),a("li",[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:"/us/terms",target:"_blank"}},[t._v("使用协议")])],1),t._v(" "),a("li",[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:"/us/sitemap",target:"_blank"}},[t._v("站点地图")])],1),t._v(" "),t._m(1),t._v(" "),t._m(2)])]),t._v(" "),a("div",{staticClass:"bbt-appdownload bbt-clearfix"},[t._m(3),t._v(" "),a("div",{staticClass:"add-qrcode"},[a("img",{attrs:{src:t.appQRcode,width:"64px",alt:""}}),t._v(" "),a("div",{staticClass:"share-pop"},[a("img",{attrs:{src:t.appQRcode,alt:""}})])])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{staticClass:"link-dark-major",attrs:{href:"https://www.lagou.com/gongsi/20127.html",target:"_blank",rel:"nofollow noopener"}},[this._v("加入我们")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{staticClass:"link-dark-major",attrs:{href:"https://www.8btc.com/brand/material",target:"_blank",rel:"nofollow noopener"}},[this._v("品牌素材")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{staticClass:"link-dark-major",attrs:{href:"http://chainnode.mikecrm.com/D52aILD",target:"_blank",rel:"nofollow noopener"}},[this._v("侵权投诉")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app-launcher"},[e("img",{attrs:{src:"/images/common/launcher@2x.png",width:"64px",alt:""}}),this._v(" "),e("p",[this._v("链节点APP")]),this._v(" "),e("p",[this._v("扫码下载")])])}],!1,null,"228c2a64",null).exports),H=a(520),R=a(62),q=a(102),V=a(178);function B(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function X(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?B(Object(a),!0).forEach((function(e){Object(r.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):B(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}a(243);var U,Y,G={xAxis:{type:"category",boundaryGap:!1,show:!1},yAxis:{type:"value",show:!1,min:function(t){return t.min-Number.parseInt((t.max-t.min)/5)}},grid:{borderWidth:0,left:0,top:0,bottom:0,right:0},series:[{type:"line",smooth:!1,showSymbol:!1,areaStyle:{}}]},W={components:{chart:V.a},data:function(){return{timer:null,loadingData:["","","","",""],pollCount:1}},computed:X({},Object(s.b)({marketData:"market/newList",prevMarketData:"market/prevList"}),{marketOptions:function(){for(var t=[],e=0;e<this.marketData.length;e++)t.push({xAxis:X({},G.xAxis),yAxis:G.yAxis,color:this.marketData[e].ticker.last>this.prevMarketData[e].ticker.last?"rgba(20,149,75,0.11)":this.marketData[e].ticker.last<this.prevMarketData[e].ticker.last?"rgba(227,44,40,0.09)":"rgba(160,160,160,.2)",grid:G.grid,series:X({},G.series[0],{lineStyle:{normal:{width:1,color:this.marketData[e].ticker.last>this.prevMarketData[e].ticker.last?"#14954B":this.marketData[e].ticker.last<this.prevMarketData[e].ticker.last?"#E32C28":"#989898"}},data:this.marketData[e].kline})});return t},pollTimer:function(){return Object(z.j)(this.pollCount)}}),mounted:function(){this.poll()},destroyed:function(){clearTimeout(this.timer)},methods:{trackEvent:function(t,e,a){window._czc&&window._czc.push(["_trackEvent",t,"点击",e,"",a])},poll:function(){var t=this;this.timer=setTimeout((function(){t.$store.dispatch("market/FETCH_LIST",{}).then((function(){t.pollCount=t.pollCount+1,clearTimeout(t.timer),t.poll()}),(function(){t.pollCount=t.pollCount+1,clearTimeout(t.timer),t.poll()}))}),this.pollTimer)}}},Q=(a(1578),Object(c.a)(W,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"market-section",attrs:{id:"market-section"},on:{click:function(e){return t.trackEvent("CN_ad_A1","网站首页行情广告位","market-section")}}},[a("div",{staticClass:"bbt-container"},[t.marketData&&t.marketData.length?a("div",{staticClass:"market-list"},t._l(t.marketData,(function(e,i){return a("a",{key:i,staticClass:"market-item",attrs:{rel:"noopener",href:"https://www.qkl123.com/chart/"+e.exchange+"_"+e.pair,target:"_blank"}},[a("div",{staticClass:"market-item__title"},[a("img",{staticClass:"market-item__icon",attrs:{src:"/images/coin/"+e.coin.toUpperCase()+".svg",alt:e.coin.toUpperCase()}}),t._v(" "),a("span",{staticClass:"market-item__token"},[t._v(t._s(e.coin.toUpperCase())+" /\n            "+t._s(t._f("name_to_exchange")(e.exchange)))]),t._v(" "),a("span",{staticClass:"market-item__scale",class:{"market-item__scale--down":e.ticker.change<0,"market-item__scale--up":e.ticker.change>0}},[t._v("\n            "+t._s(e.ticker.scale)+"\n          ")])]),t._v(" "),a("div",{staticClass:"market-item__price",class:{"market-item__price--down":e.ticker.last<t.prevMarketData[i].ticker.last,"market-item__price--up":e.ticker.last>t.prevMarketData[i].ticker.last,"market-item__price--horiz":e.ticker.last==t.prevMarketData[i].ticker.last}},[a("span",{staticClass:"market-item__amount"},[t._v("¥"+t._s(parseFloat(e.ticker.last*e.convert_cny).toFixed(2)))]),t._v(" "),a("div",{staticClass:"market-item__graph"},[a("chart",{staticStyle:{height:"22px",width:"104px"},attrs:{options:t.marketOptions[i]}})],1)])])})),0):a("div",{staticClass:"loading-masker bbt-clearfix"},t._l(t.loadingData,(function(e,i){return a("div",{key:i,staticClass:"timeline-item"},[t._m(0,!0)])})),0)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"animated-background"},[e("div",{staticClass:"background-masker section-a"}),this._v(" "),e("div",{staticClass:"background-masker section-b"}),this._v(" "),e("div",{staticClass:"background-masker section-c"}),this._v(" "),e("div",{staticClass:"background-masker section-d"}),this._v(" "),e("div",{staticClass:"background-masker section-e"})])}],!1,null,"1392c790",null).exports),K={data:function(){return{brands:[{icon:"/images/common/brand-ama@2x.png",title:"ChainNode AMA",desc:"零距离对话圈内大佬",path:"/ask-me-anything"},{icon:"/images/common/brand-chainge@2x.png",title:"ChainNode 直播间",desc:"币圈话题引爆器",path:"/videos/4627"},{icon:"/images/common/brand-market@2x.png",title:"行情解析 | 今晚很关键",desc:"圈内首档视频行情分析类栏目",path:"/videos/7471"},{icon:"/images/common/brand-live@2x.png",title:"Chainge 技术沙龙",desc:"专注于区块链领域行业交流",path:"/videos/4530"}]}}},J=(a(1579),Object(c.a)(K,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__body"},t._l(t.brands,(function(e,i){return a("div",{key:i,staticClass:"brand-item"},[a("nuxt-link",{attrs:{to:e.path,target:"_blank"}},[a("div",{staticClass:"brand-item__thumb"},[a("img",{attrs:{src:e.icon,alt:""}})]),t._v(" "),a("div",{staticClass:"brand-item__info"},[a("p",{staticClass:"link-dark-major"},[t._v(t._s(e.title))]),t._v(" "),a("p",[t._v(t._s(e.desc))])])])],1)})),0)])}),[],!1,null,"50c74880",null).exports),Z=a(17);function tt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var et={inject:["injectData"],components:{XBannerSection:d,XAmaLiveModule:h,XRecommendSection:g,XPostListModule:y.a,XActivityModule:O,XRecommendBlock:j.a,XHotTopicList:x,XGuideModule:S,XExpertUserModule:E,XActivityCalendarModule:N,XAboutUsModule:A,XCard:H.a,XMore:R.a,XAd:q.a,MarketSection:Q,XBrandModule:J},fetch:function(t){var e=t.store;t.cookie,t.res,t.error,t.redirect;return Object(n.a)(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=0,t.prev=1,t.next=4,e.dispatch("ama/FETCH_LIST",{params:{module:"ama",act_status:"activity_in",page:1,num:1,order_by:"dateline"},type:"lists"});case 4:(i=t.sent).list&&i.list.length&&(a=i.list[0].tid),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1);case 11:return t.abrupt("return",Promise.all([e.dispatch("ad/FETCH_LIST",{}),e.dispatch("ad/FETCH_FORUM_LIST",{params:{type:4}}),e.dispatch("ad/FETCH_HOMEPAGE_RECOMMEND_LIST",{params:{},type:"homepage"}),e.dispatch("activity/FETCH_RECOMMEND",{params:{},type:"recommend"}),a?e.dispatch("post/FETCH_POST_SINGLE",{params:{tid:a},id:"homepage",type:"items"}):"",a?e.dispatch("comment/FETCH_INDEXCOMMENT_LIST",{params:{tid:a,page:1,ordertype:1,num:20,size:"small",from:"web"}}):"",e.dispatch("post/FETCH_HOMEPAGE_RECOMMEND_LIST",{params:{page:1,num:10}}),e.dispatch("post/FETCH_HOMEPAGE_DIGEST_LIST",{params:{page:1,num:10}}),e.dispatch("FETCH_LINK_LIST",{type:"inside",params:{}}),e.dispatch("block/FETCH_RECOMMEND_LIST",{params:{},type:"recommend"}),e.dispatch("topic/FETCH_HOT_LIST",{params:{},type:"hot"})]).catch((function(t){})));case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))()},data:function(){return{isRecommendLoading:!1,isDigestLoading:!1,num:10,page:{recommend:1,digest:1}}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?tt(Object(a),!0).forEach((function(e){Object(r.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):tt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(s.c)({ad:function(t){return t.ad},activity:function(t){return t.activity},post:function(t){return t.post},comment:function(t){return t.comment},block:function(t){return t.block},topic:function(t){return t.topic},guide:function(t){return t.guide},author:function(t){return t.author}}),{},Object(s.b)({adImgData:"ad/adImgData"}),{adData:function(){return this.ad.forum},recommendActivityData:function(){return this.activity.recommend.list||[]},amaPostData:function(){return this.post.items.homepage},amaCommentData:function(){return this.comment.indexComment||[]},recommendPostData:function(){var t=Object(z.c)(this.post.recommend.list||[]);return this.ad.homepage.list&&this.ad.homepage.list.length&&this.ad.homepage.list.forEach((function(e){Number(e.order_by)<=t.length&&t.splice(Number(e.order_by)-1,0,e)})),t},recommendPostNum:function(){return Number(this.post.recommend.total)||0},digestPostData:function(){return this.post.digest.list||[]},digestPostNum:function(){return Number(this.post.digest.total)||0},recommendBlockData:function(){return this.block.recommend.list||[]},hotTopicData:function(){return this.topic.hot.list||[]},guideData:function(){return this.guide.recommend.list||[]},expertData:function(){return this.author.expert.list||[]},calendarData:function(){return this.activity.sideCalendar.list||[]},isOpenMarket:function(){return v.c.isOpenHeadline}}),mounted:function(){this.$store.dispatch("market/FETCH_LIST",{})},methods:(U=Object(Z.a)("/login/password",{back_url:"/new/post?action=newthread"}),Y={toRecommendNext:function(){var t=this;if(!this.isRecommendLoading){var e=this.page.recommend+1;this.isRecommendLoading=!0,this.$store.dispatch("post/FETCH_HOMEPAGE_RECOMMEND_NEXT_PAGE",{params:{num:this.num,page:e}}).then((function(a){t.page.recommend=e,t.isRecommendLoading=!1})).catch((function(){t.isRecommendLoading=!1}))}},toDigestNext:function(){var t=this;if(!this.isDigestLoading){var e=this.page.digest+1;this.isDigestLoading=!0,this.$store.dispatch("post/FETCH_HOMEPAGE_DIGEST_NEXT_PAGE",{params:{num:this.num,page:e}}).then((function(a){t.page.digest=e,t.isDigestLoading=!1})).catch((function(){t.isDigestLoading=!1}))}},releasePost:function(t){this.$router.push({name:"new-".concat(t),query:{action:"newthread"}})}},Object(i.a)(Y,"releasePost",[U],Object.getOwnPropertyDescriptor(Y,"releasePost"),Y),Y),head:function(){return{title:"ChainNode 链节点（原巴比特论坛） - 区块链学习交流社区",titleTemplate:null,meta:[{hid:"description",name:"description",content:"ChainNode 链节点是集区块链项目交流、技术开发讨论、比特币挖矿技巧分享、区块链文化传播为一体的学习社区，致力于成为区块链世界的首页。"},{hid:"keywords",name:"keywords",content:"区块链技术,区块链社区,比特币论坛,比特币行情,比特币挖矿"}]}}},at=(a(1580),Object(c.a)(et,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main",staticStyle:{"margin-top":"24px"}},[t.isOpenMarket?a("market-section"):t._e(),t._v(" "),a("div",{staticClass:"bbt-container"},[a("bbt-row",[a("bbt-col",{attrs:{span:{xs:17}}},[t.adData&&t.adData.length?a("x-banner-section",{attrs:{data:t.adData}}):t._e(),t._v(" "),t.amaPostData&&t.amaPostData.id||t.recommendPostData&&t.recommendPostData.length?a("x-card",{staticClass:"bbt-section",staticStyle:{"margin-top":"8px"},attrs:{title:"推荐区"}},[t.amaPostData&&t.amaPostData.id?a("x-ama-live-module",{attrs:{data:t.amaPostData,comment:t.amaCommentData}}):t._e(),t._v(" "),t.recommendPostData&&t.recommendPostData.length?a("x-recommend-section",{attrs:{data:t.recommendPostData}}):t._e(),t._v(" "),t.recommendPostNum>t.page.recommend*t.num?a("x-more",{attrs:{isLoading:t.isRecommendLoading,text:"更多推荐"},on:{next:t.toRecommendNext}}):t._e()],1):t._e(),t._v(" "),t.digestPostData&&t.digestPostData.length?a("x-card",{staticClass:"bbt-section",attrs:{title:"精华区"}},[a("x-post-list-module",{attrs:{data:t.digestPostData}}),t._v(" "),t.digestPostNum>t.page.digest*t.num?a("x-more",{attrs:{isLoading:t.isDigestLoading,text:"查看更多精华帖"},on:{next:t.toDigestNext}}):t._e()],1):t._e()],1),t._v(" "),a("bbt-col",{attrs:{span:{xs:7}}},[t.recommendActivityData&&t.recommendActivityData.length?a("x-activity-module",{attrs:{data:t.recommendActivityData}}):t._e(),t._v(" "),a("div",{staticClass:"release-section"},[a("div",{staticClass:"release-item link-dark-major",on:{click:function(e){return t.releasePost("post")}}},[a("img",{attrs:{src:"/images/common/new-post.svg",width:"36px",alt:""}}),t._v("\n            发布帖子\n          ")]),t._v(" "),a("div",{staticClass:"release-item link-dark-major",on:{click:function(e){return t.releasePost("event")}}},[a("img",{attrs:{src:"/images/common/new-event.svg",width:"36px",alt:""}}),t._v("\n            发布活动\n          ")])]),t._v(" "),a("x-recommend-block",{attrs:{data:t.recommendBlockData,needLazy:!1}}),t._v(" "),a("x-brand-module"),t._v(" "),a("x-hot-topic-list",{attrs:{data:t.hotTopicData,needLazy:!1}}),t._v(" "),a("x-guide-module",{attrs:{data:t.guideData,needLazy:!0}}),t._v(" "),t.adImgData.FA6&&t.adImgData.FA6.length?a("x-ad",{staticStyle:{"margin-bottom":"24px"},attrs:{data:t.adImgData.FA6,static:!1}}):t._e(),t._v(" "),a("x-expert-user-module",{attrs:{data:t.expertData,needLazy:!0}}),t._v(" "),a("x-activity-calendar-module",{attrs:{data:t.calendarData,needLazy:!0}}),t._v(" "),a("x-about-us-module")],1)],1)],1)],1)}),[],!1,null,"52b1186a",null));e.default=at.exports},function(t,e,a){"use strict";a.r(e);a(12);var i=a(20),r=(a(4),a(3),a(19),a(50)),n=(a(29),a(16)),s={components:{},props:{navBar:Array,activeIndex:Number},data:function(){return{}},methods:{goto:function(t){var e=document.body.getBoundingClientRect().top,a=document.getElementById(t).getBoundingClientRect().top-e-88;window.scrollTo({top:a,behavior:"smooth"})}}},o=(a(1138),a(0)),c=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nav-module"},[a("div",{staticClass:"bbt-container"},[a("div",{staticClass:"bbt-flex"},[t._m(0),t._v(" "),a("ul",{staticClass:"nav-list"},[t._l(t.navBar,(function(e,i){return a("li",{key:i,class:{active:t.activeIndex===i},on:{click:function(a){return t.goto(e.id)}}},[t._v("\n          "+t._s(e.title)+"\n        ")])})),t._v(" "),a("li",[a("a",{staticClass:"blockchain-btn blockchain-btn__sm",attrs:{href:"http://www.huodongxing.com/go/5554461308600?qd=guanwang",rel:"noopener nofollow",target:"_blank"}},[t._v(t._s("立即购票"))])])],2)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"blockchain-logo"},[e("img",{attrs:{src:"/images/hashcon-img/logo.png",alt:""}})])}],!1,null,"f8abc78e",null).exports,l=(a(7),a(5),a(6),a(1));function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function d(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){Object(l.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var p={components:{},props:{showLiveView:Boolean,liveInfos:Array},data:function(){return{playOptions:{id:"mse",fluid:!0,fitVideoSize:"auto",ignores:["enter","loading","error"],"x5-video-player-type":"h5"},livePlayer:null,player:null,timer:null}},computed:{notStartInfo:function(){return this.liveInfos.filter((function(t){return 0===t.status}))},livingInfo:function(){return this.liveInfos.filter((function(t){return 1===t.status}))[0]},endInfo:function(){return this.liveInfos.filter((function(t){return 2===t.status}))}},mounted:function(){var t=this;this.$nextTick((function(){t.createPlayer()}))},beforeDestroy:function(){clearTimeout(this.timer)},methods:{changeVideoSrc:function(t){var e=this;0!==t.status&&(1===t.status&&(this.player&&this.player.destroy(!0),this.livePlayer&&this.livePlayer.destroy(!0),this.player=null,this.livePlayer=null,this.$nextTick((function(){e.timer=setTimeout((function(){var i=a(587);e.livePlayer=new i(d({},e.playOptions,{url:t.HLS,poster:t.logo,isLive:!0}))}),200)}))),2===t.status&&(this.player&&this.player.destroy(!0),this.livePlayer&&this.livePlayer.destroy(!0),this.player=null,this.livePlayer=null,this.$nextTick((function(){e.player?(e.player.src=t.down_url,e.player.poster=t.poster):e.timer=setTimeout((function(){var i=a(71);e.player=new i(d({},e.playOptions,{poster:t.poster,url:t.down_url,isLive:!1}))}),200)}))))},formatStatus:function(t){var e={};return 0===t?(e.text="● 未开始",e.klass="not-start"):1===t?(e.text="● 直播中",e.klass="living"):2===t&&(e.text="● 可回播",e.klass="end"),e},createPlayer:function(){if(this.livingInfo){var t=a(587);this.livePlayer=new t(d({},this.playOptions,{url:this.livingInfo.HLS,poster:this.livingInfo.logo,isLive:!0}))}else{if(4===this.notStartInfo.length)return;if(4===this.endInfo.length){var e=a(71);this.player=new e(d({},this.playOptions,{poster:this.endInfo[0].logo,url:this.endInfo[0].down_url,isLive:!1}))}else{var i=a(71);this.player=new i(d({},this.playOptions,{poster:this.endInfo[this.endInfo.length-1].logo,url:this.endInfo[this.endInfo.length-1].down_url,isLive:!1}))}}}}},m=(a(1139),Object(o.a)(p,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"banner-module"},[a("div",{staticClass:"bbt-container"},[t.showLiveView?a("div",{staticClass:"live-container"},[4===t.notStartInfo.length?a("div",{staticClass:"live-container__logo"},[a("img",{attrs:{src:t.notStartInfo[0].logo,alt:""}})]):a("div",{attrs:{id:"mse"}}),t._v(" "),a("div",{staticClass:"live-container__tab"},[t._m(0),t._v(" "),a("ul",{staticClass:"info-list"},t._l(t.liveInfos,(function(e,i){return a("li",{key:i,on:{click:function(a){return t.changeVideoSrc(e)}}},[a("p",{staticClass:"title"},[t._v("\n              "+t._s(e.title)+"\n              "),a("span",{class:["status",t.formatStatus(e.status).klass]},[t._v("\n                "+t._s(t.formatStatus(e.status).text)+"\n              ")])]),t._v(" "),a("p",{staticClass:"sub_title"},[t._v(t._s(e.sub_title))]),t._v(" "),a("p",{staticClass:"time"},[a("span",[t._v("\n                "+t._s(e.time_text)+"\n              ")])])])})),0)])]):a("div",{staticClass:"blockchain-slogan"},[a("img",{staticClass:"main-title",attrs:{src:"/images/hashcon-img/main-title-v1.png",alt:""}}),t._v(" "),a("img",{staticClass:"main-address",attrs:{src:"/images/hashcon-img/main-address.png",alt:""}})])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"date-list"},[e("li",[this._v("\n            8月22日\n          ")]),this._v(" "),e("li",[this._v("\n            8月23日\n          ")])])}],!1,null,"36452eaf",null).exports),f={props:{title:String},data:function(){return{}}},h=(a(1140),Object(o.a)(f,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bbt-container"},[e("div",{staticClass:"section-title"},[e("h3",[this._v(this._s(this.title))]),this._v(" "),e("img",{attrs:{src:"/images/hashcon-img/under-icon.png",alt:""}})]),this._v(" "),this._t("default")],2)}),[],!1,null,"66318f7a",null).exports),v={components:{XCard:h},props:{introInfo:Object},data:function(){return{}}},b=(a(1141),Object(o.a)(v,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"intro-module",attrs:{id:this.introInfo.id}},[e("x-card",{attrs:{title:this.introInfo.descTitle}},[e("div",{staticClass:"desc"},[e("img",{attrs:{src:this.introInfo.descImg,alt:""}})])]),this._v(" "),e("div",{staticClass:"hightlight-container"},[e("x-card",{attrs:{title:this.introInfo.HighlightTitle}},[e("div",{staticClass:"desc"},[e("img",{attrs:{src:this.introInfo.HighlightImg,alt:""}})])])],1)],1)}),[],!1,null,"6f6c3909",null).exports),_={props:{guestInfo:Object},components:{XCard:h},data:function(){return{}}},g=(a(1142),Object(o.a)(_,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"guest-module",attrs:{id:t.guestInfo.id}},[a("x-card",{attrs:{title:t.guestInfo.title}},[a("div",{staticClass:"guest-list bbt-clearfix"},t._l(t.guestInfo.list,(function(e,i){return a("div",{key:i,staticClass:"guest-item--wrap"},[a("div",{staticClass:"guset-item"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.portrait_img,error:"/images/hashcon-img/guest@2x.png",loading:"/images/hashcon-img/guest@2x.png"},expression:"{\n              src: item.portrait_img,\n              error: '/images/hashcon-img/guest@2x.png',\n              loading: '/images/hashcon-img/guest@2x.png',\n            }"}],attrs:{src:"/images/hashcon-img/guest@2x.png"}}),t._v(" "),a("p",{staticClass:"guset-item__name"},[t._v(t._s(e.name))]),t._v(" "),a("p",{staticClass:"guset-item__desc",domProps:{innerHTML:t._s(e.title)}})])])})),0)])],1)}),[],!1,null,"7cae8b56",null).exports),y={props:{agendaInfo:Object},components:{XCard:h},data:function(){return{}}},w=(a(1143),Object(o.a)(y,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"agenda-module",attrs:{id:this.agendaInfo.id}},[e("x-card",{attrs:{title:this.agendaInfo.title}},[e("ul",{staticClass:"agenda-list"},this._l(this.agendaInfo.list,(function(t,a){return e("li",{key:a},[e("img",{attrs:{src:t.agenda_img,width:"100%",alt:""}})])})),0)])],1)}),[],!1,null,"4a33469b",null).exports),k={props:{mediaInfo:Object},components:{XCard:h},data:function(){return{showMore:!1}},computed:{formatList:function(){return this.showMore?this.mediaInfo.list:this.mediaInfo.list.slice(0,6)}}},x=(a(1144),Object(o.a)(k,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"media-module",attrs:{id:t.mediaInfo.id}},[a("x-card",{attrs:{title:t.mediaInfo.title}},[a("ul",{staticClass:"media-list"},t._l(t.formatList,(function(e,i){return a("li",{key:i},[a("a",{staticClass:"media-item",attrs:{href:"https://www.8btc.com/article/"+e.id,target:"_blank"}},[a("div",{staticClass:"media-item__thumb"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.image,error:"/images/default/news.jpg",loading:"/images/default/news.jpg"},expression:"{\n                src: item.image,\n                error: '/images/default/news.jpg',\n                loading: '/images/default/news.jpg',\n              }"}],attrs:{src:"/images/default/news.jpg"}})]),t._v(" "),a("div",{staticClass:"media-item__title"},[t._v("\n            "+t._s(e.title)+"\n          ")])])])})),0),t._v(" "),!t.showMore&&t.mediaInfo.list.length>6?a("div",{staticClass:"blockchain-btns"},[a("a",{staticClass:"blockchain-btn",attrs:{href:"javascript:;"},on:{click:function(e){t.showMore=!0}}},[t._v(t._s(t.mediaInfo.seeMore))])]):t._e()])],1)}),[],!1,null,"6caba135",null).exports),C={props:{partnerInfo:Object},components:{XCard:h},data:function(){return{}}},O=(a(1145),Object(o.a)(C,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"partner-module",attrs:{id:t.partnerInfo.id}},[a("x-card",{attrs:{title:t.partnerInfo.title}},[a("ul",{staticClass:"partner-list"},t._l(t.partnerInfo.list,(function(e,i){return a("li",{key:i},[a("p",{staticClass:"partner-list__title"},[t._v(t._s(e.title))]),t._v(" "),a("ul",{staticClass:"partner-list__icon"},t._l(e.list,(function(t,e){return a("li",{key:e},[t.link_url?a("a",{attrs:{href:t.link_url,target:"_blank",rel:"noopener nofollow"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:t.cover_img,error:"/images/hashcon-img/partner@2x.png",loading:"/images/hashcon-img/partner@2x.png"},expression:"{\n                  src: cItem.cover_img,\n                  error: '/images/hashcon-img/partner@2x.png',\n                  loading: '/images/hashcon-img/partner@2x.png',\n                }"}],attrs:{src:"/images/hashcon-img/partner@2x.png"}})]):a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:t.cover_img,error:"/images/hashcon-img/partner@2x.png",loading:"/images/hashcon-img/partner@2x.png"},expression:"{\n                src: cItem.cover_img,\n                error: '/images/hashcon-img/partner@2x.png',\n                loading: '/images/hashcon-img/partner@2x.png',\n              }"}],attrs:{src:"/images/hashcon-img/partner@2x.png"}})])})),0)])})),0)])],1)}),[],!1,null,"084cbe86",null).exports),j={props:{bizInfo:Object},components:{XCard:h},data:function(){return{}}},D=(a(1146),Object(o.a)(j,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"biz-module",attrs:{id:t.bizInfo.id}},[a("x-card",{attrs:{title:t.bizInfo.title}},[a("div",{staticClass:"biz-module__container"},[a("p",[t._v(t._s(t.bizInfo.text))]),t._v(" "),a("p",[a("span",[t._v(t._s(t.bizInfo.mail))]),t._v(" |\n        "),a("span",[t._v(t._s(t.bizInfo.wechat))])])])])],1)}),[],!1,null,"d74a0606",null).exports),S={props:{footInfo:Object},components:{XCard:h},data:function(){return{}}},P=(a(1147),Object(o.a)(S,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"footer-module",attrs:{id:this.footInfo.id}},[e("x-card",{attrs:{title:this.footInfo.title}},[e("ul",{staticClass:"past-list"},this._l(this.footInfo.list,(function(t,a){return e("li",{key:a},[t.link_url?e("a",{attrs:{href:t.link_url,target:"_blank",rel:"noopener nofollow"}},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:t.site_img,error:"/images/default/news.jpg",loading:"/images/default/news.jpg"},expression:"{\n              src: item.site_img,\n              error: '/images/default/news.jpg',\n              loading: '/images/default/news.jpg',\n            }"}],attrs:{src:"/images/default/news.jpg"}})]):e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:t.site_img,error:"/images/default/news.jpg",loading:"/images/default/news.jpg"},expression:"{\n            src: item.site_img,\n            error: '/images/default/news.jpg',\n            loading: '/images/default/news.jpg',\n          }"}],attrs:{src:"/images/default/news.jpg"}})])})),0)])],1)}),[],!1,null,"804a82a2",null).exports),E=a(24),T=a.n(E),$=a(14),L={components:{XHeader:c,XBanner:m,XIntro:b,XGuest:g,XAgenda:w,XMedia:x,XPartner:O,XBiz:D,XFooter:P},layout:"activity",data:function(){return{navBar:[{id:"section0",title:"活动介绍"},{id:"section1",title:"参会嘉宾"},{id:"section2",title:"日程安排"},{id:"section3",title:"媒体报道"},{id:"section4",title:"合作伙伴"},{id:"section5",title:"商务合作"},{id:"section6",title:"往期回顾"}],scrollTop:null,activeIndex:0,offsetArr:[],debounceFn:null,introInfo:{id:"section0",descTitle:"大会简介",descImg:"",HighlightTitle:"大会亮点",HighlightImg:""},guestInfo:{id:"section1",title:"出席嘉宾",applyUrl:"",applyText:"申请成为演讲嘉宾",list:[]},agendaInfo:{id:"section2",title:"大会议程",list:[]},mediaInfo:{id:"section3",title:"媒体报道",seeMore:"查看更多",list:[],newsTotal:0},partnerInfo:{id:"section4",title:"合作伙伴",list:[]},bizInfo:{id:"section5",title:"商务合作",text:"如需商务合作，可联系",mail:"邮箱 ：business@8btc.com",wechat:"微信 ：Business_8BTC"},footInfo:{id:"section6",title:"往期活动回顾",list:[]}}},computed:{showLiveView:function(){return T()("2020-08-21 00:00")<=T()()}},asyncData:function(t){t.params,t.store;var e=t.app;return Object(n.a)(regeneratorRuntime.mark((function t(){var a,n,s,o,c,l,u,d,p,m,f,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$api,n=["6c9f8f62","d4efe50b","2b356716","6215aaf0"].map((function(t){return a.get("/api/php/pili/pili-index/detail",{live_code:t})})),t.next=5,Promise.all(Object(i.a)(n));case 5:return s=t.sent,o=Object(r.a)(s,4),c=o[0],l=o[1],u=o[2],d=o[3],p={title:"开幕式",sub_title:"",time_text:"8月22日 上午",logo:c.data.data.logo,HLS:c.data.data.HDL,down_url:c.data.data.down_url,status:c.data.data.status},m={title:"下一个四年：",sub_title:"新基建、新局面",time_text:"8月22日 下午",logo:l.data.data.logo,HLS:l.data.data.HDL,down_url:l.data.data.down_url,status:l.data.data.status},f={title:"大矿圈融合之路",sub_title:"",time_text:"8月23日 上午",logo:u.data.data.logo,HLS:u.data.data.HDL,down_url:u.data.data.down_url,status:u.data.data.status},h={title:"IPFS VS POC",sub_title:"寻找挖矿新蓝海",time_text:"8月23日 下午",logo:d.data.data.logo,HLS:d.data.data.HDL,down_url:d.data.data.down_url,status:d.data.data.status},t.abrupt("return",{liveInfos:[p,m,f,h]});case 16:case"end":return t.stop()}}),t)})))()},mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var a,i,n,s,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.$store.$api.get("/api/php/calculate/force/guest",{page:1,num:100}),t.$store.$api.get("/api/php/calculate/force/agenda"),t.$store.$api.get("/api/php/calculate/force/articles",{page:1,num:100}),t.$store.$api.get("/api/php/calculate/force/link"),t.$store.$api.get("/api/php/calculate/force/agenda",{type:"place",page:1,num:100})]);case 2:a=e.sent,i=Object(r.a)(a,5),n=i[0],s=i[1],o=i[2],c=i[3],l=i[4],t.guestInfo.list=n.data.data.list,t.agendaInfo.list=s.data.data.list,t.introInfo.descImg=s.data.data.list[0].introduction_img,t.introInfo.HighlightImg=s.data.data.list[0].bright_spot_img,t.mediaInfo.list=o.data.data.list,t.mediaInfo.newsTotal=Number(o.data.data.total)||0,t.partnerInfo.list=c.data.data,t.footInfo.list=l.data.data.list,t.$nextTick((function(){t.handleScroll(),t.debounceFn=Object($.b)(t.handleScroll,100),window.addEventListener("scroll",t.debounceFn)}));case 18:case"end":return e.stop()}}),e)})))()},methods:{handleScroll:function(){var t=this;this.offsetArr=this.navBar.map((function(t,e){return Object($.i)(document.getElementById(t.id)).y-88})),this.scrollTop=document.documentElement.scrollTop||document.body.scrollTop,this.offsetArr.map((function(e,a){t.scrollTop>=e&&(t.activeIndex=a)}))}},beforeDestroy:function(){window.removeEventListener("scroll",this.debounceFn),this.debounceFn=null},head:function(){return{title:"2020全球区块链算力大会暨新基建矿业峰会",meta:[{hid:"description",name:"description",content:"8月22-23日，唱响矿业最强音，成都，我们来了！"}]}}},I=(a(1148),Object(o.a)(L,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("x-header",{attrs:{navBar:t.navBar,activeIndex:t.activeIndex}}),t._v(" "),a("x-banner",{attrs:{showLiveView:t.showLiveView,liveInfos:t.liveInfos}}),t._v(" "),a("x-intro",{attrs:{introInfo:t.introInfo}}),t._v(" "),a("section",{staticClass:"main-section"},[a("x-guest",{attrs:{guestInfo:t.guestInfo}}),t._v(" "),a("x-agenda",{attrs:{agendaInfo:t.agendaInfo}}),t._v(" "),a("x-media",{attrs:{mediaInfo:t.mediaInfo}}),t._v(" "),a("x-partner",{attrs:{partnerInfo:t.partnerInfo}}),t._v(" "),a("x-biz",{attrs:{bizInfo:t.bizInfo}})],1),t._v(" "),a("x-footer",{attrs:{footInfo:t.footInfo}})],1)}),[],!1,null,"72243984",null));e.default=I.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6);var i=a(1),r=a(20),n=(a(4),a(3),a(19),a(29),a(16)),s=a(2),o=a(124),c=a(42),l=a(8),u={props:{title:{type:String},currentType:{type:String,default:"week"},hideTab:{type:Boolean,default:!1},data:{type:Array},type:{type:String,default:"post"}},methods:{switchType:function(t,e){this.$emit("switch",t,e)},getRouteName:function(t,e){return Object(l.e)(t,e)}}},d=(a(1166),a(0)),p=Object(d.a)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    "+t._s(t.title)+"\n    "),t.hideTab?t._e():a("span",{staticClass:"orderby-nav"},[a("span",{staticClass:"orderby-nav__text",class:{active:"week"==t.currentType},on:{click:function(e){return t.switchType("week",t.type)}}},[t._v("周榜")]),t._v(" "),a("span",{staticClass:"bbt-dot"}),t._v(" "),a("span",{staticClass:"orderby-nav__text",class:{active:"month"==t.currentType},on:{click:function(e){return t.switchType("month",t.type)}}},[t._v("月榜")]),t._v(" "),a("span",{staticClass:"bbt-dot"}),t._v(" "),a("span",{staticClass:"orderby-nav__text",class:{active:"all"==t.currentType},on:{click:function(e){return t.switchType("all",t.type)}}},[t._v("总榜")])])]),t._v(" "),a("div",{staticClass:"bbt-module__body"},["hot"==t.type?a("div",{staticClass:"article-list"},t._l(t.data.slice(0,10),(function(e,i){return a("div",{key:i,staticClass:"article-item"},[a("span",{staticClass:"article-item__index",class:"article-item__index"+i},[t._v(t._s(i+1))]),t._v(" "),a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"post-id",params:{id:""+e.tid}},target:"_blank"}},[t._v("\n          "+t._s(e.subject)+"\n        ")]),t._v(" "),a("span",{staticClass:"article-item__num"},[t._v("\n          帖子热度："),a("span",[t._v(t._s(t._f("num_to_thousand")(e.replies)))])])],1)})),0):"information"==t.type?a("div",{staticClass:"article-list"},t._l(t.data.slice(0,10),(function(e,i){return a("div",{key:i,staticClass:"article-item"},[a("span",{staticClass:"article-item__index",class:"article-item__index"+i},[t._v(t._s(i+1))]),t._v(" "),a("a",{staticClass:"link-dark-major",attrs:{rel:"nofollow noopener",href:"https://www.8btc.com/"+t.getRouteName(e.post_type,e.non_original)+"/"+e.id,target:"_blank"}},[t._v("\n          "+t._s(e.title)+"\n        ")]),t._v(" "),a("span",{staticClass:"article-item__num"},[t._v("\n          资讯热度："),a("span",[t._v(t._s(t._f("num_to_thousand")(e.views)))])])])})),0):"answer"==t.type?a("div",{staticClass:"article-list"},t._l(t.data.slice(0,10),(function(e,i){return a("div",{key:i,staticClass:"article-item"},[a("span",{staticClass:"article-item__index",class:"article-item__index"+i},[t._v(t._s(i+1))]),t._v(" "),a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"question-id",params:{id:""+e.tid}},target:"_blank"}},[t._v("\n          "+t._s(e.subject)+"\n        ")]),t._v(" "),a("span",{staticClass:"article-item__num"},[t._v("\n          问答热度："),a("span",[t._v(t._s(t._f("num_to_thousand")(e.replies)))])])],1)})),0):"library"==t.type?a("div",{staticClass:"article-list"},t._l(t.data.slice(0,10),(function(e,i){return a("div",{key:i,staticClass:"article-item"},[a("span",{staticClass:"article-item__index",class:"article-item__index"+i},[t._v(t._s(i+1))]),t._v(" "),a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"doc-id",params:{id:""+e.docid}},target:"_blank"}},[t._v(t._s(e.title))]),t._v(" "),a("span",{staticClass:"article-item__num"},[t._v("\n          下载量："),a("span",[t._v(t._s(t._f("num_to_thousand")(e.downpay)))])])],1)})),0):t._e()])])}),[],!1,null,"05fe2d22",null).exports,m={props:{data:{type:Array},title:{type:String},type:{type:String,default:"post"}}},f=(a(1167),Object(d.a)(m,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    "+t._s(t.title)+"\n  ")]),t._v(" "),a("div",{staticClass:"bbt-module__body"},["forum"==t.type?a("div",{staticClass:"block-list"},t._l(t.data.slice(0,10),(function(e,i){return a("div",{key:i,staticClass:"block-item"},[a("span",{staticClass:"block-item__index",class:"block-item__index"+i},[t._v(t._s(i+1))]),t._v(" "),a("div",{staticClass:"block-item__info"},[a("nuxt-link",{attrs:{to:{name:"forum-id",params:{id:""+e.fid}}}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.img_url,error:"/images/default/plate.jpg",loading:"/images/default/plate.jpg"},expression:"{\n                src: item.img_url,\n                error: '/images/default/plate.jpg',\n                loading: '/images/default/plate.jpg',\n              }"}],attrs:{src:"/images/default/plate.jpg"}})]),t._v(" "),a("div",[a("h5",[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"forum-id",params:{id:""+e.fid}}}},[t._v(t._s(e.name))])],1),t._v(" "),a("p",[t._v(t._s(e.desc||e.name))])])],1),t._v(" "),a("span",{staticClass:"block-item__num"},[t._v("\n          今日新增："),a("span",[t._v(t._s(t._f("num_to_thousand")(e.count)))])])])})),0):"project"==t.type?a("div",{staticClass:"block-list"},t._l(t.data.slice(0,10),(function(e,i){return a("div",{key:i,staticClass:"block-item"},[a("span",{staticClass:"block-item__index",class:"block-item__index"+i},[t._v(t._s(i+1))]),t._v(" "),a("div",{staticClass:"block-item__info"},[a("a",{attrs:{rel:"noopener",href:"https://www.8btc.com/p/"+e.slug,target:"_blank"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.image,error:"/images/default/project.jpg",loading:"/images/default/project.jpg"},expression:"{\n                src: item.image,\n                error: '/images/default/project.jpg',\n                loading: '/images/default/project.jpg',\n              }"}],attrs:{src:"/images/default/project.jpg"}})]),t._v(" "),a("div",[a("h5",[a("a",{staticClass:"link-dark-major",attrs:{rel:"noopener",href:"https://www.8btc.com/p/"+e.slug,target:"_blank"}},[t._v(t._s(e.name))])]),t._v(" "),a("p",[t._v(t._s(e.desc))])])]),t._v(" "),a("span",{staticClass:"block-item__num"},[t._v("\n          浏览量："),a("span",[t._v(t._s(t._f("num_to_thousand")(e.views)))])])])})),0):t._e()])])}),[],!1,null,"888c77b2",null).exports),h={props:{data:{type:Array},title:{type:String}}};a(1168);function v(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var b={components:{XPostNewsModule:p,XBlockProjectModule:f,XActivityModule:Object(d.a)(h,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    活动榜\n  ")]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[a("div",{staticClass:"activity-list"},t._l(t.data.slice(0,10),(function(e,i){return a("div",{key:i,staticClass:"activity-item"},[a("span",{staticClass:"activity-item__index",class:"block-item__index"+i},[t._v(t._s(i+1))]),t._v(" "),a("div",{staticClass:"activity-item__info"},[a("nuxt-link",{attrs:{to:{name:"event-id",params:{id:""+e.tid}},target:"_blank"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.img_url,error:"/images/default/news.jpg",loading:"/images/default/news.jpg"},expression:"{\n                src: item.img_url,\n                error: '/images/default/news.jpg',\n                loading: '/images/default/news.jpg',\n              }"}],attrs:{src:"/images/default/news.jpg"}})]),t._v(" "),a("div",[a("h5",[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"event-id",params:{id:""+e.tid}},target:"_blank"}},[t._v(t._s(e.subject))]),t._v(">\n            ")],1),t._v(" "),a("p",[t._v(t._s(t._f("timeGMT")(e.activity.starttimefrom)))]),t._v(" "),a("p",[t._v(t._s(e.activity.place))])])],1),t._v(" "),a("span",{staticClass:"activity-item__num"},[t._v("\n          浏览量："),a("span",[t._v(t._s(t._f("num_to_thousand")(e.views)))])])])})),0)])])}),[],!1,null,"7765f06e",null).exports},data:function(){return{hotType:"week",informationType:"week",answerType:"week"}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?v(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(s.c)({rank:function(t){return t.rank}}),{contentData:function(){return this.rank.content}}),methods:{switchType:function(t,e){var a=this;this.$store.dispatch("rank/FETCH_CONTENT_LIST",{params:{type:e,time:t}}).then((function(i){a["".concat(e,"Type")]=t}))}}},_=Object(d.a)(b,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("bbt-row",[t.contentData.hot.length?a("bbt-col",{attrs:{span:{xs:12}}},[a("x-post-news-module",{attrs:{type:"hot",title:"热贴榜",data:t.contentData.hot,currentType:t.hotType},on:{switch:t.switchType}})],1):t._e(),t._v(" "),t.contentData.information.length?a("bbt-col",{attrs:{span:{xs:12}}},[a("x-post-news-module",{attrs:{type:"information",title:"资讯榜",data:t.contentData.information,currentType:t.informationType},on:{switch:t.switchType}})],1):t._e(),t._v(" "),t.contentData.answer.length?a("bbt-col",{attrs:{span:{xs:12}}},[a("x-post-news-module",{attrs:{type:"answer",title:"问答榜",hideTab:!0,data:t.contentData.answer}})],1):t._e(),t._v(" "),t.contentData.library.length?a("bbt-col",{attrs:{span:{xs:12}}},[a("x-post-news-module",{attrs:{type:"library",title:"文库榜",hideTab:!0,data:t.contentData.library}})],1):t._e(),t._v(" "),t.contentData.forum.length?a("bbt-col",{attrs:{span:{xs:12}}},[a("x-block-project-module",{attrs:{type:"forum",title:"节点榜",data:t.contentData.forum}})],1):t._e(),t._v(" "),t.contentData.project.length?a("bbt-col",{attrs:{span:{xs:12}}},[a("x-block-project-module",{attrs:{type:"project",title:"项目榜",data:t.contentData.project}})],1):t._e(),t._v(" "),t.contentData.activity.length?a("bbt-col",{attrs:{span:{xs:12}}},[a("x-activity-module",{attrs:{data:t.contentData.activity}})],1):t._e()],1)}),[],!1,null,null,null).exports,g=(a(33),a(22)),y=a.n(g),w={props:{title:{type:String},currentType:{type:String,default:"week"},hideTab:{type:Boolean,default:!1},data:{type:Array},type:{type:String,default:"answer"}},methods:{switchType:function(t,e){this.$emit("switch",t,e)},xss:function(t){return y()(t,{whiteList:[],stripIgnoreTag:!0}).replace(" ","")||"该作者未设置相关简介"}}};a(1169);function k(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var x={components:{XUserModule:Object(d.a)(w,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    "+t._s(t.title)+"\n    "),t.hideTab?t._e():a("span",{staticClass:"orderby-nav"},[a("span",{staticClass:"orderby-nav__text",class:{active:"week"==t.currentType},on:{click:function(e){return t.switchType("week",t.type)}}},[t._v("周榜")]),t._v(" "),a("span",{staticClass:"bbt-dot"}),t._v(" "),a("span",{staticClass:"orderby-nav__text",class:{active:"month"==t.currentType},on:{click:function(e){return t.switchType("month",t.type)}}},[t._v("月榜")]),t._v(" "),a("span",{staticClass:"bbt-dot"}),t._v(" "),a("span",{staticClass:"orderby-nav__text",class:{active:"all"==t.currentType},on:{click:function(e){return t.switchType("all",t.type)}}},[t._v("总榜")])])]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[a("div",{staticClass:"user-list"},t._l(t.data.slice(0,10),(function(e,i){return a("div",{key:i,staticClass:"user-item"},[a("span",{staticClass:"user-item__index",class:"block-item__index"+i},[t._v(t._s(i+1))]),t._v(" "),a("div",{staticClass:"user-item__info"},["columnist"===t.type?a("a",{attrs:{rel:"noopener",href:"https://www.8btc.com/author/"+e.userid,target:"_blank"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                src: item.avatar,\n                error: '/images/default/avatar.gif',\n                loading: '/images/default/avatar.gif',\n              }"}],staticClass:"bbt-avatar bbt-avatar--sm",attrs:{src:"/images/avatar.gif"}})]):a("nuxt-link",{attrs:{to:"/user/"+e.userid,target:"_blank"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                src: item.avatar,\n                error: '/images/default/avatar.gif',\n                loading: '/images/default/avatar.gif',\n              }"}],staticClass:"bbt-avatar bbt-avatar--sm",attrs:{src:"/images/avatar.gif"}})]),t._v(" "),a("div",["columnist"===t.type?a("p",["columnist"===t.type?a("a",{staticClass:"link-dark-major",attrs:{rel:"noopener",href:"https://www.8btc.com/author/"+e.userid,target:"_blank"}},[t._v(t._s(e.username))]):t._e()]):a("p",[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:"/user/"+e.userid,target:"_blank"}},[t._v(t._s(e.username))])],1),t._v(" "),a("p",[t._v(t._s(t.xss(e.sightml)))])])],1),t._v(" "),"answer"==t.type?a("span",{staticClass:"user-item__num"},[a("span",[t._v(t._s(t._f("num_to_thousand")(e.total)))]),t._v("\n          获得赏金\n        ")]):"ama"===t.type?a("span",{staticClass:"user-item__num"},[a("span",[t._v(t._s(t._f("num_to_thousand")(e.total)))]),t._v("\n          帮助人数\n        ")]):"columnist"===t.type?a("span",{staticClass:"user-item__num"},[a("span",[t._v(t._s(t._f("num_to_thousand")(e.total)))]),t._v("\n          浏览量\n        ")]):"library"===t.type?a("span",{staticClass:"user-item__num"},[a("span",[t._v(t._s(t._f("num_to_thousand")(e.total)))]),t._v("\n          上传文档\n        ")]):"gold"===t.type?a("span",{staticClass:"user-item__num"},[a("span",[t._v(t._s(t._f("num_to_thousand")(e.total)))]),t._v("\n          金币数\n        ")]):"forum"===t.type?a("span",{staticClass:"user-item__num"},[a("span",[t._v(t._s(t._f("num_to_thousand")(e.total)))]),t._v("\n          人气值\n        ")]):t._e()])})),0)])])}),[],!1,null,"6924e54b",null).exports},data:function(){return{answerType:"week",columnistType:"week",goldType:"week",forumType:"week"}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?k(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(s.c)({rank:function(t){return t.rank}}),{userData:function(){return this.rank.user}}),methods:{switchType:function(t,e){var a=this;this.$store.dispatch("rank/FETCH_USER_LIST",{params:{type:e,time:t}}).then((function(i){a["".concat(e,"Type")]=t}))}}},C=Object(d.a)(x,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("bbt-row",[t.userData.answer.length?a("bbt-col",{attrs:{span:{xs:8}}},[a("x-user-module",{attrs:{type:"answer",title:"问答牛人榜",data:t.userData.answer,hideTab:!0}})],1):t._e(),t._v(" "),t.userData.ama.length?a("bbt-col",{attrs:{span:{xs:8}}},[a("x-user-module",{attrs:{type:"ama",title:"AMA嘉宾榜",hideTab:!0,data:t.userData.ama}})],1):t._e(),t._v(" "),t.userData.columnist.length?a("bbt-col",{attrs:{span:{xs:8}}},[a("x-user-module",{attrs:{type:"columnist",title:"专栏作家榜",data:t.userData.columnist,currentType:t.columnistType},on:{switch:t.switchType}})],1):t._e(),t._v(" "),t.userData.library.length?a("bbt-col",{attrs:{span:{xs:8}}},[a("x-user-module",{attrs:{type:"library",title:"文库榜",hideTab:!0,data:t.userData.library}})],1):t._e(),t._v(" "),t.userData.gold.length?a("bbt-col",{attrs:{span:{xs:8}}},[a("x-user-module",{attrs:{type:"gold",title:"金币达人榜",data:t.userData.gold,currentType:t.goldType},on:{switch:t.switchType}})],1):t._e(),t._v(" "),t.userData.forum.length?a("bbt-col",{attrs:{span:{xs:8}}},[a("x-user-module",{attrs:{type:"forum",title:"社区人气榜",data:t.userData.forum,currentType:t.forumType},on:{switch:t.switchType}})],1):t._e()],1)}),[],!1,null,null,null).exports;function O(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var j={components:{XBanner:o.a,XTab:c.a,XContent:_,XUser:C},data:function(){return{isLoading:!1,bannerData:{title:"排行榜",desc:"为您展示最热门的社区榜单",bgPic:"/images/banner/author@2x.png",holdHeight:"160"}}},watchQuery:["type"],fetch:function(t){var e=t.store,a=(t.cookie,t.res,t.error,t.redirect,t.route.query.type);return Object(n.a)(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=[],i="user"===a?[e.dispatch("rank/FETCH_USER_LIST",{params:{type:"answer"}}),e.dispatch("rank/FETCH_USER_LIST",{params:{type:"ama"}}),e.dispatch("rank/FETCH_USER_LIST",{params:{type:"columnist",time:"week"}}),e.dispatch("rank/FETCH_USER_LIST",{params:{type:"library"}}),e.dispatch("rank/FETCH_USER_LIST",{params:{type:"gold",time:"week"}}),e.dispatch("rank/FETCH_USER_LIST",{params:{type:"forum",time:"week"}})]:[e.dispatch("rank/FETCH_CONTENT_LIST",{params:{type:"hot",time:"week"}}),e.dispatch("rank/FETCH_CONTENT_LIST",{params:{type:"information"}}),e.dispatch("rank/FETCH_CONTENT_LIST",{params:{type:"answer"}}),e.dispatch("rank/FETCH_CONTENT_LIST",{params:{type:"library"}}),e.dispatch("rank/FETCH_CONTENT_LIST",{params:{type:"forum"}}),e.dispatch("rank/FETCH_CONTENT_LIST",{params:{type:"project"}}),e.dispatch("rank/FETCH_CONTENT_LIST",{params:{type:"activity"}})],t.abrupt("return",Promise.all(Object(r.a)(i)).catch((function(t){})));case 3:case"end":return t.stop()}}),t)})))()},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?O(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(s.c)({menu:function(t){return t.menu}}),{menuData:function(){return this.menu.ranking},type:function(){return this.$route.query.type},currentId:function(){var t=this,e=0;return this.menuData.map((function(a,i){a.type===t.type&&(e=i)})),e},currentIndex:function(){var t=this,e=0;return this.menuData.map((function(a,i){i==t.currentId&&(e=i)})),e}}),watch:{$route:function(){this.isLoading=!1}},methods:{switchTab:function(t){this.$router.push({name:"ranking",query:{type:t.type}})}},head:function(){return{title:"ChainNode排行榜"}}},D=(a(1170),Object(d.a)(j,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("x-banner",{attrs:{banner:t.bannerData}}),t._v(" "),t.menuData.length?a("div",{staticClass:"tab-wrap"},[a("div",{staticClass:"tab-wrap__relative"},[a("div",{staticClass:"bbt-container"},[a("x-tab",{staticStyle:{"margin-bottom":"0",display:"inline-block"},attrs:{menu:t.menuData,currentId:t.currentId,currentIndex:t.currentIndex},on:{switch:t.switchTab}})],1)])]):t._e(),t._v(" "),a("div",{staticClass:"bbt-container"},[a("bbt-loading",{style:t.isLoading?"min-height: 1000px;":"",attrs:{loading:t.isLoading}},[0==t.currentId?a("x-content"):a("x-user")],1)],1)],1)}),[],!1,null,"f9de5624",null));e.default=D.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6),a(12),a(25);var i,r,n,s=a(1),o=(a(4),a(3),a(19),a(29),a(16)),c=a(2),l=a(8),u={props:{data:{type:Object},styles:{type:String}}},d=a(0),p=Object(d.a)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("bbt-crumb",{staticStyle:{"margin-bottom":"0"},attrs:{type:t.styles,icon:"right"}},[a("bbt-crumb-item",[a("nuxt-link",{attrs:{to:{name:"index"}}},[a("bbt-icon",{staticStyle:{"font-size":"12px"},attrs:{type:"home"}}),t._v(" ChainNode 链节点\n      ")],1)],1),t._v(" "),a("bbt-crumb-item",[a("nuxt-link",{attrs:{to:{name:"library"}}},[t._v("区块链文库")])],1),t._v(" "),a("bbt-crumb-item",[t._v("\n      "+t._s(t.data.title)+"\n    ")])],1)],1)}),[],!1,null,null,null).exports,m=(a(33),a(18)),f=a(114),h=a(17);function v(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function b(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?v(Object(a),!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var _,g,y={inject:["injectData"],components:{XAdminBar:f.a},data:function(){return{isValid:!0,errorText:"请输入不少于5个字",form:{comment:"",star:0},rules:{comment:[{required:!0,message:"请输入评论内容",trigger:"blur"},{min:5,message:"请输入不少于5个字",trigger:"blur"}]},currentPage:1,pageSize:10,isLoading:!1,isSubmitLoading:!1}},computed:b({},Object(c.c)({userinfo:function(t){return t.userinfo},comment:function(t){return t.libraryComment},manage:function(t){return t.manage}}),{uid:function(){return this.userinfo.uid},routeId:function(){return this.$route.params.id},commentData:function(){return this.comment.items[this.routeId]},totalNum:function(){return Number(this.commentData&&this.commentData.total)||0},manageOther:function(){return this.manage.manage.other},canManage:function(){return this.manage.manage.other&&Object(l.h)(this.manage.manage.other)||!1}}),watch:{$route:function(){this.currentPage=1,this.isValid=!0}},methods:(i=Object(h.a)(),r=Object(h.a)(),n={like:function(t,e,a){var i=this;this.$store.dispatch("libraryComment/COMMENT_LIKE",{params:{id:t,uid:this.uid,type:a},index:e,id:this.routeId}).catch((function(t){i.$message({message:t.message,type:"danger"})}))},replyCancel:function(t){this.$store.commit("libraryComment/SET_REPLY_STATUS",{id:this.routeId,index:t,key:"is_reply",value:"1"})},reply:function(t){this.$store.commit("libraryComment/SET_REPLY_STATUS",{id:this.routeId,index:t,key:"is_reply",value:"0"}),setTimeout((function(){document.getElementById("reply_comment_".concat(t)).focus()}))},replySubmit:function(t,e){var a=this;this.$store.commit("libraryComment/SET_REPLY_STATUS",{id:this.routeId,index:t,key:"is_loading",value:!0}),this.fetchComment(this.commentData.list[t].reply_comment,e).then((function(){a.$store.commit("libraryComment/SET_REPLY_STATUS",{id:a.routeId,index:t,key:"is_reply",value:"1"}),a.$store.commit("libraryComment/SET_REPLY_STATUS",{id:a.routeId,index:t,key:"is_loading",value:!1}),a.$store.commit("libraryComment/SET_REPLY_STATUS",{id:a.routeId,index:t,key:"reply_comment",value:""})}),(function(){a.$store.commit("libraryComment/SET_REPLY_STATUS",{id:a.routeId,index:t,key:"is_loading",value:!1}),a.$message({message:"评论失败，请再试一次",type:"danger"})}))},onSubmit:function(){var t=this;this.$refs.form.validate((function(e){e&&(t.isSubmitLoading=!0,t.fetchComment(t.form.comment).then((function(){t.form.comment="",t.isSubmitLoading=!1}),(function(){t.isSubmitLoading=!1,t.$message({message:"回复失败，请再试一次",type:"danger"})})))}))},fetchComment:function(t,e){var a=this,i={};return e&&(i={pid:e}),this.$store.dispatch("libraryComment/ADD_COMMENT",{params:b({id:this.routeId,uid:this.uid,message:Object(l.c)(t).replace(/\r\n/gi,"<br>").replace(/\n/gi,"<br>"),star:this.form.star||5},i)}).then((function(t){a.form.star=0})).catch((function(t){a.$message({message:t.message,type:"danger"})}))},changePage:function(t){var e=this;t===this.currentPage||this.isLoading||(this.isLoading=!0,this.$store.dispatch("libraryComment/FETCH_SINGLE",{params:{id:this.routeId,page:t},id:this.routeId}).then((function(){e.isLoading=!1,e.currentPage=t})).catch((function(){e.isLoading=!1})))},checkValid:function(t,e){e?t.replace(/<[^>]+>/g,"").replace(/(^\s*)|(\s*$)/g,"").length<5?(this.isValid=!1,this.errorText="请输入不少于5个字"):this.isValid=!0:(this.isValid=!1,this.errorText="包含敏感词")}},Object(m.a)(n,"like",[i],Object.getOwnPropertyDescriptor(n,"like"),n),Object(m.a)(n,"reply",[r],Object.getOwnPropertyDescriptor(n,"reply"),n),n)},w=(a(1459),a(1460),Object(d.a)(y,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"comment-module",attrs:{id:"comment"}},[a("div",{staticClass:"comment-module__title"},[t._v("\n    用户评论\n  ")]),t._v(" "),a("bbt-loading",{attrs:{loading:t.isLoading}},[t.commentData&&t.commentData.list&&t.commentData.list.length?a("ul",{staticClass:"comment-module__list"},t._l(t.commentData.list,(function(e,i){return a("li",{key:i,staticClass:"comment"},[a("div",{staticClass:"comment__title"},[a("nuxt-link",{staticClass:"link-dark-major",attrs:{target:"_blank",to:"/user/"+e.author_info.uid}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.author_info.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                src: item.author_info.avatar,\n                error: '/images/default/avatar.gif',\n                loading: '/images/default/avatar.gif',\n              }"}],staticClass:"bbt-avatar bbt-avatar--sm",attrs:{src:"/images/default/avatar.gif"}}),t._v("\n            "+t._s(e.author_info.username)+"\n          ")]),t._v(" "),a("span",{staticClass:"comment__level"},[t._v("\n            "+t._s(e.author_info.grouptitle)+"\n          ")]),t._v(" "),a("span",{staticClass:"comment__age"},[t._v("\n            船龄\n            "),a("b",{staticStyle:{color:"rgba(0,0,0,0.88)"}},[t._v(t._s(e.author_info.date))])]),t._v(" "),a("span",{staticClass:"bbt-dot"}),t._v(" "),a("span",{staticClass:"comment__time"},[t._v("\n            "+t._s(e.uploaddate)+"\n          ")]),t._v(" "),a("span",{staticClass:"bbt-dot"}),t._v(" "),a("el-rate",{staticStyle:{display:"inline-block","vertical-align":"middle","margin-left":"8px"},attrs:{disabled:"","show-score":"","allow-half":""},model:{value:e.star,callback:function(a){t.$set(e,"star",a)},expression:"item.star"}})],1),t._v(" "),a("div",{staticClass:"comment__content"},[e.ishiddenreplies||"-5"==e.invisible?a("div",{staticClass:"isHidden"},[a("bbt-icon",{staticStyle:{"font-size":"16px",color:"rgba(0, 0, 0, 0.56)","margin-right":"4px"},attrs:{type:"lock"}}),t._v(t._s(e.comment)+"\n          ")],1):a("div",{domProps:{innerHTML:t._s(e.comment)}})]),t._v(" "),a("div",{staticClass:"comment__action"},[t.canManage?a("div",{staticClass:"comment__action-item link-dark-minor"},[a("x-admin-bar",{attrs:{manageOther:t.manageOther,pid:e.commentid,area:"doc"}})],1):t._e(),t._v(" "),"0"==e.is_like?a("a",{staticClass:"comment__action-item link-dark-minor",attrs:{href:"javascript:;"},on:{click:function(a){return t.like(e.commentid,i,"support")}}},[a("bbt-icon",{attrs:{type:"thumb-up"}}),t._v(" "+t._s(e.support)+" 赞\n          ")],1):a("a",{staticClass:"comment__action-item link-primary",attrs:{href:"javascript:;"}},[a("bbt-icon",{attrs:{type:"thumb-up"}}),t._v(" "+t._s(e.support)+" 赞\n          ")],1),t._v(" "),a("a",{staticClass:"comment__action-item link-dark-minor",attrs:{href:"javascript:;"},on:{click:function(e){return t.reply(i)}}},[a("bbt-icon",{attrs:{type:"reply"}}),t._v(" 回复\n          ")],1),t._v(" "),"0"==e.is_against?a("a",{staticClass:"comment__action-item link-dark-minor",attrs:{href:"javascript:;"},on:{click:function(a){return t.like(e.commentid,i,"against")}}},[a("bbt-icon",{attrs:{type:"thumb-down"}}),t._v(" "+t._s(e.against)+" 踩\n          ")],1):a("a",{staticClass:"comment__action-item link-primary",attrs:{href:"javascript:;"}},[a("bbt-icon",{attrs:{type:"thumb-down"}}),t._v(" "+t._s(e.against)+" 踩\n          ")],1)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"0"==e.is_reply,expression:"item.is_reply == '0'"}],staticClass:"reply-form"},[a("div",{staticClass:"reply-form__comment-wrap"},[a("el-input",{staticClass:"reply-form__comment",attrs:{type:"textarea",autosize:{minRows:1},id:"reply_comment_"+i,placeholder:"回复"+e.author_info.username+"："},model:{value:e.reply_comment,callback:function(a){t.$set(e,"reply_comment",a)},expression:"item.reply_comment"}})],1),t._v(" "),a("div",{staticClass:"reply-form__action"},[a("bbt-btn",{attrs:{type:"default",link:""},on:{click:function(e){return t.replyCancel(i)}}},[t._v("取消")]),t._v(" "),a("bbt-btn",{attrs:{type:"primary",disabled:e.reply_comment.replace(/\{\{emoji(([1-6][0-9]?)|(7[0-1])|(0))\}\}/g,"").length<5||"1"==e.is_loading},on:{click:function(a){return t.replySubmit(i,e.commentid)}}},["0"==e.is_loading?a("span",[t._v("回复")]):a("span",[t._v("回复中")])])],1)])])})),0):t._e(),t._v(" "),a("div",{staticClass:"comment-module__page"},[t.totalNum>t.pageSize?a("el-pagination",{attrs:{layout:"prev, pager, next","current-page":Number.parseInt(t.currentPage),"page-size":t.pageSize,total:t.totalNum},on:{"current-change":t.changePage}}):t._e()],1)]),t._v(" "),t.userinfo.uid?a("el-form",{ref:"form",staticClass:"comment-module__form",attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{staticStyle:{"margin-bottom":"16px"},attrs:{prop:"comment"}},[a("span",{staticStyle:{display:"inline-block","vertical-align":"middle"}},[t._v("打分：")]),a("el-rate",{staticStyle:{display:"inline-block","vertical-align":"middle"},attrs:{"show-text":"",texts:["1星","2星","3星","4星","5星"]},model:{value:t.form.star,callback:function(e){t.$set(t.form,"star",e)},expression:"form.star"}})],1),t._v(" "),a("el-form-item",{staticStyle:{"margin-bottom":"16px"},attrs:{prop:"comment"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3},placeholder:"请发表你的真知灼见（不少于5个字）..."},model:{value:t.form.comment,callback:function(e){t.$set(t.form,"comment",e)},expression:"form.comment"}})],1),t._v(" "),a("el-form-item",{staticStyle:{"text-align":"right","margin-bottom":"0"}},[a("bbt-btn",{attrs:{type:"primary",disabled:t.isSubmitLoading},on:{click:t.onSubmit}},[t.isSubmitLoading?a("span",[t._v("评论发表中")]):a("span",[t._v("发表评论")])])],1)],1):a("div",{staticClass:"comment-module__alert"},[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"login-password",query:{back_url:t.$route.path}}}},[t._v("\n      登录\n    ")]),t._v("\n    账号发表你的看法，还没有账号？立即免费\n    "),a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"register",query:{redirect_url:t.$route.fullPath}}}},[t._v("\n      注册\n    ")])],1)],1)}),[],!1,null,"445c5157",null).exports),k={props:{data:{type:Object}}},x=(a(1461),Object(d.a)(k,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header-module bbt-clearfix"},[a("div",{staticClass:"header-module__box"},[a("h1",[t._v("\n      "+t._s(t.data.title)+"\n    ")]),t._v(" "),a("div",{staticClass:"header-module__info bbt-clearfix"},[a("div",{staticClass:"header-module__author"},[a("span",{staticClass:"font-medium"},[a("nuxt-link",{staticClass:"link-dark-major",attrs:{target:"_blank",to:"/user/"+t.data.userid}},[t._v(t._s(t.data.username))])],1),t._v(" "),a("span",{staticClass:"bbt-dot"}),t._v(" "),a("time",{attrs:{datatime:t.data.uploaddate}},[t._v(t._s(t.data.uploaddate))]),t._v(" "),a("span",{staticClass:"bbt-dot"}),t._v(" "),a("el-rate",{staticStyle:{display:"inline-block","vertical-align":"middle"},attrs:{disabled:"","show-score":"","allow-half":""},model:{value:t.data.star,callback:function(e){t.$set(t.data,"star",e)},expression:"data.star"}}),t._v(" "),a("span",[t._v("（"+t._s(t.data.star_count)+"次评价）")])],1),t._v(" "),a("div",{staticClass:"header-module__num"},[a("span",[a("bbt-icon",{attrs:{type:"eye"}}),t._v(" "+t._s(t.data.viewcount)+"\n        ")],1),t._v(" "),a("span",[a("bbt-icon",{attrs:{type:"download"}}),t._v(" "+t._s(t.data.downcount)+"\n        ")],1)])])])])}),[],!1,null,"17a59ec2",null).exports),C=a(105),O=a(15),j=a(14);function D(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var S,P,E={inject:["injectData"],components:{XDialog:C.a},props:{pagesData:{type:Object},libraryData:{type:Object},isfullscreen:{type:Boolean}},data:function(){return{isVisible:!1,isLoading:!1,page:1,freepage:"0"==this.libraryData.readpay?this.libraryData.pages:this.libraryData.freepage,scrollTop:0,windowHeight:0,elemTopScroll:0,cls:null,offsetArr:[],debounceSFn:null,debounceRFn:null}},watch:{pagesData:{handler:function(){if(this.pagesData&&this.pagesData.list&&this.pagesData.list.length){this.offsetArr=[];for(var t=1;t<=this.pagesData.list.length;t++)this.offsetArr.push(Object(j.i)(document.getElementById("page".concat(t))).y)}},deep:!0},isfullscreen:{handler:function(){if(this.pagesData&&this.pagesData.list&&this.pagesData.list.length){this.offsetArr=[];for(var t=1;t<=this.pagesData.list.length;t++)this.offsetArr.push(Object(j.i)(document.getElementById("page".concat(t))).y)}},deep:!0}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?D(Object(a),!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(c.c)({userinfo:function(t){return t.userinfo},token:function(t){return t.token}}),{uid:function(){return this.userinfo.uid}}),mounted:function(){this.windowHeight=document.documentElement.clientHeight,this.handleScroll(),this.handleResize(),this.debounceSFn=Object(j.b)(this.handleScroll,100),this.debounceRFn=Object(j.b)(this.handleResize,100),this.$nextTick((function(){window.addEventListener("scroll",this.debounceSFn),window.addEventListener("resize",this.debounceRFn)}))},destroyed:function(){window.removeEventListener("scroll",this.debounceSFn),window.removeEventListener("resize",this.debounceRFn)},methods:(_=Object(h.a)(),g={closeDialog:function(){this.isVisible=!1},goPay:function(){var t=this;this.isLoading||(this.isLoading=!0,this.$store.dispatch("library/FETCH_DOWNLOAD",{params:{uid:this.uid,docid:this.$route.params.id,downpay:Math.abs(this.libraryData.downpay)}}).then((function(e){t.isLoading=!1,t.isVisible=!1,window.location.href="".concat(O.e.forum_api,"/forum/ds-docinfo/doc-down?uid=").concat(t.uid,"&token=").concat(t.token,"&docid=").concat(t.$route.params.id,"&downpay=").concat(Math.abs(t.libraryData.downpay),"&docpath=").concat(e.docpath)})).catch((function(e){t.isLoading=!1,t.$message({type:"danger",message:e.message})})))},download:function(){this.libraryData.is_down||Number.parseInt(this.libraryData.downpay)<=0?this.goPay():this.isVisible=!0},goPage:function(t){document.getElementById("page".concat(t))?document.getElementById("page".concat(t)).scrollIntoView():this.page=1},prev:function(){this.page>1&&this.page--,this.$emit("prev",this.page)},next:function(){this.page<this.freepage&&this.page++,this.$emit("next",this.page)},fullscreen:function(){this.$emit("fullscreen"),document.getElementById("library-module__full")&&(document.getElementById("library-module__full").removeEventListener("scroll",this.handleFixScroll),document.getElementById("library-module__full").addEventListener("scroll",this.handleFixScroll))},handleFixScroll:function(){var t=this;this.scrollTop=document.getElementById("library-module__full").scrollTop;var e=1;this.offsetArr.map((function(a,i){t.scrollTop+t.windowHeight>=a&&(e=i+1)})),this.page=e},handleScroll:function(){var t=this;this.elemTopScroll=Object(j.i)(document.getElementsByClassName("page-module")[0]).y,this.scrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,this.scrollTop+this.windowHeight>=this.elemTopScroll?this.cls=null:this.cls="fixed";var e=1;this.offsetArr.map((function(a,i){t.scrollTop+t.windowHeight>=a&&(e=i+1)})),this.page=e},handleResize:function(){this.windowHeight=document.documentElement.clientHeight,this.elemTopScroll=Object(j.i)(document.getElementsByClassName("page-module")[0]).y,this.scrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,this.scrollTop+this.windowHeight>=this.elemTopScroll?this.cls=null:this.cls="fixed"}},Object(m.a)(g,"download",[_],Object.getOwnPropertyDescriptor(g,"download"),g),g)};a(1462);function T(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var $={inject:["injectData"],components:{XPageModule:Object(d.a)(E,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-module"},[a("div",{staticClass:"page-module__fix",class:t.cls},[a("div",{class:"fixed"===t.cls?"bbt-container":""},[a("div",{staticClass:"bbt-clearfix",class:"fixed"===t.cls?t.isfullscreen?"bbt-col-xs-24":"bbt-col-xs-16":"",staticStyle:{"padding-left":"0"}},[a("div",{staticClass:"page-module__left"},[t.isfullscreen?a("span",{staticClass:"page-module__fullscreen",on:{click:t.fullscreen}},[a("bbt-icon",{staticStyle:{"font-size":"20px","vertical-align":"middle","margin-right":"8px"},attrs:{type:"fullscreen-exit"}})],1):a("span",{staticClass:"page-module__fullscreen",on:{click:t.fullscreen}},[a("bbt-icon",{staticStyle:{"font-size":"20px","vertical-align":"middle","margin-right":"8px"},attrs:{type:"fullscreen"}})],1),t._v(" "),a("div",{staticClass:"page-module__page"},[a("span",{attrs:{disabled:t.page<=1},on:{click:t.prev}},[a("bbt-icon",{attrs:{type:"left"}})],1),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.page,expression:"page"}],attrs:{type:"number"},domProps:{value:t.page},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.goPage(t.page)},input:function(e){e.target.composing||(t.page=e.target.value)}}}),t._v("\n            / "+t._s(t.libraryData.pages)+"\n            "),a("span",{attrs:{disabled:t.page>=t.freepage},on:{click:t.next}},[a("bbt-icon",{attrs:{type:"right"}})],1)])]),t._v(" "),a("div",{staticClass:"page-module__right"},[a("bbt-btn",{attrs:{type:"primary"},on:{click:t.download}},[a("bbt-icon",{attrs:{type:"download"}}),t._v("下载文档")],1)],1)])])]),t._v(" "),t.isVisible?a("x-dialog",{attrs:{type:"load",data:t.libraryData,isVisible:t.isVisible,isLoading:t.isLoading},on:{close:function(e){return t.closeDialog()},pay:t.goPay}}):t._e()],1)}),[],!1,null,"96649ecc",null).exports,XDialog:C.a},props:{pagesData:{type:Object},libraryData:{type:Object},isErr:{type:Boolean}},data:function(){return{isVisible:!1,isfullscreen:!1,pageSize:3,pageCount:1,isLoading:!this.pagesData||!this.pagesData.list,length:this.pagesData&&this.pagesData.list&&this.pagesData.list.length?this.pagesData.list.length:0}},mounted:function(){window.addEventListener("keydown",this.handleKeydown)},destroyed:function(){window.removeEventListener("keydown",this.handleKeydown)},watch:{pagesData:{handler:function(){this.isLoading=!this.pagesData||!this.pagesData.list,this.length=this.pagesData&&this.pagesData.list&&this.pagesData.list.length?this.pagesData.list.length:0},deep:!0},$route:function(){this.pageCount=1}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?T(Object(a),!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(c.c)({userinfo:function(t){return t.userinfo}}),{freepage:function(){return Number(this.libraryData.freepage)||0},uid:function(){return this.userinfo.uid},id:function(){return this.$route.params.id}}),methods:(S=Object(h.a)(),P={closeDialog:function(){this.isVisible=!1},openDialog:function(){this.isVisible=!0},handleKeydown:function(){27==window.event.keyCode&&(this.isfullscreen=!1)},prev:function(t){document.getElementById("page".concat(t))&&document.getElementById("page".concat(t)).scrollIntoView()},next:function(t){var e=this;document.getElementById("page".concat(t))&&document.getElementById("page".concat(t)).scrollIntoView(),this.isLoading||t>this.pagesData.list.length&&(this.isLoading=!0,this.pageCount++,this.$store.dispatch("library/FETCH_PAGES_NEXT",{params:{docid:this.id,num:this.freepage-this.pageSize<=this.pageSize?this.freepage-this.pageSize:this.pageSize,page:this.pageCount,uid:this.uid,renderpage:this.length},id:this.id}).then((function(){e.isLoading=!1})).catch((function(t){e.pageCount--,e.isLoading=!1})))},fullscreen:function(){this.isfullscreen=!this.isfullscreen},payRead:function(){var t=this;this.isLoading||(this.isLoading=!0,this.$store.dispatch("library/FETCH_READ",{params:{docid:this.id,readpay:this.libraryData.readpay}}).then((function(){t.isVisible=!1,t.isLoading=!1})).catch((function(e){t.isLoading=!1,t.$message({type:"danger",message:e.message})})))}},Object(m.a)(P,"openDialog",[S],Object.getOwnPropertyDescriptor(P,"openDialog"),P),P)},L=(a(1463),a(1464),Object(d.a)($,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"library-module",class:{"library-module__full":t.isfullscreen},attrs:{id:"library-module__full"}},[!t.isErr&&t.pagesData&&t.pagesData.list&&t.pagesData.list.length?a("div",{staticClass:"library-module__svgs"},t._l(t.pagesData.list,(function(e,i){return a("div",{key:i,staticClass:"library-module__item",attrs:{id:"page"+(i+1)}},[a("div",{domProps:{innerHTML:t._s(e.replace("\ufeff",""))}})])})),0):t._e(),t._v(" "),!t.isErr&&t.isLoading?a("div",{staticClass:"library-module__loading"},[a("div",{staticClass:"library-module__item",attrs:{id:"page"+(t.length+1)}},[a("bbt-loading",{attrs:{loading:t.isLoading}})],1),t._v(" "),a("div",{staticClass:"library-module__item",attrs:{id:"page"+(t.length+2)}},[a("bbt-loading",{attrs:{loading:t.isLoading}})],1),t._v(" "),a("div",{staticClass:"library-module__item",attrs:{id:"page"+(t.length+3)}},[a("bbt-loading",{attrs:{loading:t.isLoading}})],1)]):t._e(),t._v(" "),t.isErr?a("div",{staticClass:"err-moudle"},[a("bbt-loading",{attrs:{loading:t.isLoading}})],1):t._e(),t._v(" "),!t.isErr&&Number.parseInt(t.libraryData.pages)>t.freepage&&t.pageCount*t.pageSize>=t.freepage&&!t.libraryData.is_read?a("bbt-btn",{staticStyle:{"margin-bottom":"24px"},attrs:{type:"default",block:"",size:"lg"},on:{click:t.openDialog}},[t._v("免费阅读已结束,继续阅读需花费金币:"+t._s(t.libraryData.readpay))]):t._e(),t._v(" "),!t.isErr&&t.pageCount*t.pageSize<t.freepage||!t.isErr&&t.pageCount*t.pageSize<t.libraryData.pages&&(t.libraryData.is_read||t.libraryData.pages==t.freepage)?a("bbt-btn",{staticStyle:{"margin-bottom":"24px"},attrs:{type:"default",block:"",size:"lg"},on:{click:function(e){return t.next(t.pageCount*t.pageSize+1)}}},[t._v("继续阅读")]):t._e(),t._v(" "),a("x-page-module",{attrs:{isfullscreen:t.isfullscreen,pagesData:t.pagesData,libraryData:t.libraryData},on:{next:t.next,prev:t.prev,fullscreen:t.fullscreen}}),t._v(" "),t.isVisible?a("x-dialog",{attrs:{type:"read",data:t.libraryData,isVisible:t.isVisible,isLoading:t.isLoading},on:{close:function(e){return t.closeDialog()},pay:t.payRead}}):t._e()],1)}),[],!1,null,"4cd4e991",null).exports),I={mixins:[a(47).a],props:{data:Array,needLazy:Boolean},methods:{fetchModule:function(){var t=this;this.$store.dispatch("library/FETCH_LIST",{params:{page_size:10,orderby:"viewcount"},type:"rank"}).then((function(){window.removeEventListener("scroll",t.debounceFn),t.debounceFn=null,t.isRender=!0,t.isLoading=!1})).catch((function(){t.isLoading=!1}))}}};a(1465);function F(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var N={components:{XCrumbs:p,XComment:w,XHeaderModule:x,XLibraryPagesModule:L,XHotLibraryModule:Object(d.a)(I,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data&&t.data.length||t.needLazy&&!t.isRender?a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    文库榜\n  ")]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[a("x-skeleton",{attrs:{needLazy:t.needLazy&&!t.isRender,skin:"hotdoc"}},[a("div",{staticClass:"library-box"},t._l(t.data,(function(e,i){return a("div",{key:i,staticClass:"library-item"},[a("div",{staticClass:"library-item__title"},[a("span",{class:"item-index item-index"+i},[t._v(t._s(i+1))]),t._v(" "),a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"doc-id",params:{id:""+e.docid}},target:"_blank"}},[t._v("\n              "+t._s(e.title)+"\n            ")])],1),t._v(" "),a("div",{staticClass:"library-item__num"},[a("el-rate",{staticStyle:{display:"inline-block"},attrs:{disabled:"","allow-half":""},model:{value:e.score,callback:function(a){t.$set(e,"score",a)},expression:"item.score"}}),t._v(" "),a("span",[t._v("下载量："),a("span",[t._v(t._s(e.downcount))])])],1)])})),0)])],1)]):t._e()}),[],!1,null,"f325ab94",null).exports},validate:function(t){var e=t.params;return/^[1-9]+[0-9]*]*$/.test(e.id)},fetch:function(t){var e=t.store,a=(t.cookie,t.res,t.error),i=(t.redirect,t.route.params.id);return Object(o.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.dispatch("library/FETCH_LIBRARY_SINGLE",{params:{docid:i},id:i});case 3:if((r=t.sent).docid&&r.freepage&&r.pages&&r.title){t.next=7;break}throw{code:404};case 7:t.next=16;break;case 9:if(t.prev=9,t.t0=t.catch(0),!t.t0||404!==t.t0.code){t.next=15;break}return t.abrupt("return",a({statusCode:404}));case 15:return t.abrupt("return",a({statusCode:500}));case 16:return t.abrupt("return",Promise.all([e.dispatch("libraryComment/FETCH_SINGLE",{params:{id:i},id:i}),e.dispatch("library/FETCH_LIST",{params:{page_size:10,orderby:"viewcount"},type:"rank"}),e.dispatch("manage/FETCH_MANAGE",{params:{type:"other"}})]).catch((function(t){})));case 17:case"end":return t.stop()}}),t,null,[[0,9]])})))()},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?F(Object(a),!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):F(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(c.c)({library:function(t){return t.library},userinfo:function(t){return t.userinfo}}),{uid:function(){return this.userinfo.uid},id:function(){return this.$route.params.id},libraryData:function(){return this.library.items[this.id]},pagesData:function(){return this.library.pages[this.id]},rankingData:function(){return this.library.rank.list||[]}}),data:function(){return{isErr:!1,pageSize:3}},mounted:function(){var t=this;this.$store.dispatch("library/FETCH_PAGES_SINGLE",{params:{docid:this.id,uid:this.uid,page:1,num:Number.parseInt(this.libraryData.freepage)>=this.pageSize?Number.parseInt(this.libraryData.freepage)>Number.parseInt(this.libraryData.pages)?Number.parseInt(this.libraryData.pages):this.pageSize:this.libraryData.freepage},id:this.id}).catch((function(e){t.isErr=!0}))},watch:{$route:function(){var t=this;this.isErr=!1,this.$store.dispatch("library/FETCH_PAGES_SINGLE",{params:{docid:this.id,uid:this.uid,page:1,num:Number.parseInt(this.libraryData.freepage)>=this.pageSize?Number.parseInt(this.libraryData.freepage)>Number.parseInt(this.libraryData.pages)?Number.parseInt(this.libraryData.pages):this.pageSize:this.libraryData.freepage},id:this.id}).catch((function(e){t.isErr=!0}))}},head:function(){return{title:"".concat(this.libraryData.title," - 区块链文库"),meta:[{hid:"description",name:"description",content:"".concat(this.libraryData.short)},{hid:"keywords",name:"keywords",content:"比特币,比特币资讯,区块链,区块链资讯,数字货币,数字货币资讯,虚拟货币,虚拟货币资讯"},{hid:"og:type",property:"og:type",content:"document"},{hid:"og:release_date",property:"og:release_date",content:this.libraryData.uploaddate},{hid:"og:title",property:"og:title",content:this.libraryData.title},{hid:"og:description",name:"og:description",content:"".concat(this.libraryData.short)},{hid:"og:document:type",property:"og:document:type",content:this.libraryData.docexeten}]}}},z=Object(d.a)(N,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main",staticStyle:{"margin-top":"24px"}},[a("div",{staticClass:"bbt-container"},[a("x-crumbs",{attrs:{data:t.libraryData}}),t._v(" "),a("bbt-row",[a("bbt-col",{attrs:{span:{xs:16}}},[a("x-header-module",{attrs:{data:t.libraryData}}),t._v(" "),a("x-library-pages-module",{attrs:{pagesData:t.pagesData,libraryData:t.libraryData,isErr:t.isErr}}),t._v(" "),a("x-comment")],1),t._v(" "),a("bbt-col",{attrs:{span:{xs:7},offset:1}},[a("x-hot-library-module",{attrs:{data:t.rankingData,needLazy:!1}})],1)],1)],1)])}),[],!1,null,null,null);e.default=z.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6);var i,r,n,s,o=a(18),c=a(1),l=(a(4),a(3),a(19),a(50)),u=(a(29),a(16)),d={props:{title:{type:String,required:!0},styles:{type:String,default:"light"}}},p=a(0),m=Object(p.a)(d,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("bbt-crumb",{staticStyle:{"margin-bottom":"0"},attrs:{type:this.styles,icon:"right"}},[e("bbt-crumb-item",[e("nuxt-link",{attrs:{to:{name:"index"}}},[e("bbt-icon",{staticStyle:{"font-size":"12px"},attrs:{type:"home"}}),this._v(" ChainNode\n        链节点\n      ")],1)],1),this._v(" "),e("bbt-crumb-item",[e("span",[this._v(this._s(this.title)+" ")])])],1)],1)}),[],!1,null,null,null).exports,f=(a(12),{props:{currentIndex:{type:String|Number,default:0},menu:{type:Array}},components:{},data:function(){return{}},methods:{switchTab:function(t,e){this.$emit("switch",t,e)}}}),h=(a(1513),Object(p.a)(f,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"live-tab"},[a("ul",t._l(t.menu,(function(e,i){return a("li",{key:i,class:{active:t.currentIndex===i},on:{click:function(a){return t.switchTab(e,i)}}},[t._v("\n      "+t._s(e.title)+"\n    ")])})),0)])}),[],!1,null,"3df877c3",null).exports),v={props:{data:Array},components:{},data:function(){return{}}},b=(a(1514),Object(p.a)(v,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"live-intro"},[a("ul",{staticClass:"live-intro__list"},t._l(t.data,(function(e,i){return a("li",{key:i},["single"===e.type?a("div",{staticClass:"single-list"},[a("a",{attrs:{href:e.url,target:"_blank",rel:"noopener nofollow"}},[a("img",{attrs:{src:e.cover_img,alt:""}})])]):a("ul",{staticClass:"double-list"},t._l(e.list,(function(e,i){return a("li",{key:i},[a("a",{attrs:{href:e.url,target:"_blank",rel:"noopener nofollow"}},[a("img",{attrs:{src:e.cover_img,alt:""}}),t._v(" "),a("p",{staticClass:"title"},[t._v("\n              "+t._s(e.title)+"\n            ")])])])})),0)])})),0)])}),[],!1,null,"26aee518",null).exports),_=(a(31),a(39),a(54),a(20)),g=(a(1515),a(538),{data:function(){return{isIE:!1,timeArray:2===this.theme?new Array(2*this.type).fill("0"):new Array(this.type).fill("00"),timeArrayT:2===this.theme?new Array(2*this.type).fill("0"):new Array(this.type).fill("00"),isAnimate:2===this.theme?new Array(2*this.type).fill(!1):new Array(this.type).fill(!1)}},props:{endDate:{type:[Date,Number,String],default:0},type:{type:[Number,String],default:4},theme:{type:[Number,String],default:1},timeUnit:{type:Array,default:function(){return[]}}},computed:{endTime:function(){return this.endDate instanceof Date?this.endDate.getTime():Number(this.endDate)>0?Number(this.endDate):0},step:function(){return 1===this.theme?1:2},arr:function(){var t=this.timeArray.length,e=this.step,a=[t-1,t-e-1,t-2*e-1,t-3*e-1];return a.length=this.type>1?this.type:1,a}},watch:{timeArray:function(t,e){var a=this,i=[];t.forEach((function(t,r){t!==e[r]&&(i.push({value:t,index:r}),a.$set(a.isAnimate,r,!0))})),setTimeout((function(){i.forEach((function(t){a.$set(a.timeArrayT,t.index,t.value)}))}),350)},endTime:function(t){t>0&&this.start()}},mounted:function(){(window.ActiveXObject||"ActiveXObject"in window||window.navigator.userAgent.indexOf("Edge")>-1)&&(this.isIE=!0),this.start(0)},beforeDestroy:function(){clearTimeout(this.timer)},methods:{start:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;clearTimeout(this.timer),this.timer=setTimeout((function(){var e=t.endTime-(new Date).getTime();e=e<0?0:e;var a=0,i=0,r=0,n=0,s=Number(t.type);s>=4?(a=Math.floor(e/864e5),i=Math.floor(e/36e5-24*a),r=Math.floor(e/6e4-1440*a-60*i),n=Math.floor(e/1e3-86400*a-3600*i-60*r)):s>=3?(i=Math.floor(e/36e5),r=Math.floor(e/6e4-60*i),n=Math.floor(e/1e3-3600*i-60*r)):s>=2?(r=Math.floor(e/6e4),n=Math.floor(e/1e3-60*r)):n=Math.floor(e/1e3);var o=[];1===Number(t.theme)?(s>=4&&o.push(String(a).padStart(2,"0")),s>=3&&o.push(String(i).padStart(2,"0")),s>=2&&o.push(String(r).padStart(2,"0")),o.push(String(n).padStart(2,"0"))):(s>=4&&o.push.apply(o,Object(_.a)(String(a).padStart(2,"0").split(""))),s>=3&&o.push.apply(o,Object(_.a)(String(i).padStart(2,"0").split(""))),s>=2&&o.push.apply(o,Object(_.a)(String(r).padStart(2,"0").split(""))),o.push.apply(o,Object(_.a)(String(n).padStart(2,"0").split("")))),t.timeArray=o,e>0?t.start():t.$emit("timeUp")}),e)},isTimeUnitShow:function(t){return!!this.arr.includes(t)&&!(t===this.timeArray.length-1&&!this.timeUnit[3])},setTimeUnit:function(t){switch(t){case this.timeArray.length-1:return this.timeUnit[3]||"";case this.timeArray.length-this.step-1:return this.timeUnit[2]||"";case this.timeArray.length-2*this.step-1:return this.timeUnit[1]||"";default:return this.timeUnit[0]||""}}}}),y=(a(1517),Object(p.a)(g,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:["vue-countdown-component",{theme2:1!==t.theme},{ie:t.isIE}]},[t._l(t.timeArray,(function(e,i){return[a("div",{key:i,class:["time-box"]},[a("div",{staticClass:"base"},[t._v("\n        "+t._s(e)+"\n        ")])]),t._v(" "),t.isTimeUnitShow(i)?a("div",{key:"unit-"+i,staticClass:"time-unit"},[t._v("\n      "+t._s(t.setTimeUnit(i))+"\n    ")]):t._e()]}))],2)}),[],!1,null,null,null).exports),w=a(17),k={inject:["injectData"],props:{live_code:String,listHeigh:String,commentList:Array,commentLoading:Boolean},data:function(){return{form:{comment:""},rules:{comment:[{required:!0,message:"请输入评论内容",trigger:"blur"}]},isSubmitLoading:!1,commentListDom:null}},mounted:function(){this.commentListDom=this.$refs.commentList},methods:(i=Object(w.a)(),r={scrollBottom:function(){this.commentListDom.scrollTo({top:this.commentListDom.scrollHeight,left:0,behavior:"smooth"})},onSubmit:function(){var t=this;this.$refs.form.validate((function(e){if(e){t.isSubmitLoading=!0;var a={live_code:t.live_code,message:t.form.comment};t.$api.post("/api/php/pili/pili-comments/comment",a).then((function(e){e.data.data.status?t.$message({message:"评论成功",type:"success"}):t.$message({message:"评论失败",type:"danger"}),t.isSubmitLoading=!1,t.form.comment=""}),(function(e){t.$message({message:"评论失败",type:"danger"}),t.isSubmitLoading=!1,t.form.comment=""}))}}))}},Object(o.a)(r,"onSubmit",[i],Object.getOwnPropertyDescriptor(r,"onSubmit"),r),r)},x=(a(1518),Object(p.a)(k,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ul",{ref:"commentList",staticClass:"comment-list",style:{height:t.listHeigh}},[t.commentLoading?a("li",{staticClass:"comment-list__loading"},[t._v("评论加载中...")]):t._e(),t._v(" "),t._l(t.commentList,(function(e,i){return a("li",{key:i},[a("div",{staticClass:"comment-list__card"},[a("div",{staticClass:"user-avatar"},[a("img",{attrs:{src:e.author_info.avatar,alt:e.author_info.name}}),t._v(" "),a("span",{staticClass:"user-avatar__name"},[t._v("\n            "+t._s(e.author_info.name)+"\n          ")]),t._v(" "),e.author_role?a("span",{staticClass:"is-admin"},[t._v("\n            官方\n          ")]):t._e()]),t._v(" "),a("div",{staticClass:"user-content"},[a("div",{staticClass:"user-content__message"},[t._v("\n            "+t._s(e.message)+"\n          ")])])])])}))],2),t._v(" "),a("div",{staticClass:"comment-module"},[a("el-form",{ref:"form",staticClass:"comment-module__form",attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{staticStyle:{"margin-bottom":"16px"},attrs:{prop:"comment"}},[a("el-input",{staticClass:"live-textarea",attrs:{type:"textarea",autosize:{minRows:3},placeholder:"说点什么..."},model:{value:t.form.comment,callback:function(e){t.$set(t.form,"comment",e)},expression:"form.comment"}})],1),t._v(" "),a("el-form-item",{staticStyle:{"text-align":"right","margin-bottom":"0"}},[a("bbt-btn",{attrs:{type:"primary",disabled:t.isSubmitLoading},on:{click:t.onSubmit}},[t.isSubmitLoading?a("span",[t._v("评论发表中")]):a("span",[t._v("发表评论")])])],1)],1)],1)])}),[],!1,null,"627effe2",null).exports),C=a(40),O=a.n(C),j=a(177),D={components:{"no-ssr":O.a,Share:j.a},props:{shareConfig:Object},data:function(){return{weiboStyle:{color:"#fff",marginRight:"12px",fontSize:"16px",padding:"4px"},wechatStyle:{color:"#fff",marginRight:"12px",fontSize:"16px",padding:"4px"}}}},S=(a(1519),Object(p.a)(D,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bottom-info"},[e("div",{staticClass:"bbt-container bbt-flex"},[e("div",{staticClass:"biz-share"},[e("div",{staticClass:"biz-share__biz"},[this._v("\n        商务合作邮箱：business@8btc.com 微信：Business_8BTC\n      ")]),this._v(" "),e("div",{staticClass:"biz-share__share"},[this._v("\n        分享到：\n        "),e("no-ssr",[e("share",{attrs:{config:this.shareConfig,weiboStyle:this.weiboStyle,wechatStyle:this.wechatStyle}})],1)],1)])])])}),[],!1,null,"10442c5b",null).exports),P=a(525),E=a(2),T=a(24),$=a.n(T),L=a(828),I=a.n(L),F=a(829),N=a.n(F),z=a(15),M=a(14);function A(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function H(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?A(Object(a),!0).forEach((function(e){Object(c.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var R={inject:["injectData"],components:{liveCrumbs:m,liveTab:h,liveIntro:b,liveFlipDown:y,liveBizShare:S,XConfirmDialog:P.a,liveCommentList:x},data:function(){return{live_code:this.$route.params.id,commentListRef:null,commentList:[],currentIndex:0,isShowConfirm:!1,ruleForm:{mobile:null},orderRules:{mobile:[{required:!0,message:"请输入手机号码",trigger:"blur"},{min:11,max:11,message:"请输入正确的手机号码",trigger:"blur"}]},socketIO:null,liveReportToken:null,watermarkShow:!1,floatTimer:null,commentListDom:null,debounceScrollFn:null,commentPage:1,commentListTotal:0,commentLoading:!1}},fetch:function(t){var e=t.store,a=t.route;return Object(u.a)(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=a.params.id,e.dispatch("live/getFoatStatus",{params:{live_code:i}});case 2:case"end":return t.stop()}}),t)})))()},asyncData:function(t){t.store;var e=t.app,a=t.route,i=t.error;return Object(u.a)(regeneratorRuntime.mark((function t(){var r,n,s,o,c,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=e.$api,n=a.params.id,t.next=5,Promise.all([r.get("/api/php/pili/pili-index/detail",{live_code:n}),r.get("/api/php/pili/pili-share/detail",{live_code:n})]);case 5:return s=t.sent,o=Object(l.a)(s,2),c=o[0],u=o[1],t.abrupt("return",{liveInfo:c.data.data,live_id:c.data.data.live_id,menuData:c.data.data.menu.slice(0,2),currentId:0,liveShareInfo:u.data.data});case 12:if(t.prev=12,t.t0=t.catch(0),!t.t0||404!==t.t0.code){t.next=18;break}return t.abrupt("return",i({statusCode:404}));case 18:return t.abrupt("return",i({statusCode:500}));case 19:case"end":return t.stop()}}),t,null,[[0,12]])})))()},computed:H({},Object(E.c)({ip:function(t){return t.ip},floatList:function(t){return t.live.floatList},flow_status:function(t){return t.live.flow_status}}),{mobile:function(){return this.userinfo.mobile},formatMenuDate:function(){var t=this;return this.menuData.filter((function(e,a){return a===t.currentIndex}))},isSubscribe:function(){return this.liveInfo.is_subscribe},liveNotStart:function(){return 0===this.liveInfo.status},living:function(){return 1===this.liveInfo.status},liveEnd:function(){return 2===this.liveInfo.status},countDownStartTime:function(){if(this.liveNotStart){var t=$()(new Date);return $()(1e3*this.liveInfo.start_time).diff(t,"second")}},introCommentHeight:function(){var t={};return this.liveNotStart?(t.commentHeight=this.liveInfo.ad_resource?"432px":"336px",t.introHeight=this.liveInfo.ad_resource?"603px":"507px"):(t.commentHeight=this.liveInfo.ad_resource?"366px":"270px",t.introHeight=this.liveInfo.ad_resource?"537px":"441px"),t},mainBgStyle:function(){return this.liveInfo.website_logo?{backgroundImage:"linear-gradient(180deg, rgba(255, 255, 255, 0.5) 0%, rgb(255, 255, 255) 100%),url('".concat(this.liveInfo.website_logo,"')")}:{background:"#2e2e2e",backgroundImage:"linear-gradient(179deg,hsla(0,0%,100%,0) 7%,#fff 100%)"}},shareConfig:function(){return{url:"".concat(z.e.host).concat(this.$route.fullPath),title:"".concat(this.liveShareInfo.title),image:"".concat(this.liveShareInfo.img),description:"".concat(this.liveShareInfo.desc),sites:["weibo","wechat"]}}}),validate:function(t){return t.params.id},watch:{flow_status:function(t){var e=this;this.$nextTick((function(){e.$router.go(0)}))}},mounted:function(){var t=this;this.commentListRef=this.$refs.commentListRef[0],this.$nextTick((function(){t.living&&(t.floatTimer=setInterval((function(){t.$store.dispatch("live/getFoatStatus",{params:{live_code:t.live_code}})}),5e3)),t.genLiveReportToken(),document&&document.getElementById("mse")&&t.createPlayer(),t.reportLog(),t.reportWatchTime("start"),window.addEventListener("beforeunload",t.handleEndWatchTime),t.getCommentList(),t.liveEnd&&(t.commentListDom=t.commentListRef.$refs.commentList,t.debounceScrollFn=Object(M.b)(t.handleScroll,500),t.commentListDom.addEventListener("scroll",t.debounceScrollFn))}))},beforeDestroy:function(){this.reportWatchTime("end"),window.removeEventListener("beforeunload",this.handleEndWatchTime),this.closeSocket(),this.floatTimer=null,this.commentListDom&&this.commentListDom.removeEventListener("scroll",this.debounceScrollFn)},methods:(n=Object(w.a)(),s={handleScroll:function(){var t=this;0===this.commentListDom.scrollTop&&this.commentList.length<this.commentListTotal&&(this.commentLoading=!0,this.$api.get("/api/php/pili/pili-comments/list",{live_id:this.live_id,num:10,page:this.commentPage+1}).then((function(e){t.commentList=e.data.data.list.concat(t.commentList),t.commentPage++,t.commentLoading=!1,t.$nextTick((function(){t.commentListDom.scrollTop=90}))})))},genLiveReportToken:function(){this.liveReportToken=I()("from:'web'".concat(this.ip).concat(navigator.userAgent).concat($()().format("YYYY-MM-DD")))},handleOrder:function(){var t=this;if(!this.isSubscribe)if(this.mobile){var e={mobile:this.mobile,live_code:this.live_code};this.orderLive(e).then((function(){t.getLiveInfo()}))}else this.openConfirm()},openConfirm:function(){this.isShowConfirm=!0},closeConfirm:function(){this.isShowConfirm=!1,this.ruleForm.mobile="",this.$refs.ruleForm.clearValidate()},onConfirm:function(t){var e=this;this.$refs.ruleForm.validate((function(t){if(t){var a={mobile:e.ruleForm.mobile,live_code:e.live_code};e.orderLive(a).then((function(){e.isShowConfirm=!1,e.ruleForm.mobile="",e.$refs.ruleForm.clearValidate()}))}}))},orderLive:function(t){var e=this;return this.$api.post("/api/php/pili/appointment/subscribe",t).then((function(t){t.data.data?e.$message({message:"预约成功,直播开始前短信通知",type:"success"}):e.$message({message:"预约失败,请重新预约",type:"danger"})}),(function(t){e.$message({message:"预约失败,请重新预约",type:"danger"})}))},getLiveInfo:function(){var t=this;this.$api.get("/api/php/pili/pili-index/detail",{live_code:this.live_code}).then((function(e){var a=e.data.data;t.liveInfo=a}))},getCommentList:function(){var t=this;this.$api.get("/api/php/pili/pili-comments/list",{live_id:this.live_id,num:50}).then((function(e){t.commentList=t.commentList.concat(e.data.data.list),t.commentListTotal=e.data.data.total,t.$nextTick((function(){t.commentListRef.scrollBottom()}));t.socketIO=N()("https://live-socket.chainnode.com"),t.socketIO.on("connect",t.onSocketConn),t.socketIO.on("message",(function(e){t.onSocketMsg(e)})),t.socketIO.on("error",(function(e){t.onSocketErr(e)}))}))},closeSocket:function(){this.socketIO.close()},onSocketErr:function(t){},onSocketMsg:function(t){var e=this;t.length&&(this.commentList=this.commentList.concat(t),this.$nextTick((function(){e.commentListRef.scrollBottom()})))},onSocketConn:function(){this.socketIO.emit("message",{live_id:this.live_id})},handleEndWatchTime:function(){this.reportWatchTime("end")},reportWatchTime:function(t){var e={live_id:this.live_id,cookie:this.liveReportToken,type:t,visit_time:Date.parse(new Date)/1e3};this.$api.post("/api/php/pili/visit-time/log",e).then((function(t){}),(function(t){}))},reportLog:function(){var t={live_id:this.live_id,cookie:this.liveReportToken};this.$api.post("/api/php/pili/visit-log/log",t).then((function(t){}),(function(t){}))},createPlayer:function(){var t=this,e={id:"mse",fluid:!0,fitVideoSize:"auto",autoplay:!0,"x5-video-player-type":"h5",poster:this.liveInfo.logo,ignores:["enter","loading"]};if(this.liveNotStart&&this.liveInfo.herald_live_url)new(a(71))(H({},e,{url:this.liveInfo.herald_live_url,isLive:!1,playbackRate:[.5,.75,1,1.5,2]}));if(this.living){var i=new(a(587))(H({},e,{url:this.liveInfo.HDL,isLive:!0,lang:"zh-cn"}));i.on("play",(function(){"没有关于音频/视频是否就绪的信息"===i.readyState&&t.liveInfo.down_url&&(i&&i.destroy(),i=null,setTimeout((function(){new(a(71))(H({},e,{url:t.liveInfo.down_url,isLive:!1,playbackRate:[.5,.75,1,1.5,2]}))}),200))})),i.on("error",(function(){}))}if(this.liveEnd)new(a(71))(H({},e,{url:this.liveInfo.down_url,isLive:!1,playbackRate:[.5,.75,1,1.5,2]}));this.watermarkShow=!0},switchTab:function(t,e){var a=this;this.currentIndex=e,this.$nextTick((function(){"互动评论"===t.title&&a.commentListRef.scrollBottom()}))}},Object(o.a)(s,"handleOrder",[n],Object.getOwnPropertyDescriptor(s,"handleOrder"),s),s),head:function(){return{title:this.liveInfo.title,meta:[{hid:"description",name:"description",content:"chainnode 链节点直播间"}]}}},q=(a(1544),Object(p.a)(R,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"live-container"},[a("div",{staticClass:"live-main-bg",style:t.mainBgStyle},[a("div",{staticClass:"bbt-container"},[a("div",{staticClass:"live-crumbs"},[a("live-crumbs",{attrs:{title:t.liveInfo.title}})],1),t._v(" "),a("div",{staticClass:"live-content"},[a("div",{staticClass:"live-content__video"},[t.watermarkShow&&(t.liveInfo.herald_live_url||t.living||t.liveInfo.down_url)?a("div",{staticClass:"live-watermark"},[a("img",{staticClass:"watermark",attrs:{src:"/images/live-img/live-watermark.png",alt:"live-watermark"}})]):t._e(),t._v(" "),t.liveNotStart?a("div",{staticClass:"not-start"},[t.liveInfo.herald_live_url?a("div",{attrs:{id:"mse"}}):a("div",{staticClass:"not-start__logo"},[a("img",{attrs:{src:t.liveInfo.logo,alt:"live-logo"}})]),t._v(" "),a("div",{staticClass:"not-start__order"},[a("span",[t._v("\n                距离直播开始还有\n              ")]),t._v(" "),a("live-flip-down",{attrs:{endDate:1e3*t.liveInfo.start_time,timeUnit:["天","时","分","秒"]}}),t._v(" "),a("button",{staticClass:"not-start__btn",on:{click:t.handleOrder}},[t._v("\n                "+t._s(t.isSubscribe?"已预约":"预约观看")+"\n              ")])],1)]):t._e(),t._v(" "),t.living?a("div",[t.liveInfo.HDL?a("div",{attrs:{id:"mse"}}):t._e()]):t._e(),t._v(" "),t.liveEnd?a("div",{staticClass:"live-end"},[t.liveInfo.down_url?a("div",{attrs:{id:"mse"}}):a("img",{attrs:{src:t.liveInfo.logo,alt:"live-logo"}})]):t._e(),t._v(" "),t.liveInfo.ad_resource?a("div",{staticClass:"live-content__ad-source"},[a("a",{attrs:{href:t.liveInfo.ad_resource_link,target:"_blank",rel:"nofollow noopener"}},[a("img",{attrs:{src:t.liveInfo.ad_resource,alt:""}})])]):t._e()]),t._v(" "),a("div",{staticClass:"live-content__info"},[a("live-tab",{attrs:{menu:t.menuData,currentIndex:t.currentIndex},on:{switch:t.switchTab}}),t._v(" "),a("ul",{staticClass:"live-content__info-card"},t._l(t.formatMenuDate,(function(e,i){return a("li",{key:i},[a("div",{directives:[{name:"show",rawName:"v-show",value:"互动评论"===e.title,expression:"item.title === '互动评论'"}]},[a("live-comment-list",{ref:"commentListRef",refInFor:!0,attrs:{live_code:t.live_code,listHeigh:t.introCommentHeight.commentHeight,commentList:t.commentList,commentLoading:t.commentLoading}})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"互动评论"!==e.title,expression:"item.title !== '互动评论'"}],style:{height:t.introCommentHeight.introHeight}},[a("live-intro",{attrs:{data:t.liveInfo.menu_content[e.id]}})],1)])})),0)],1)])])]),t._v(" "),a("x-confirm-dialog",{attrs:{title:"输入预约手机号",isVisible:t.isShowConfirm},on:{confirm:t.onConfirm,cancel:t.closeConfirm}},[a("el-form",{ref:"ruleForm",staticClass:"bbt-clearfix",attrs:{model:t.ruleForm,rules:t.orderRules,"label-width":"85px"}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"手机号码",prop:"mobile"}},[a("el-input",{attrs:{placeholder:"请在此填写手机号码"},model:{value:t.ruleForm.mobile,callback:function(e){t.$set(t.ruleForm,"mobile",e)},expression:"ruleForm.mobile"}})],1)],1)],1),t._v(" "),a("live-biz-share",{attrs:{shareConfig:t.shareConfig}})],1)}),[],!1,null,"02377aa3",null));e.default=q.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(4),a(3),a(6);var i=a(1),r=(a(31),a(39),a(22)),n=a.n(r),s=a(90),o=(a(25),a(634),a(12),a(24)),c=a.n(o),l=a(14),u={props:{blockList:{type:Array},fid:{type:String|Number},action:{type:String},tid:{type:String|Number},data:{type:Object}},data:function(){var t,e,a=this;return{typeOptions:[{label:"普通帖",value:"0",disabled:!1},{label:"投票帖",value:"1",disabled:313==this.fid||314==this.fid||328==this.fid},{label:"辩论帖",value:"5",disabled:313==this.fid||314==this.fid||328==this.fid}],selOptions:[{label:"单选",value:"radio"},{label:"多选",value:"checkbox"}],ruleForm:{type:"edit"==this.action&&this.data.type||"0",title:"edit"==this.action&&this.data.title||null,block:(t="edit"==a.action&&a.data.category&&a.data.category.id||a.fid||"",e="",a.blockList.map((function(a){a.sub.map((function(a){a.fid==t&&(e=t)}))})),"".concat(e))},ruleForm2:{date:"edit"==this.action&&"5"==this.data.type?c()(1e3*this.data.debate_endtime).format("YYYY-MM-DD HH:mm:ss"):null,referee:"edit"==this.action&&"5"==this.data.type?this.data.umpire:null},ruleForm3:{date:"edit"==this.action&&"1"==this.data.type?c()(1e3*this.data.poll_expiration).format("YYYY-MM-DD HH:mm:ss"):null,voting:"edit"==this.action&&this.data.poll_optiontype||null,voteResult:["edit"==this.action&&this.data.real_visiblepoll?"1":null,"edit"==this.action&&this.data.real_overt?"2":null]||!1},rules:{type:[{required:!0,message:"请选择帖子类型",trigger:"change"}],title:[{required:!0,message:"请输入帖子标题",trigger:["blur","change"]},{min:1,max:35,message:"帖子标题长度在 1 到 35 个字符",trigger:["blur","change"]}],block:[{required:!0,message:"请选择帖子发布的节点",trigger:"change"}]},rules2:{date:[{required:!0,message:"请选择辩论结束时间",trigger:"change"}],referee:[{required:!0,message:"请输入辩论裁判",trigger:"blur"},{validator:function(t,e,i){if(!e)return i(new Error("请输入辩论裁判"));a.$store.dispatch("release/VALID_REFEREE",{params:{user_name:e}}).then((function(t){t.status?i():i(new Error("裁判不存在"))}))},trigger:"blur"}]},rules3:{date:[{required:!0,message:"请选择投票结束时间",trigger:"change"}],voting:[{required:!0,message:"请选择投票形式",trigger:"change"}]},endTime:{disabledDate:function(t){return t.getTime()<(new Date).getTime()-864e5}},endTime2:{disabledDate:function(t){return t.getTime()<(new Date).getTime()-864e5}}}},methods:{changeType:function(t){this.$emit("show",t)},changeBlock:function(t){this.$store.dispatch("release/FTETCH_PARAMS",{params:{fid:t},type:"userParams"}),313==t||314==t||328==t?(this.typeOptions=[{label:"普通帖",value:"0",disabled:!1}],this.ruleForm.type="0",this.$emit("show","0")):this.typeOptions=[{label:"普通帖",value:"0",disabled:!1},{label:"投票帖",value:"1",disabled:!1},{label:"辩论帖",value:"5",disabled:!1}],this.$emit("switch",Number.parseInt(t))},validatorForm1:function(){var t=this;return new Promise((function(e,a){t.$refs.ruleForm.validate((function(t,i){t?e(t):a(i)}))}))},validatorForm2:function(){var t=this;return new Promise((function(e,a){t.$refs.ruleForm2.validate((function(t,i){t?e(t):a(i)}))}))},validatorForm3:function(){var t=this;return new Promise((function(e,a){t.$refs.ruleForm3.validate((function(t,i){t?e(t):a(i)}))}))}}},d=(a(1399),a(0)),p=Object(d.a)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    帖子信息\n    "),a("div",{staticClass:"bbt-module__more"},[a("nuxt-link",{staticClass:"link-dark-minor",attrs:{to:{name:"forum-rules",query:{id:""+(t.ruleForm.block||61)}},target:"_blank"}},[t._v("本版积分规则")]),t._v(" "),a("nuxt-link",{staticClass:"link-dark-minor",attrs:{to:{name:"post-id",params:{id:"15508"}},target:"_blank"}},[t._v("发帖须知")])],1)]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[a("el-form",{ref:"ruleForm",staticClass:"bbt-clearfix",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"104px"}},[a("el-form-item",{attrs:{label:"帖子标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请在此填写标题",maxlength:"35","show-word-limit":""},model:{value:t.ruleForm.title,callback:function(e){t.$set(t.ruleForm,"title",e)},expression:"ruleForm.title"}})],1),t._v(" "),a("bbt-row",[a("bbt-col",{attrs:{span:{xs:6}}},[a("el-form-item",{attrs:{label:"帖子分类",prop:"type"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"edit"==t.action,placeholder:"请选择帖子分类"},on:{change:t.changeType},model:{value:t.ruleForm.type,callback:function(e){t.$set(t.ruleForm,"type",e)},expression:"ruleForm.type"}},t._l(t.typeOptions,(function(t,e){return a("el-option",{key:e,attrs:{disabled:t.disabled,label:t.label,value:t.value}})})),1)],1)],1),t._v(" "),a("bbt-col",{attrs:{span:{xs:17},offset:1}},[a("el-form-item",{attrs:{label:"选择节点",prop:"block"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"edit"==t.action,filterable:"",placeholder:"请选择帖子发布的节点"},on:{change:t.changeBlock},model:{value:t.ruleForm.block,callback:function(e){t.$set(t.ruleForm,"block",e)},expression:"ruleForm.block"}},t._l(t.blockList,(function(e){return a("el-option-group",{key:e.name,attrs:{label:e.name}},t._l(e.sub,(function(e){return a("el-option",{key:e.fid,attrs:{label:e.name,value:e.fid}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.icon,error:"/images/default/plate.jpg",loading:"/images/default/plate.jpg"},expression:"{\n                      src: item.icon,\n                      error: '/images/default/plate.jpg',\n                      loading: '/images/default/plate.jpg',\n                    }"}],staticStyle:{width:"24px","margin-right":"4px","vertical-align":"top",position:"relative",top:"5px"},attrs:{src:"/images/default/plate.jpg"}}),t._v(" "),a("span",[t._v(t._s(e.name))])])})),1)})),1)],1)],1)],1)],1),t._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:"5"==t.ruleForm.type,expression:"ruleForm.type == '5'"}],ref:"ruleForm2",staticClass:"bbt-clearfix",attrs:{model:t.ruleForm2,rules:t.rules2,"label-width":"104px"}},[a("el-form-item",{attrs:{label:"辩论时间",for:"date",prop:"date"}},[a("el-date-picker",{attrs:{placeholder:"请选择结束时间","picker-options":t.endTime,type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.ruleForm2.date,callback:function(e){t.$set(t.ruleForm2,"date",e)},expression:"ruleForm2.date"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"辩论裁判",prop:"referee"}},[a("el-input",{staticStyle:{width:"376px"},attrs:{placeholder:"请输入辩论裁判"},model:{value:t.ruleForm2.referee,callback:function(e){t.$set(t.ruleForm2,"referee",e)},expression:"ruleForm2.referee"}})],1)],1),t._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:"1"==t.ruleForm.type,expression:"ruleForm.type == '1'"}],ref:"ruleForm3",staticClass:"bbt-clearfix",attrs:{model:t.ruleForm3,rules:t.rules3,"label-width":"104px"}},[a("el-form-item",{attrs:{label:"投票时间",for:"date",prop:"date"}},[a("el-date-picker",{attrs:{placeholder:"请选择结束时间","picker-options":t.endTime2,type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.ruleForm3.date,callback:function(e){t.$set(t.ruleForm3,"date",e)},expression:"ruleForm3.date"}})],1),t._v(" "),a("bbt-row",[a("bbt-col",{attrs:{span:{xs:6}}},[a("el-form-item",{attrs:{label:"投票形式",prop:"voting"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择投票形式"},model:{value:t.ruleForm3.voting,callback:function(e){t.$set(t.ruleForm3,"voting",e)},expression:"ruleForm3.voting"}},t._l(t.selOptions,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"投票结果",for:"voteResult"}},[a("el-checkbox-group",{model:{value:t.ruleForm3.voteResult,callback:function(e){t.$set(t.ruleForm3,"voteResult",e)},expression:"ruleForm3.voteResult"}},[a("el-checkbox",{attrs:{label:"1",name:"result"}},[t._v("投票后结果可见")]),t._v(" "),a("el-checkbox",{attrs:{label:"2",name:"result"}},[t._v("公开投票参与人")])],1)],1)],1)],1)])}),[],!1,null,"29f52034",null).exports,m={props:{data:{type:Object}},data:function(){return{ruleForm:{square:this.data.affirmpoint||null,conside:this.data.negapoint||null},rules:{square:[{required:!0,message:"请输入正方观点",trigger:["blur","change"]},{min:1,max:45,message:"观点长度在 1 到 45 个字符",trigger:["blur","change"]}],conside:[{required:!0,message:"请输入反方观点",trigger:["blur","change"]},{min:1,max:45,message:"观点长度在 1 到 45 个字符",trigger:["blur","change"]}]}}},methods:{validatorForm:function(){var t=this;return new Promise((function(e,a){t.$refs.ruleForm.validate((function(t,i){t?e(t):a(i)}))}))}}},f=(a(1400),a(1401),Object(d.a)(m,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    辩论信息\n  ")]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[a("el-form",{ref:"ruleForm",staticClass:"bbt-clearfix",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"104px"}},[a("el-form-item",{attrs:{label:"正方观点",prop:"square"}},[a("el-input",{staticClass:"debate-ipt",attrs:{type:"textarea",placeholder:"请输入正方观点"},model:{value:t.ruleForm.square,callback:function(e){t.$set(t.ruleForm,"square",e)},expression:"ruleForm.square"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"反方观点",prop:"conside"}},[a("el-input",{staticClass:"debate-ipt",attrs:{type:"textarea",placeholder:"请输入反方观点"},model:{value:t.ruleForm.conside,callback:function(e){t.$set(t.ruleForm,"conside",e)},expression:"ruleForm.conside"}})],1)],1)],1)])}),[],!1,null,"3102501c",null).exports),h=a(41),v=(a(1402),a(1403),a(83)),b=a(172),_=a.n(b),g={components:{XCropper:v.a,Draggable:_.a},props:{data:{type:Object}},data:function(){return{isVisible:!1,isLoading:!1,currentIndex:0,isShow:!1,option:{img:null,autoCropWidth:200,autoCropHeight:200,fixedNumber:[1,1]},formIpt:{options:[]},ruleForm:{options:[]}}},created:function(){if(this.data.polloptions)for(var t=0;t<this.data.polloptions.length;t++)this.ruleForm.options.push({message:this.data.polloptions[t].polloption,imgUrl:this.data.polloptions[t].imginfo.small||this.data.polloptions[t].imginfo.big,image:'<img src="'.concat(this.data.polloptions[t].imginfo.small||this.data.polloptions[t].imginfo.big,'">'),polloptionid:this.data.polloptions[t].polloptionid}),this.formIpt.options.push({iptValue:null});else this.ruleForm.options=[{message:"",imgUrl:"",image:""},{message:"",imgUrl:"",image:""}],this.formIpt.options=[{iptValue:null},{iptValue:null}]},methods:{closeDialog:function(){this.isVisible=!1},removeOption:function(t){if(this.ruleForm.options.length>2){var e=this.ruleForm.options.indexOf(t);-1!==e&&(this.ruleForm.options.splice(e,1),this.formIpt.options.splice(e,1))}else this.$message({type:"danger",message:"投票帖至少保留2个选项"})},addOption:function(){this.ruleForm.options.push({message:"",imgUrl:"",image:""}),this.formIpt.options.push({iptValue:null})},uploadPhoto:function(t,e){var a=this,i=t.target.files[0];this.currentIndex=e;var r=new FileReader;r.onload=function(t){var i;i="object"===Object(h.a)(t.target.result)?window.URL.createObjectURL(new Blob([t.target.result])):t.target.result,a.option.img=i,a.isVisible=!0,a.formIpt.options[e].iptValue=null},r.readAsArrayBuffer(i)},validatorForm:function(){var t=this;return new Promise((function(e,a){t.$refs.ruleForm.validate((function(t,i){t?e(t):a(i)}))}))},cropImage:function(t){var e=this;this.isLoading=!0,Object(l.l)(t,"post",!0,this.$store.$api).then((function(t){e.isLoading=!1,e.ruleForm.options[e.currentIndex].imgUrl=t.data,e.ruleForm.options[e.currentIndex].image='<img src="'.concat(t.data,'">'),e.isVisible=!1})).catch((function(t){e.isLoading=!1,e.$message({type:"danger",message:t.message})}))}}},y=(a(1404),Object(d.a)(g,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    投票信息\n  ")]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[t._m(0),t._v(" "),a("el-form",{ref:"ruleForm",staticClass:"vote-form bbt-clearfix",attrs:{model:t.ruleForm,"label-width":"18px"}},[a("draggable",{attrs:{group:"guest"},model:{value:t.ruleForm.options,callback:function(e){t.$set(t.ruleForm,"options",e)},expression:"ruleForm.options"}},t._l(t.ruleForm.options,(function(e,i){return a("el-form-item",{key:i,attrs:{for:"index",label:""+(i+1)}},[a("bbt-col",{staticStyle:{padding:"0","text-align":"center"},attrs:{span:{xs:"3"}}},[a("div",{staticClass:"upload-item"},[t._v("\n              +\n              "),e.imgUrl?a("img",{attrs:{src:e.imgUrl}}):t._e(),t._v(" "),a("el-input",{staticClass:"file-ipt",attrs:{type:"file",accept:"image/gif,image/jpeg,image/jpg,image/png"},nativeOn:{change:function(e){return t.uploadPhoto(e,i)}},model:{value:t.formIpt.options[i].iptValue,callback:function(e){t.$set(t.formIpt.options[i],"iptValue",e)},expression:"formIpt.options[index].iptValue"}})],1)]),t._v(" "),a("bbt-col",{staticStyle:{padding:"12px 0"},attrs:{span:{xs:"20"}}},[a("el-form-item",{attrs:{prop:"options."+i+".message",rules:[{required:!0,message:"投票选项不能为空",trigger:"blur"}]}},[a("el-input",{model:{value:e.message,callback:function(a){t.$set(e,"message",a)},expression:"item.message"}})],1)],1),t._v(" "),a("bbt-col",{staticStyle:{padding:"12px 0","text-align":"center"},attrs:{span:{xs:"1"}}},[i<2?a("span",[a("bbt-icon",{staticStyle:{"font-size":"20px",cursor:"not-allowed",color:"rgba(0,0,0,0.3)"},attrs:{type:"delete"}})],1):i>=2?a("span",{on:{click:function(a){return t.removeOption(e)}}},[a("bbt-icon",{staticClass:"link-dark-minor",staticStyle:{"font-size":"20px",cursor:"pointer"},attrs:{type:"delete"}})],1):t._e()])],1)})),1)],1),t._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("bbt-btn",{attrs:{type:"primary"},on:{click:t.addOption}},[t._v("增加选项")])],1)],1),t._v(" "),a("x-cropper",{attrs:{title:"投票选项",option:t.option,isVisible:t.isVisible,isLoading:t.isLoading},on:{close:t.closeDialog,crop:t.cropImage}})],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-thead bbt-clearfix"},[e("span",{staticStyle:{width:"18px"}},[this._v("#")]),this._v(" "),e("span",{staticStyle:{width:"139px"}},[this._v("图片（选填）")]),this._v(" "),e("span",{staticStyle:{width:"925px","text-align":"left"}},[this._v("投票选项（必填）")]),this._v(" "),e("span",{staticStyle:{width:"46px"}},[this._v("操作")])])}],!1,null,"53d6e98c",null).exports),w=a(526),k=(a(782),{props:{data:{type:Object},params:{type:Object}},data:function(){return{isPriceError:!1,isPercentError:!1,isShowRange:!1,price:this.data.replycredit_rule&&this.data.replycredit_rule.extcredits?this.data.replycredit_rule.extcredits:0,totalPrice:this.data.replycredit?this.data.replycredit:0,totalTaxPrice:this.data.replycredit?Math.ceil((Number.parseFloat(this.params.creditstax)+1)*Number.parseInt(this.data.replycredit)):0,num:this.data.replycredit_rule&&this.data.replycredit_rule.times?this.data.replycredit_rule.times:0,maxNum:this.data.replycredit_rule&&this.data.replycredit_rule.membertimes?this.data.replycredit_rule.membertimes:1,percent:this.data.replycredit_rule&&this.data.replycredit_rule.random?this.data.replycredit_rule.random:100}},methods:{checkPercentVal:function(){this.percent>100||this.percent<=0?this.isPercentError=!0:this.isPercentError=!1},calPrice:function(){this.totalPrice=Number.parseInt(this.price)*this.num,this.totalTaxPrice=Math.ceil((Number.parseFloat(this.params.creditstax)+1)*this.num*Number.parseInt(this.price)),this.totalTaxPrice>Number.parseInt(this.params.totalmoney)?this.isPriceError=!0:this.isPriceError=!1},validatorPrice:function(){var t,e=this;return t=!this.isPriceError&&0!=this.price&&0!=this.num&&0!=this.maxNum,new Promise((function(a,i){t||(e.isPriceError=!0),t?a(t):i({text:[{message:"请正确设置打赏信息"}]})}))},selPercent:function(t){this.isShowRange=!1,this.percent=t}}}),x=(a(1407),Object(d.a)(k,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    回帖奖励\n  ")]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[a("div",[t._v("\n      每次回帖奖励\n      "),a("span",{staticClass:"ipt",class:{error:t.isPriceError}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],attrs:{type:"number"},domProps:{value:t.price},on:{input:[function(e){e.target.composing||(t.price=e.target.value)},t.calPrice]}})]),t._v("\n      金币，奖励次数\n      "),a("span",{staticClass:"ipt",class:{error:t.isPriceError}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.num,expression:"num"}],attrs:{type:"number"},domProps:{value:t.num},on:{input:[function(e){e.target.composing||(t.num=e.target.value)},t.calPrice]}})]),t._v("\n      次，每人最多可获得\n      "),a("span",{staticClass:"ipt",class:{error:t.isPriceError}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.maxNum,expression:"maxNum"}],attrs:{type:"number"},domProps:{value:t.maxNum},on:{input:function(e){e.target.composing||(t.maxNum=e.target.value)}}})]),t._v("\n      次， 中奖率\n      "),a("span",{staticClass:"percent ipt",class:{error:t.isPercentError}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.percent,expression:"percent"}],attrs:{type:"number"},domProps:{value:t.percent},on:{input:[function(e){e.target.composing||(t.percent=e.target.value)},t.checkPercentVal]}}),t._v(" "),a("span",{staticClass:"arrow",on:{click:function(e){t.isShowRange=!t.isShowRange}}}),t._v(" "),a("transition",{attrs:{name:"fade"}},[t.isShowRange?a("ul",{staticClass:"percent-sel"},[a("li",{on:{click:function(e){return t.selPercent(100)}}},[t._v("100%")]),t._v(" "),a("li",{on:{click:function(e){return t.selPercent(80)}}},[t._v("80%")]),t._v(" "),a("li",{on:{click:function(e){return t.selPercent(60)}}},[t._v("60%")]),t._v(" "),a("li",{on:{click:function(e){return t.selPercent(40)}}},[t._v("40%")]),t._v(" "),a("li",{on:{click:function(e){return t.selPercent(20)}}},[t._v("20%")])]):t._e()])],1),t._v("\n      %\n    ")]),t._v(" "),a("div",[t._v("\n      回帖奖励总额: "),a("span",[t._v(t._s(t.totalPrice||0))]),t._v(" 金币, 税后支付金币\n      "),a("span",[t._v(t._s(t.totalTaxPrice||0))]),t._v(" , 您有 金币\n      "),a("span",[t._v(t._s(t.params.totalmoney))])])])])}),[],!1,null,"38abb584",null).exports),C={props:{data:{type:Object}},data:function(){return{price:this.data.price||0,isPriceError:!1}},methods:{checkIpt:function(){this.price>0&&this.price<=30?this.isPriceError=!1:this.isPriceError=!0},validatorPrice:function(){var t,e=this;return t=!this.isPriceError&&this.price>0&&this.price<=30,new Promise((function(a,i){t||(e.isPriceError=!0),t?a(t):i({text:[{message:"请正确设置付费信息"}]})}))}}},O=(a(1408),Object(d.a)(C,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    付费主题\n  ")]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[a("div",[t._v("\n      主题售价\n      "),a("span",{staticClass:"ipt",class:{error:t.isPriceError}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],attrs:{type:"number"},domProps:{value:t.price},on:{input:[function(e){e.target.composing||(t.price=e.target.value)},t.checkIpt]}})]),t._v("\n      金币（最高30金币）\n    ")])])])}),[],!1,null,"45404f6a",null).exports),j=(a(182),{props:{data:{type:Object}},data:function(){var t=this;return{ruleForm:{date1:this.data.rushreply&&this.data.rushreply.starttimefrom?c()(1e3*this.data.rushreply.starttimefrom).format("YYYY-MM-DD HH:mm:ss"):null,date2:this.data.rushreply&&this.data.rushreply.starttimeto?c()(1e3*this.data.rushreply.starttimeto).format("YYYY-MM-DD HH:mm:ss"):null,stopfloor:this.data.rushreply&&this.data.rushreply.stopfloor||null,rewardfloor:this.data.rushreply&&this.data.rushreply.rewardfloor||null,creditlimit:this.data.rushreply&&this.data.rushreply.creditlimit||null,replylimit:this.data.rushreply&&this.data.rushreply.replylimit||null},rules:{date1:[{required:!0,message:"请选择开始时间",trigger:"change"}],date2:[{required:!0,message:"请选择结束时间",trigger:"change"}],rewardfloor:[{validator:function(t,e,a){if(e&&!e.match(/^[\d,]+$/)&&!e.match(/^\*[\d]+$/))return a(new Error("请输入正确的楼层格式"));a()},trigger:"blur"}]},startTime:{disabledDate:function(e){return!!t.ruleForm.date2&&e.getTime()>new Date(t.ruleForm.date2).getTime()-864e5}},endTime:{disabledDate:function(e){return t.ruleForm.date1?e.getTime()<new Date(t.ruleForm.date1).getTime()-864e5:e.getTime()<(new Date).getTime()-864e5}}}},methods:{validatorForm:function(){var t=this;return new Promise((function(e,a){t.$refs.ruleForm.validate((function(t,i){t?e(t):a(i)}))}))}}}),D=(a(1409),Object(d.a)(j,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    抢楼主题\n  ")]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[a("el-form",{ref:"ruleForm",staticClass:"bbt-clearfix",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"104px"}},[a("el-form-item",{attrs:{label:"抢楼时间",for:"time",required:""}},[a("bbt-col",{staticStyle:{padding:"0"},attrs:{span:{xs:11}}},[a("el-form-item",{attrs:{prop:"date1"}},[a("el-date-picker",{attrs:{placeholder:"请选择开始时间","picker-options":t.startTime,type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.ruleForm.date1,callback:function(e){t.$set(t.ruleForm,"date1",e)},expression:"ruleForm.date1"}})],1)],1),t._v(" "),a("bbt-col",{staticStyle:{"text-align":"center"},attrs:{span:{xs:2}}},[t._v("至")]),t._v(" "),a("bbt-col",{staticStyle:{padding:"0"},attrs:{span:{xs:11}}},[a("el-form-item",{attrs:{prop:"date2"}},[a("el-date-picker",{attrs:{placeholder:"请选择结束时间","picker-options":t.endTime,type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.ruleForm.date2,callback:function(e){t.$set(t.ruleForm,"date2",e)},expression:"ruleForm.date2"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"奖励楼层",prop:"rewardfloor"}},[a("el-input",{attrs:{placeholder:"多楼层用英文逗号隔开,*号可匹配任意数或空值，选填"},model:{value:t.ruleForm.rewardfloor,callback:function(e){t.$set(t.ruleForm,"rewardfloor",e)},expression:"ruleForm.rewardfloor"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"回帖限制",prop:"replylimit"}},[a("el-input",{attrs:{type:"number",placeholder:"在此设置每个用户回帖次数上限，选填"},model:{value:t.ruleForm.replylimit,callback:function(e){t.$set(t.ruleForm,"replylimit",e)},expression:"ruleForm.replylimit"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"截止楼层",prop:"stopfloor"}},[a("el-input",{attrs:{type:"number",placeholder:"在此设置截止的楼层，选填"},model:{value:t.ruleForm.stopfloor,callback:function(e){t.$set(t.ruleForm,"stopfloor",e)},expression:"ruleForm.stopfloor"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"积分下限",prop:"creditlimit"}},[a("el-input",{attrs:{type:"number",placeholder:"总积分大于此设置才能参与抢楼，选填"},model:{value:t.ruleForm.creditlimit,callback:function(e){t.$set(t.ruleForm,"creditlimit",e)},expression:"ruleForm.creditlimit"}})],1)],1)],1)])}),[],!1,null,"1e86a9d2",null).exports),S=a(15);function P(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function E(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?P(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var T={middleware:"login",mixins:[s.a],components:{XPostInfo:p,XDebateContent:f,XVoteContent:y,XPostSet:w.a,XPostReward:x,XPostPrice:O,XPostRush:D},data:function(){return{currentPostType:"0",isTech:!1,isShowVote:!1,isShowDebate:!1,isShowReward:!1,isShowRush:!1,isShowPrice:!1}},created:function(){this.initPostModule()},methods:{initPostModule:function(){"313"==this.fid&&(this.placeholder="<p>投诉类型：（交易所/项目方/钱包/其他）</p><p>项目名称：</p><p>项目网址：</p><p>项目信息来源名称：</p><p>项目信息来源网址：</p><p>入金渠道：（交易所名称）</p><p>损失币种及数量：（1000USDT）</p><p>转币Txid：</p><p>转币截图：</p><p>平台充值地址：</p><p>你的姓名：</p><p>你的城市：</p><p>其他：</p>"),this.categoryid?this.isTech=S.d.includes("".concat(this.categoryid)):this.isTech=S.d.includes("".concat(this.fid)),this.showContent(this.type)},showSet:function(t,e){3==t?this.isShowReward=e:4==t?this.isShowRush=e:5==t&&(this.isShowPrice=e)},showContent:function(t){this.currentPostType=t,"1"==t?(this.isShowVote=!0,this.isShowDebate=!1):"5"==t?(this.isShowVote=!1,this.isShowDebate=!0):(this.isShowVote=!1,this.isShowDebate=!1)},switchRich:function(t){this.isTech=S.d.includes("".concat(t)),this.$refs.editor.setEditorType(this.isTech),this.placeholder="313"==t?"<p>投诉类型：（交易所/项目方/钱包/其他）</p><p>项目名称：</p><p>项目网址：</p><p>项目信息来源名称：</p><p>项目信息来源网址：</p><p>入金渠道：（交易所名称）</p><p>损失币种及数量：（1000USDT）</p><p>转币Txid：</p><p>转币截图：</p><p>平台充值地址：</p><p>你的姓名：</p><p>你的城市：</p><p>其他：</p>":""},submitPost:function(t){var e=this,a={},i={},r={},s={},o={},c={},l={};this.$refs.postset.ruleForm.set.includes(1)&&(a={usesig:1}),this.$refs.postset.ruleForm.set.includes(2)&&(r={hiddenreplies:1}),this.$refs.postset.ruleForm.set.includes(3)&&(i={replycredit_extcredits:this.$refs.postreward.price,replycredit_times:this.$refs.postreward.num,replycredit_membertimes:this.$refs.postreward.maxNum,replycredit_random:this.$refs.postreward.percent}),this.$refs.postset.ruleForm.set.includes(4)&&(s={rushreply:1,rushreplyfrom:this.$refs.postrush.ruleForm.date1,rushreplyto:this.$refs.postrush.ruleForm.date2,rewardfloor:this.$refs.postrush.ruleForm.rewardfloor,replylimit:this.$refs.postrush.ruleForm.replylimit,stopfloor:this.$refs.postrush.ruleForm.stopfloor,creditlimit:this.$refs.postrush.ruleForm.creditlimit}),this.$refs.postset.ruleForm.set.includes(5)&&(o={price:this.$refs.postprice.price}),this.topic_id&&(l={chainnode_topic_id:this.topic_id}),"1"==this.$refs.postinfo.ruleForm.type?this.$refs.postinfo.validatorForm1().then((function(){return e.$refs.postinfo.validatorForm3()})).then((function(){return e.$refs.vote.validatorForm()})).then((function(){return e.$refs.editor.validatorText()})).then((function(){return!e.$refs.postset.ruleForm.set.includes(3)||e.$refs.postreward.validatorPrice()})).then((function(){return!e.$refs.postset.ruleForm.set.includes(4)||e.$refs.postrush.validatorForm()})).then((function(o){var u=E({},e.$refs.editor.getContent(),{special:"1",fid:e.$refs.postinfo.ruleForm.block,subject:n()(e.$refs.postinfo.ruleForm.title),uid:e.uid,polloption:e.$refs.vote.ruleForm.options,maxchoices:"radio"==e.$refs.postinfo.ruleForm3.voting?1:e.$refs.vote.ruleForm.options.length,visibilitypoll:e.$refs.postinfo.ruleForm3.voteResult.includes("1")?"1":"0",overt:e.$refs.postinfo.ruleForm3.voteResult.includes("2")?"1":"0",endtime:e.$refs.postinfo.ruleForm3.date},a,{},r,{},i,{},s,{},c,{},l);t&&e.tid&&(u=E({},u,{action:t,tid:e.tid,submit:"1"})),e.submit(u,t)})).catch((function(t){for(var a in t)return void e.$message({message:t[a][0].message,type:"danger"})})):"5"==this.$refs.postinfo.ruleForm.type?this.$refs.postinfo.validatorForm1().then((function(){return e.$refs.postinfo.validatorForm2()})).then((function(){return e.$refs.debate.validatorForm()})).then((function(){return e.$refs.editor.validatorText()})).then((function(){return!e.$refs.postset.ruleForm.set.includes(3)||e.$refs.postreward.validatorPrice()})).then((function(){return!e.$refs.postset.ruleForm.set.includes(4)||e.$refs.postrush.validatorForm()})).then((function(o){if(o){var u=E({},e.$refs.editor.getContent(),{special:"5",fid:e.$refs.postinfo.ruleForm.block,subject:n()(e.$refs.postinfo.ruleForm.title),uid:e.uid,affirmpoint:n()(e.$refs.debate.ruleForm.square),negapoint:n()(e.$refs.debate.ruleForm.conside),umpire:e.$refs.postinfo.ruleForm2.referee,endtime:e.$refs.postinfo.ruleForm2.date},a,{},r,{},i,{},s,{},c,{},l);t&&e.tid&&(u=E({},u,{action:t,tid:e.tid,submit:"1"})),e.submit(u,t)}})).catch((function(t){for(var a in t)return void e.$message({message:t[a][0].message,type:"danger"})})):this.$refs.postinfo.validatorForm1().then((function(){return e.$refs.editor.validatorText()})).then((function(){return!e.$refs.postset.ruleForm.set.includes(3)||e.$refs.postreward.validatorPrice()})).then((function(){return!e.$refs.postset.ruleForm.set.includes(5)||e.$refs.postprice.validatorPrice()})).then((function(){return!e.$refs.postset.ruleForm.set.includes(4)||e.$refs.postrush.validatorForm()})).then((function(u){if(u){var d=E({},e.$refs.editor.getContent(),{special:"0",fid:e.$refs.postinfo.ruleForm.block,subject:n()(e.$refs.postinfo.ruleForm.title),uid:e.uid},a,{},r,{},i,{},o,{},s,{},c,{},l);t&&e.tid&&(d=E({},d,{action:t,tid:e.tid,submit:"1"})),e.submit(d)}})).catch((function(t){for(var a in t)return void e.$message({message:t[a][0].message,type:"danger"})}))}},head:function(){return{title:this.postData.title&&"edit"==this.action?"编辑".concat(this.postData.title):"发布帖子"}}},$=(a(1410),Object(d.a)(T,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-main bbt-main--gray bbt-main--margin"},[a("div",{staticClass:"bbt-container"},["edit"!=t.action?a("x-tab",{attrs:{size:"lg",menu:t.menuData,currentId:t.currentId,currentIndex:t.currentIndex},on:{switch:t.switchTab}}):t._e(),t._v(" "),a("div",{staticClass:"release-wrap"},[a("bbt-loading",{style:t.isSwitchLoading?"min-height: 1000px;":"",attrs:{loading:t.isSwitchLoading}},[a("x-post-info",{ref:"postinfo",attrs:{blockList:t.blockList,fid:t.fid,tid:t.tid,action:t.action,data:t.postData},on:{show:t.showContent,switch:t.switchRich}}),t._v(" "),t.isShowDebate?a("x-debate-content",{ref:"debate",attrs:{data:t.postData}}):t._e(),t._v(" "),t.isShowVote?a("x-vote-content",{ref:"vote",attrs:{data:t.postData}}):t._e(),t._v(" "),a("x-editor-module",{ref:"editor",attrs:{minLen:15,maxLen:t.userParams.maxpostsize||-1,data:t.postData,transfromContent:t.transfromContent,placeholder:t.placeholder,isTech:t.isTech,action:t.action,uploadType:"post",draft:!0},on:{switch:t.switchEditor}}),t._v(" "),a("x-post-set",{ref:"postset",attrs:{data:t.postData,params:t.userParams,type:t.currentPostType,isTech:t.isTech},on:{show:t.showSet}}),t._v(" "),t.isShowReward?a("x-post-reward",{ref:"postreward",attrs:{params:t.userParams,data:t.postData}}):t._e(),t._v(" "),t.isShowRush?a("x-post-rush",{ref:"postrush",attrs:{data:t.postData}}):t._e(),t._v(" "),t.isShowPrice?a("x-post-price",{ref:"postprice",attrs:{data:t.postData}}):t._e(),t._v(" "),a("div",{staticClass:"btn-box"},["edit"===t.action||t.isLoading?"edit"!==t.action&&t.isLoading?a("bbt-btn",{attrs:{type:"primary",size:"lg",disalbed:""}},[a("bbt-icon",{attrs:{type:"report"}}),t._v("发表中...")],1):t._e():a("bbt-btn",{attrs:{type:"primary",size:"lg"},on:{click:t.submitPost}},[a("bbt-icon",{attrs:{type:"report"}}),t._v("发表帖子")],1),t._v(" "),"edit"!==t.action||t.isLoading?"edit"===t.action&&t.isLoading?a("bbt-btn",{attrs:{type:"primary",size:"lg",disalbed:""}},[a("bbt-icon",{attrs:{type:"report"}}),t._v("保存中...")],1):t._e():a("bbt-btn",{attrs:{type:"primary",size:"lg"},on:{click:function(e){return t.submitPost("edit")}}},[a("bbt-icon",{attrs:{type:"report"}}),t._v("保存修改")],1)],1)],1)],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"第三方图片提交",visible:t.isShowDialog,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":!0,width:"500px"},on:{"update:visible":function(e){t.isShowDialog=e}}},[t._v("\n    "+t._s(t.totalCount)+"张图片正在提交中...\n  ")])],1)}),[],!1,null,"537c16ac",null));e.default=$.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6),a(12);var i,r,n,s=a(1),o=(a(54),a(4),a(3),a(19),a(23),a(2)),c=a(42),l=a(18),u=a(8),d={props:{data:{type:Object},styles:{type:String}}},p=a(0),m=Object(p.a)(d,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("bbt-crumb",{staticStyle:{"margin-bottom":"0"},attrs:{type:this.styles,icon:"right"}},[e("bbt-crumb-item",[e("nuxt-link",{attrs:{to:{name:"index"}}},[e("bbt-icon",{staticStyle:{"font-size":"12px"},attrs:{type:"home"}}),this._v(" ChainNode 链节点\n      ")],1)],1),this._v(" "),e("bbt-crumb-item",[e("nuxt-link",{attrs:{to:"/hot/"+this.data.chainnode_topic_id}},[this._v(this._s(this.data.title)+"\n      ")])],1)],1)],1)}),[],!1,null,null,null).exports,f=a(40),h=a.n(f),v=a(177),b=a(15),_=a(22),g=a.n(_),y=a(17);function w(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var k={inject:["injectData"],components:{XCrumbs:m,"no-ssr":h.a,Share:v.a},props:{data:{type:Object},comment:{type:Object}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?w(Object(a),!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(o.c)({userinfo:function(t){return t.userinfo}}),{uid:function(){return this.userinfo.uid}}),watch:{comment:{handler:function(t,e){t.list.length&&e.list.length&&(t.list[t.list.length-1].id===e.list[e.list.length-1].id||this.isHover||this.scrollToBottom())},deep:!0}},data:function(){return{isRender:!0,config:{url:"".concat(b.e.host,"/hot/").concat(this.data.chainnode_topic_id),title:"#".concat(this.data.title,"# ").concat(this.data.intro),image:"",description:"".concat(this.data.intro),sites:["wechat","weibo"]},weiboStyle:{color:"#fff",marginRight:"12px",fontSize:"16px",padding:"4px"},wechatStyle:{color:"#fff",marginRight:"12px",fontSize:"16px",padding:"4px"},option:{limitMoveNum:3,step:1},commentText:"",timer:null,isHover:!1,isSubmit:!1}},mounted:function(){var t=this;this.isRender=!1,this.pollComment(),window.sessionStorage.getItem("commentText")&&(this.commentText=window.sessionStorage.getItem("commentText")),this.$nextTick((function(){t.comment.list&&t.comment.list.length&&(document.getElementById("comment-scroll").scrollTop=document.getElementById("comment-scroll").scrollHeight,document.getElementById("comment-scroll").addEventListener("mouseover",(function(){t.isHover=!0})),document.getElementById("comment-scroll").addEventListener("mouseout",(function(){t.isHover=!1})))}))},beforeDestroy:function(){var t=this;document.getElementById("comment-scroll").removeEventListener("mouseover",(function(){t.isHover=!1})),document.getElementById("comment-scroll").removeEventListener("mouseout",(function(){t.isHover=!1})),clearInterval(this.timer)},methods:(i=Object(y.a)(),r=Object(y.a)(),n={xss:function(t){return g()(t,{whiteList:[],stripIgnoreTag:!0})},onSubmit:function(){var t=this;this.isSubmit||this.commentText&&(clearInterval(this.timer),this.isSubmit=!0,this.$store.dispatch("topic/ADD_COMMENT",{params:{chainnode_topic_id:this.$route.params.id,author_id:this.uid,tid:this.data.tid,message:this.commentText}}).then((function(e){t.$store.dispatch("topic/FETCH_TOPIC_COMMENT",{params:{page_size:50,chainnode_topic_id:t.$route.params.id},type:"usersCommentItems"}),t.commentText="",window.sessionStorage.setItem("commentText",t.commentText),t.isSubmit=!1,t.pollComment()})).catch((function(e){t.isSubmit=!1,t.$message({type:"danger",message:e.message})})))},scrollToBottom:function(){var t=null,e=document.getElementById("comment-scroll"),a=e.scrollTop;t=requestAnimationFrame((function i(){a+e.offsetHeight>=e.childNodes[0].offsetHeight?cancelAnimationFrame(t):(a=document.getElementById("comment-scroll").scrollTop,document.getElementById("comment-scroll").scrollTop=a+20,t=requestAnimationFrame(i))}))},pollComment:function(){var t=this;this.timer=setInterval((function(){t.$store.dispatch("topic/FETCH_TOPIC_COMMENT",{params:{page_size:50,chainnode_topic_id:t.$route.params.id},type:"usersCommentItems"})}),5e3)},focus:function(t){var e=this;this.$store.dispatch("topic/FETCH_FOCUS",{params:{chainnode_topic_id:this.$route.params.id,uid:this.uid},isfocus:t}).catch((function(t){e.$message({type:"danger",message:t.message})}))},routeType:function(t,e,a){return Object(u.n)(t,e,a)}},Object(l.a)(n,"onSubmit",[i],Object.getOwnPropertyDescriptor(n,"onSubmit"),n),Object(l.a)(n,"focus",[r],Object.getOwnPropertyDescriptor(n,"focus"),n),n)},x=(a(1494),Object(p.a)(k,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"topic-header"},[a("div",{staticClass:"topic-header__bg",style:"background-image: url("+t.data.background_img+")"}),t._v(" "),a("div",{staticClass:"topic-header__bg1"}),t._v(" "),a("div",{staticClass:"topic-header__bg2"}),t._v(" "),a("div",{staticClass:"topic-header__main"},[a("div",{staticClass:"bbt-container"},[a("x-crumbs",{attrs:{styles:"light",data:t.data}}),t._v(" "),a("div",{staticClass:"topic-box bbt-clearfix"},[a("div",{staticClass:"topic-logo"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:t.data.icon,error:"/images/default/project.jpg",loading:"/images/default/project.jpg"},expression:"{\n              src: data.icon,\n              error: '/images/default/project.jpg',\n              loading: '/images/default/project.jpg',\n            }"}],attrs:{src:"/images/default/project.jpg"}})]),t._v(" "),a("div",{staticClass:"topic-info"},[a("div",{staticClass:"topic-info__title"},[a("h1",[t._v("#"+t._s(t.data.title)+"#")]),t._v(" "),a("div",[t._v("\n              热度\n              "),a("span",[t._v(t._s(t._f("num_to_thousand")(t.data.discuss)))])]),t._v(" "),t.data.focus?a("bbt-btn",{attrs:{type:"default"},on:{click:function(e){return t.focus(0)}}},[t._v("取消关注")]):a("bbt-btn",{attrs:{type:"primary"},on:{click:function(e){return t.focus(1)}}},[t._v("关注")])],1),t._v(" "),a("div",{staticClass:"topic-info__desc bbt-clearfix"},[a("div",[t._v(t._s(t.data.intro))]),t._v(" "),a("div",[t._v("\n              分享到："),a("no-ssr",[a("share",{attrs:{config:t.config,weiboStyle:t.weiboStyle,wechatStyle:t.wechatStyle}})],1)],1)])])]),t._v(" "),a("div",{staticClass:"topic-comment"},[t.comment.list&&t.comment.list.length?a("div",{staticClass:"comment-wrap",class:{"comment-absolute":t.isRender},attrs:{id:"comment-scroll"}},[a("ul",t._l(t.comment.list,(function(e,i){return a("li",{key:i},[a("nuxt-link",{staticClass:"link-dark-minor user-avatar",attrs:{to:"/user/"+e.author_info.id,target:"_blank"}},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:e.author_info.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                    src: item.author_info.avatar,\n                    error: '/images/default/avatar.gif',\n                    loading: '/images/default/avatar.gif',\n                  }",arg:"background-image"}],key:e.author_info.id}),t._v(" "),a("span",[t._v(t._s(e.author_info.name))])]),t._v(" "),a("span",{staticClass:"bbt-dot"}),t._v(" "),a("span",{staticClass:"user-title"},[t._v(t._s(e.author_info.group_title))]),t._v(" "),a("span",{staticClass:"text-overflow comment-content"},[a("nuxt-link",{staticClass:"link-dark-major",attrs:{target:"_blank",to:{name:t.routeType(e.details_url.type,e.details_url.fid,e.details_url.page),params:{id:""+e.details_url.tid,page:""+e.details_url.page},hash:"#floor"+e.details_url.floor}}},[t._v(t._s(t.xss(e.content)))])],1),t._v(" "),a("span",{staticClass:"comment-time"},[t._v(t._s(t._f("timeAgo")(e.create_time)))])],1)})),0)]):t._e(),t._v(" "),a("div",{staticClass:"comment-input"},[a("el-input",{attrs:{placeholder:"参与话题互动，回车发布"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onSubmit(e)}},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}})],1)])],1)])])}),[],!1,null,"b6cfa254",null).exports),C=a(637),O=a(78),j={props:{data:{type:Array},count:{type:Number,default:5}},methods:{getRouteName:function(t,e){return Object(u.e)(t,e)}}},D=(a(1495),Object(p.a)(j,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    相关报道\n  ")]),t._v(" "),a("div",{staticClass:"article-box"},t._l(t.data.slice(0,t.count),(function(e,i){return a("div",{key:i,staticClass:"article-item",class:[0===i?"article-item--lg":"article-item--small"]},[i>0?a("span",{staticClass:"bbt-label bbt-label--top bbt-label--dark"},[t._v(t._s(i+1))]):t._e(),t._v(" "),a("div",{staticClass:"article-item__thumb"},[a("a",{attrs:{href:"https://www.8btc.com/"+t.getRouteName(e.post_type,e.non_original)+"/"+e.id,target:"_blank",rel:"noopener"}},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:e.images[0]||e.images[1],error:"/images/default/news.jpg",loading:"/images/default/news.jpg"},expression:"{\n              src: item.images[0] || item.images[1],\n              error: '/images/default/news.jpg',\n              loading: '/images/default/news.jpg'\n          }",arg:"background-image"}],key:e.id,staticStyle:{"background-image":"url('/images/default/news.jpg')"},attrs:{alt:e.title}})])]),t._v(" "),a("div",{staticClass:"article-item__body"},[a("div",{staticClass:"article-item__title"},[a("a",{staticClass:"bbt-block",class:[0===i?"link-light-major":"link-dark-major"],attrs:{href:"https://www.8btc.com/"+t.getRouteName(e.post_type,e.non_original)+"/"+e.id,target:"_blank",rel:"noopener"}},[t._v("\n            "+t._s(e.title)+"\n          ")])]),t._v(" "),i>0?a("div",{staticClass:"article-item__info bbt-clearfix"},[a("span",{staticClass:"article-item__info-item"},[t._v("\n            "+t._s(t._f("timeAgo")(e.post_date))+"\n          ")])]):t._e()])])})),0)])}),[],!1,null,"1c0d83f0",null).exports),S={components:{XCountdown:a(106).a},props:{data:{type:Object}},data:function(){return{isStart:1e3*this.data.activity.starttimefrom<=(new Date).getTime(),isEnd:1e3*this.data.activity.starttimeto<=(new Date).getTime()}},methods:{start_callback:function(){this.isStart=!0},end_callback:function(){this.isEnd=!0}}},P=(a(1496),{components:{XAmaStatus:Object(p.a)(S,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isStart||t.isEnd?t.isStart&&!t.isEnd?a("div",{staticClass:"timestamp"},[t._v("\n    距离结束还有:"),a("x-countdown",{attrs:{time:t.data.activity.starttimeto,type:"1"},on:{end_callback:t.end_callback}}),a("span",[t._v("参与人数："+t._s(t.data.replies))])],1):a("div",{staticClass:"timestamp"},[a("span",[t._v("已结束")]),a("span",[t._v("参与人数："+t._s(t.data.replies))])]):a("div",{staticClass:"timestamp"},[t._v("\n    距离开始还有:"),a("x-countdown",{attrs:{time:t.data.activity.starttimefrom,type:"0"},on:{start_callback:t.start_callback}}),a("span",[t._v("参与人数："+t._s(t.data.replies))])],1)])}),[],!1,null,"0a2250b3",null).exports},props:{data:{type:Array}}}),E=(a(1497),Object(p.a)(P,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l(t.data,(function(e,i){return a("div",{key:i,staticClass:"ama-block bbt-clearfix"},[a("div",{staticClass:"ama-block__index"},[t._v("\n      "+t._s(e.activity.place)+"\n      "),a("i")]),t._v(" "),a("div",{staticClass:"ama-block__image"},[a("nuxt-link",{attrs:{to:{name:"ama-id",params:{id:""+(e.tid||e.id)}},target:"_blank"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.activity&&(e.activity.thumb||e.activity.attachurl),error:"/images/default/news.jpg",loading:"/images/default/news.jpg"},expression:"{\n            src:\n              item.activity &&\n              (item.activity.thumb || item.activity.attachurl),\n            error: '/images/default/news.jpg',\n            loading: '/images/default/news.jpg',\n          }"}],attrs:{src:"/images/default/news.jpg"}})])],1),t._v(" "),a("div",{staticClass:"ama-block__info"},[a("h6",[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"ama-id",params:{id:""+(e.tid||e.id)}},target:"_blank"}},[t._v("\n          "+t._s(e.title)+"\n        ")])],1),t._v(" "),e.activity.guest?a("p",[a("span",[t._v("嘉宾")]),t._v(" "+t._s(e.activity.guest)+"\n      ")]):t._e(),t._v(" "),a("p",{domProps:{innerHTML:t._s(e.desc||e.content)}}),t._v(" "),a("x-ama-status",{attrs:{data:e}})],1)])})),0)}),[],!1,null,"3b734364",null).exports);function T(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var $={validate:function(t){var e=t.params;return/^[1-9]+[0-9]*]*$/.test(e.id)},components:{XTab:c.a,XTopicHeader:x,XBrowsingModule:C.a,XHotComment:O.a,XHotArticle:D,XAmaListModule:E},data:function(){return{isLoading:!1}},fetch:function(t){var e=t.store,a=(t.cookie,t.res,t.error),i=(t.redirect,t.route),r=i.name,n=i.params.id;return Promise.all([e.dispatch("topic/FETCH_DETAIL",{params:{chainnode_topic_id:n},tag:r.split("-")[2]||null}),e.dispatch("topic/FETCH_ARTICLE_SINGLE",{params:{chainnode_topic_id:n,page_size:5,page:1,orderby:"views"},type:"reportItems"}),e.dispatch("topic/FETCH_COMMENT_SINGLE",{params:{chainnode_topic_id:n,page_size:5,page:1,orderby:"like"},type:"goldCommentItems"}),e.dispatch("topic/FETCH_TOPIC_COMMENT",{params:{chainnode_topic_id:n,page_size:50},type:"usersCommentItems"}),e.dispatch("topic/FETCH_COMMENT_USER",{params:{chainnode_topic_id:n}})]).catch((function(t){return t&&404===t.code?a({statusCode:404}):a({statusCode:500})}))},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?T(Object(a),!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(o.c)({topic:function(t){return t.topic}}),{id:function(){return this.$route.params.id},menuData:function(){return this.topic.items[this.id].tag},topicInfo:function(){return this.topic.items[this.id].topic},comment:function(){return this.topic.usersCommentItems[this.id]},currentType:function(){return this.$route.name.split("-")[2]||null},currentId:function(){var t=this,e=0;return this.menuData&&this.menuData.length&&this.menuData.map((function(a,i){a.type==t.currentType&&(e=a.id)})),e},currentIndex:function(){var t=this,e=0;return this.menuData&&this.menuData.length&&this.menuData.map((function(a,i){a.type==t.currentType&&(e=i)})),e},page:function(){return Number(this.$route.query.page)||1},users:function(){return this.topic.usersItems[this.id]},hotComment:function(){return this.topic.goldCommentItems[this.id]},hotArticle:function(){return this.topic.reportItems[this.id]},amaData:function(){return this.topic.viewpointItems[this.id].master_view}}),watch:{$route:function(){this.isLoading=!1}},methods:{switchTab:function(t){this.isLoading=!0,t.type?this.$router.push({path:"/hot/".concat(this.id,"/").concat(t.type)}):this.$router.push({path:"/hot/".concat(this.id)})},getTitle:function(){return this.page>1?this.menuData[this.currentIndex].type?"第".concat(this.page,"页 - ").concat(this.menuData[this.currentIndex].name," - ").concat(this.topicInfo.title," - 热门话题"):"第".concat(this.page,"页 - ").concat(this.topicInfo.title," - 热门话题"):this.menuData[this.currentIndex].type?"".concat(this.menuData[this.currentIndex].name," - ").concat(this.topicInfo.title," - 热门话题"):"".concat(this.topicInfo.title," - 热门话题")}},head:function(){return{title:this.getTitle(),meta:[{hid:"description",name:"description",content:this.topicInfo.intro}]}}},L=(a(1498),Object(p.a)($,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-main"},[a("x-topic-header",{attrs:{data:t.topicInfo,comment:t.comment}}),t._v(" "),a("div",{staticClass:"topic-main",attrs:{id:"topic-main"}},[a("div",{staticClass:"bbt-container"},[a("x-tab",{staticStyle:{"margin-bottom":"40px"},attrs:{menu:t.menuData,size:"lg",currentId:t.currentId,currentIndex:t.currentIndex},on:{switch:t.switchTab}}),t._v(" "),"hot-id-opinion"===t.$route.name&&t.amaData.list&&t.amaData.list.length&&!t.isLoading?a("div",[a("x-ama-list-module",{attrs:{data:t.amaData.list}})],1):t._e(),t._v(" "),a("bbt-row",[a("bbt-col",{attrs:{span:{xs:17}}},[a("bbt-loading",{style:t.isLoading?"min-height: 1000px;":"",attrs:{loading:t.isLoading}},[a("nuxt-child")],1)],1),t._v(" "),a("bbt-col",{attrs:{span:{xs:7}}},[a("x-browsing-module",{attrs:{data:t.users.list,needLazy:!1,isFromTopic:!0,title:"话题参与"}}),t._v(" "),a("x-hot-comment",{attrs:{data:t.hotComment.list,title:"神评论",needLazy:!1}}),t._v(" "),t.hotArticle.list&&t.hotArticle.list.length?a("x-hot-article",{attrs:{data:t.hotArticle.list}}):t._e()],1)],1)],1)])],1)}),[],!1,null,null,null));e.default=L.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6),a(33);var i,r,n,s,o=a(1),c=(a(4),a(3),a(19),a(2)),l=a(8),u={props:{data:{type:Array},styles:{type:String}},data:function(){return{cats:["31","32","35","36"]}}},d=a(0),p=Object(d.a)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("bbt-crumb",{staticStyle:{"margin-bottom":"0"},attrs:{type:t.styles,icon:"right"}},[a("bbt-crumb-item",[a("nuxt-link",{attrs:{to:{name:"index"}}},[a("bbt-icon",{staticStyle:{"font-size":"12px"},attrs:{type:"home"}}),t._v(" ChainNode 链节点\n      ")],1)],1),t._v(" "),t.data[1]?a("bbt-crumb-item",[a("nuxt-link",{attrs:{to:{name:"tutorials"}}},[t._v(t._s(t.data[1].name))])],1):t._e(),t._v(" "),t.data[2]&&t.cats.includes(""+t.data[2].id)?a("bbt-crumb-item",[a("nuxt-link",{attrs:{to:{name:"tutorials-id",params:{id:""+t.data[2].id}}}},[t._v("\n        "+t._s(t.data[2].name)+"\n      ")])],1):t._e(),t._v(" "),a("bbt-crumb-item",[t._v("\n      "+t._s(t.data[t.data.length-1].name)+"\n    ")])],1)],1)}),[],!1,null,null,null).exports,m=a(24),f=a.n(m),h={props:{data:{type:Object}},methods:{formatterTime:function(t){return f()(1e3*t).format()}}},v=(a(1554),Object(d.a)(h,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header-module bbt-clearfix"},[a("div",{staticClass:"header-module__box"},[a("h1",[t._v("\n      "+t._s(t.data.title)+"\n    ")]),t._v(" "),a("div",{staticClass:"header-module__info bbt-clearfix"},[a("div",{staticClass:"header-module__author"},[a("span",{staticClass:"font-medium"},[a("nuxt-link",{staticClass:"link-dark-major",attrs:{target:"_blank",to:"/user/"+t.data.uid}},[t._v(t._s(t.data.username))])],1),t._v(" "),a("span",[t._v(t._s(t.data.user.grouptitle))]),t._v(" "),a("span",[t._v("船龄 "),a("span",{staticClass:"font-medium"},[t._v(t._s(t.data.user.date))])]),t._v(" "),a("span",{staticClass:"bbt-dot"}),t._v(" "),a("time",{attrs:{datatime:t.formatterTime(t.data.dateline)}},[t._v(t._s(t._f("timeGMT")(t.data.dateline)))]),t._v(" "),a("span",{staticClass:"bbt-dot"}),t._v(" "),a("span",[t._v("来源 "),a("span",{staticClass:"font-medium"},[t._v(t._s(t.data.from))])])]),t._v(" "),a("div",{staticClass:"header-module__num"},[a("span",[a("bbt-icon",{attrs:{type:"eye"}}),t._v(" "+t._s(t.data.viewnum)+"\n        ")],1),t._v(" "),a("span",[a("bbt-icon",{attrs:{type:"comment"}}),t._v(" "+t._s(t.data.commentnum)+"\n        ")],1)])])])])}),[],!1,null,"7483555b",null).exports),b=a(18),_=a(174),g=a(15),y=a(14),w=a(17);function k(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var x,C,O,j,D={inject:["injectData"],components:{XSharepop:_.a},props:["data"],data:function(){return{scrollTop:0,windowHeight:0,elemTopScroll:0,cls:null,debounceSFn:null,debounceRFn:null}},mounted:function(){this.$nextTick((function(){this.windowHeight=document.documentElement.clientHeight,this.handleScroll(),this.handleResize(),this.debounceSFn=Object(y.b)(this.handleScroll,100),this.debounceRFn=Object(y.b)(this.handleResize,100),window.addEventListener("scroll",this.debounceSFn),window.addEventListener("resize",this.debounceRFn)}))},destroyed:function(){window.removeEventListener("scroll",this.debounceSFn),window.removeEventListener("resize",this.debounceRFn)},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?k(Object(a),!0).forEach((function(e){Object(o.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(c.c)({userinfo:function(t){return t.userinfo}}),{uid:function(){return this.userinfo.uid},qrcodeUrl:function(){return"".concat(g.e.host,"/tutorial/").concat(this.data.aid)},weiboUrl:function(){return this.data.images&&this.data.images[0]?"".concat(g.e.weibo_share_url,"?url=").concat(g.e.host,"/tutorial/").concat(this.data.aid,"&title=").concat(this.data.title,"&pic=").concat(this.data.images[0]):"".concat(g.e.weibo_share_url,"?url=").concat(g.e.host,"/tutorial/").concat(this.data.aid,"&title=").concat(this.data.title)}}),methods:(i=Object(w.a)(),r=Object(w.a)(),n=Object(w.a)(),s={toComment:function(){document.getElementById("comment-box")&&document.getElementById("comment-box").scrollIntoView()},like:function(t){var e=this;this.$store.dispatch("tutorial/ARTICLE_LIKE",{params:{id:t,uid:this.uid,type:"support"},id:t}).catch((function(t){e.$message({message:t.message,type:"danger"})}))},unlike:function(t){var e=this;this.$store.dispatch("tutorial/ARTICLE_UNLIKE",{params:{id:t,uid:this.uid,type:"support"},id:t}).catch((function(t){e.$message({message:t.message,type:"danger"})}))},fav:function(t,e){var a=this;this.$store.dispatch("tutorial/COURSE_FAV",{params:{id:t,uid:this.uid,type:"article",op:e},id:t}).catch((function(t){a.$message({message:t.message,type:"danger"})}))},handleScroll:function(){this.elemTopScroll=Object(y.i)(document.getElementsByClassName("share-module")[0]).y,this.scrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,this.scrollTop+this.windowHeight>=this.elemTopScroll?this.cls=null:this.cls="fixed"},handleResize:function(){this.windowHeight=document.documentElement.clientHeight,this.elemTopScroll=Object(y.i)(document.getElementsByClassName("share-module")[0]).y,this.scrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,this.scrollTop+this.windowHeight>=this.elemTopScroll?this.cls=null:this.cls="fixed"}},Object(b.a)(s,"like",[i],Object.getOwnPropertyDescriptor(s,"like"),s),Object(b.a)(s,"unlike",[r],Object.getOwnPropertyDescriptor(s,"unlike"),s),Object(b.a)(s,"fav",[n],Object.getOwnPropertyDescriptor(s,"fav"),s),s)},S=(a(1555),Object(d.a)(D,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"share-module"},[a("div",{staticClass:"share-module__fix",class:t.cls},[a("div",{class:"fixed"===t.cls?"bbt-container":""},[a("div",{staticClass:"bbt-clearfix",class:"fixed"===t.cls?"bbt-col-xs-16":"",staticStyle:{"padding-left":"0"}},[a("div",{staticClass:"share-module__left"},["1"==t.data.attitude?a("bbt-btn",{staticClass:"share-module__item",attrs:{type:"default"},on:{click:function(e){return t.unlike(t.data.aid)}}},[a("bbt-icon",{attrs:{type:"thumb-up"}}),t._v(" 已赞\n            "+t._s(t.data.like))],1):a("bbt-btn",{staticClass:"share-module__item",attrs:{type:"primary"},on:{click:function(e){return t.like(t.data.aid)}}},[a("bbt-icon",{attrs:{type:"thumb-up"}}),t._v(" 点赞\n            "+t._s(t.data.like))],1),t._v(" "),"0"==t.data.favid?a("a",{staticClass:"link-dark-minor share-module__item",attrs:{href:"javascript:;"},on:{click:function(e){return t.fav(t.data.aid)}}},[a("bbt-icon",{attrs:{type:"star-o"}}),t._v(" "+t._s(t.data.favtimes)+" 次收藏\n          ")],1):a("a",{staticClass:"link-dark-minor share-module__item",attrs:{href:"javascript:;"},on:{click:function(e){return t.fav(t.data.aid,"delete")}}},[a("bbt-icon",{attrs:{type:"star1"}}),t._v(" "+t._s(t.data.favtimes)+" 次收藏\n          ")],1),t._v(" "),a("div",{staticClass:"link-dark-minor share-module__item"},[a("x-sharepop",{attrs:{offset:"fixed"===t.cls?"visibtop":"visibbottom",qrcodeUrl:t.qrcodeUrl,weiboUrl:t.weiboUrl}})],1)],1),t._v(" "),t.data.next?a("div",{staticClass:"share-module__right"},[t._v("\n          下一篇：\n          "),a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"tutorial-id",params:{id:""+t.data.next.aid}}}},[t._v("\n            "+t._s(t.data.next.title)+"\n          ")])],1):t._e()])])])])}),[],!1,null,"1305b754",null).exports),P={mixins:[a(47).a],props:{data:Array,needLazy:Boolean},data:function(){return{openIndex:0}},methods:{fetchModule:function(){var t=this;this.$store.dispatch("tutorial/FETCH_RELATED_ARTICLE",{params:{num:10},type:"related"}).then((function(){window.removeEventListener("scroll",t.debounceFn),t.debounceFn=null,t.isRender=!0,t.isLoading=!1})).catch((function(){t.isLoading=!1}))},mouseover:function(t){this.openIndex=t},refresh:function(){this.openIndex=0,this.$store.dispatch("tutorial/FETCH_RELATED_ARTICLE",{params:{num:10},type:"related"})}}},E=(a(1556),Object(d.a)(P,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data&&t.data.length||t.needLazy&&!t.isRender?a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    推荐教程\n    "),a("div",{staticClass:"bbt-module__more",on:{click:t.refresh}},[a("bbt-icon",{attrs:{type:"refresh"}}),t._v(" 换一批\n    ")],1)]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[a("x-skeleton",{attrs:{needLazy:t.needLazy&&!t.isRender,skin:"hotcourse"}},[a("ul",{staticClass:"post-list"},t._l(t.data,(function(e,i){return a("li",{key:i,class:[{active:t.openIndex==i},"item-index__"+i,"post-list__item"],on:{mouseover:function(e){return t.mouseover(i)}}},[a("div",{staticClass:"post-list__item-title"},[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"tutorial-id",params:{id:""+e.aid}}}},[t._v(t._s(e.title))])],1),t._v(" "),a("div",{staticClass:"post-list__item-desc"},[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"tutorial-id",params:{id:""+e.aid}}}},[t._v(t._s(e.desc))])],1)])})),0)])],1)]):t._e()}),[],!1,null,"ce15e71c",null).exports),T=(a(12),a(42)),$=a(114);function L(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function I(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?L(Object(a),!0).forEach((function(e){Object(o.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):L(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var F={inject:["injectData"],components:{XTab:T.a,XAdminBar:$.a},data:function(){return{form:{comment:""},rules:{comment:[{required:!0,message:"请输入评论内容",trigger:"blur"},{min:5,message:"请输入不少于5个字",trigger:"blur"},{validator:function(t,e,a){e?e.replace(/<[^>]+>/g,"").replace(/(^\s*)|(\s*$)/g,"").replace(/\{\{emoji(([1-6][0-9]?)|(7[0-1])|(0))\}\}/g,"").length>=5?a():a(new Error("请输入不少于5个字")):a(new Error("请输入评论内容"))},trigger:"blur"}]},currentId:null,currentPage:1,pageSize:10,isLoading:!1,isSubmitLoading:!1}},computed:I({},Object(c.c)({userinfo:function(t){return t.userinfo},menu:function(t){return t.menu},comment:function(t){return t.courseComment},manage:function(t){return t.manage}}),{uid:function(){return this.userinfo.uid},routeId:function(){return this.$route.params.id},menuData:function(){return this.menu.course_comment},commentData:function(){return this.comment.items[this.$route.params.id]},totalNum:function(){return Number(this.comment.items[this.$route.params.id].total)||0},currentIndex:function(){var t=this,e=0;return this.menuData.map((function(a,i){a.id==t.currentId&&(e=i)})),e},manageOther:function(){return this.manage.manage.other},canManage:function(){return this.manage.manage.other&&Object(l.h)(this.manage.manage.other)||!1}}),watch:{$route:function(){this.currentPage=1,this.currentId=null,this.isValid=!0}},methods:(x=Object(w.a)(),C=Object(w.a)(),O=Object(w.a)(),j={switchTab:function(t){var e=this;t.id===this.currentId||this.isLoading||(this.currentPage=1,this.isLoading=!0,this.$store.dispatch("courseComment/FETCH_SINGLE",{params:{id:this.routeId,orderby:t.type},id:this.routeId}).then((function(a){e.currentId=t.id,e.isLoading=!1})).catch((function(){e.isLoading=!1})))},like:function(t,e,a){var i=this;this.$store.dispatch("courseComment/COMMENT_LIKE",{params:{id:t,uid:this.uid,type:a},index:e,id:this.routeId}).catch((function(t){i.$message({message:t.message,type:"danger"})}))},cancelLike:function(t,e,a){var i=this;this.$store.dispatch("courseComment/COMMENT_CANCEL_LIKE",{params:{id:t,uid:this.uid,type:a},index:e,id:this.routeId}).catch((function(t){i.$message({message:t.message,type:"danger"})}))},replyCancel:function(t){this.$store.commit("courseComment/SET_REPLY_STATUS",{id:this.routeId,index:t,key:"is_reply",value:"1"})},reply:function(t){this.$store.commit("courseComment/SET_REPLY_STATUS",{id:this.routeId,index:t,key:"is_reply",value:"0"}),setTimeout((function(){document.getElementById("reply_comment_".concat(t)).focus()}))},replySubmit:function(t,e){var a=this;this.$store.commit("courseComment/SET_REPLY_STATUS",{id:this.routeId,index:t,key:"is_loading",value:!0}),this.fetchComment(this.commentData.list[t].reply_comment,e).then((function(){a.$store.commit("courseComment/SET_REPLY_STATUS",{id:a.routeId,index:t,key:"is_reply",value:"1"}),a.$store.commit("courseComment/SET_REPLY_STATUS",{id:a.routeId,index:t,key:"is_loading",value:!1}),a.$store.commit("courseComment/SET_REPLY_STATUS",{id:a.routeId,index:t,key:"reply_comment",value:""})}),(function(e){a.$store.commit("courseComment/SET_REPLY_STATUS",{id:a.routeId,index:t,key:"is_loading",value:!1}),a.$message({message:e.message,type:"danger"})}))},onSubmit:function(){var t=this;this.$refs.form.validate((function(e){e&&(t.isSubmitLoading=!0,t.fetchComment(t.form.comment).then((function(){t.form.comment="",t.isSubmitLoading=!1}),(function(e){t.isSubmitLoading=!1,t.$message({message:e.message,type:"danger"})})))}))},fetchComment:function(t,e){var a={};return e&&(a={pid:e}),this.$store.dispatch("courseComment/ADD_COMMENT",{params:I({id:this.routeId,uid:this.uid,message:Object(l.c)(t).replace(/\r\n/gi,"<br>").replace(/\n/gi,"<br>")},a)})},changePage:function(t){var e=this;t===this.currentPage||this.isLoading||(this.isLoading=!0,this.$store.dispatch("courseComment/FETCH_SINGLE",{params:{id:this.routeId,page:t},id:this.routeId}).then((function(){e.isLoading=!1,e.currentPage=t})).catch((function(){e.isLoading=!1})))}},Object(b.a)(j,"like",[x],Object.getOwnPropertyDescriptor(j,"like"),j),Object(b.a)(j,"cancelLike",[C],Object.getOwnPropertyDescriptor(j,"cancelLike"),j),Object(b.a)(j,"reply",[O],Object.getOwnPropertyDescriptor(j,"reply"),j),j)},N=(a(1557),a(1558),Object(d.a)(F,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"comment-module",attrs:{id:"comment"}},[a("div",{staticClass:"comment-module__guide"},[a("x-tab",{attrs:{size:"lg",menu:t.menuData,currentId:t.currentId,currentIndex:t.currentIndex},on:{switch:t.switchTab}})],1),t._v(" "),t.commentData&&t.commentData.list&&t.commentData.list.length?a("bbt-loading",{attrs:{loading:t.isLoading}},[a("ul",{staticClass:"comment-module__list"},t._l(t.commentData.list,(function(e,i){return a("li",{key:i,staticClass:"comment"},[a("div",{staticClass:"comment__title"},[a("nuxt-link",{staticClass:"link-dark-major",attrs:{target:"_blank",to:"/user/"+e.author_info.uid}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.author_info.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                src: item.author_info.avatar,\n                error: '/images/default/avatar.gif',\n                loading: '/images/default/avatar.gif',\n              }"}],staticClass:"bbt-avatar bbt-avatar--sm",attrs:{src:"/images/default/avatar.gif"}}),t._v("\n            "+t._s(e.author_info.username)+"\n          ")]),t._v(" "),a("span",{staticClass:"comment__level"},[t._v("\n            "+t._s(e.author_info.grouptitle)+"\n          ")]),t._v(" "),a("span",{staticClass:"comment__age"},[t._v("\n            船龄\n            "),a("b",{staticStyle:{color:"rgba(0,0,0,0.88)"}},[t._v(t._s(e.author_info.date))])]),t._v(" "),a("span",{staticClass:"bbt-dot"}),t._v(" "),a("span",{staticClass:"comment__time"},[t._v("\n            "+t._s(t._f("timeGMT")(e.dateline))+"\n          ")])],1),t._v(" "),a("div",{staticClass:"comment__content"},[e.ishiddenreplies||"-5"==e.invisible?a("div",{staticClass:"isHidden"},[a("bbt-icon",{staticStyle:{"font-size":"16px",color:"rgba(0, 0, 0, 0.56)","margin-right":"4px"},attrs:{type:"lock"}}),t._v(t._s(e.message)+"\n          ")],1):a("div",{domProps:{innerHTML:t._s(e.message)}})]),t._v(" "),a("div",{staticClass:"comment__action"},[t.canManage?a("div",{staticClass:"comment__action-item link-dark-minor"},[a("x-admin-bar",{attrs:{manageOther:t.manageOther,pid:e.cid,area:"course"}})],1):t._e(),t._v(" "),"0"==e.is_like?a("a",{staticClass:"comment__action-item link-dark-minor",attrs:{href:"javascript:;"},on:{click:function(a){return t.like(e.cid,i,"support")}}},[a("bbt-icon",{attrs:{type:"thumb-up"}}),t._v(" "+t._s(e.support)+" 赞\n          ")],1):a("a",{staticClass:"comment__action-item link-primary",attrs:{href:"javascript:;"},on:{click:function(a){return t.cancelLike(e.cid,i,"support")}}},[a("bbt-icon",{attrs:{type:"thumb-up"}}),t._v(" "+t._s(e.support)+" 赞\n          ")],1),t._v(" "),a("a",{staticClass:"comment__action-item link-dark-minor",attrs:{href:"javascript:;"},on:{click:function(e){return t.reply(i)}}},[a("bbt-icon",{attrs:{type:"reply"}}),t._v(" 回复\n          ")],1),t._v(" "),"0"==e.is_against?a("a",{staticClass:"comment__action-item link-dark-minor",attrs:{href:"javascript:;"},on:{click:function(a){return t.like(e.cid,i,"against")}}},[a("bbt-icon",{attrs:{type:"thumb-down"}}),t._v(" "+t._s(e.against)+" 踩\n          ")],1):a("a",{staticClass:"comment__action-item link-primary",attrs:{href:"javascript:;"},on:{click:function(a){return t.cancelLike(e.cid,i,"against")}}},[a("bbt-icon",{attrs:{type:"thumb-down"}}),t._v(" "+t._s(e.against)+" 踩\n          ")],1)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"0"==e.is_reply,expression:"item.is_reply == '0'"}],staticClass:"reply-form"},[a("div",{staticClass:"reply-form__comment-wrap"},[a("el-input",{staticClass:"reply-form__comment",attrs:{type:"textarea",autosize:{minRows:1},id:"reply_comment_"+i,placeholder:"回复"+e.author_info.username+"："},model:{value:e.reply_comment,callback:function(a){t.$set(e,"reply_comment",a)},expression:"item.reply_comment"}})],1),t._v(" "),a("div",{staticClass:"reply-form__action"},[a("bbt-btn",{attrs:{type:"default",link:""},on:{click:function(e){return t.replyCancel(i)}}},[t._v("取消")]),t._v(" "),a("bbt-btn",{attrs:{type:"primary",disabled:e.reply_comment.replace(/\{\{emoji(([1-6][0-9]?)|(7[0-1])|(0))\}\}/g,"").length<5||"1"==e.is_loading},on:{click:function(a){return t.replySubmit(i,e.cid)}}},["0"==e.is_loading?a("span",[t._v("回复")]):a("span",[t._v("回复中")])])],1)])])})),0),t._v(" "),a("div",{staticClass:"comment-module__page"},[t.totalNum>t.pageSize?a("el-pagination",{attrs:{layout:"prev, pager, next","current-page":Number.parseInt(t.currentPage),"page-size":t.pageSize,total:t.totalNum},on:{"current-change":t.changePage}}):t._e()],1)]):t._e(),t._v(" "),t.userinfo.uid?a("el-form",{ref:"form",staticClass:"comment-module__form",attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{staticStyle:{"margin-bottom":"16px"},attrs:{prop:"comment"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3},placeholder:"请发表你的真知灼见（不少于5个字）..."},model:{value:t.form.comment,callback:function(e){t.$set(t.form,"comment",e)},expression:"form.comment"}})],1),t._v(" "),a("el-form-item",{staticStyle:{"text-align":"right","margin-bottom":"0"}},[a("bbt-btn",{attrs:{type:"primary",disabled:t.isSubmitLoading},on:{click:t.onSubmit}},[t.isSubmitLoading?a("span",[t._v("评论发表中")]):a("span",[t._v("发表评论")])])],1)],1):a("div",{staticClass:"comment-module__alert"},[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"login-password",query:{back_url:t.$route.path}}}},[t._v("\n      登录\n    ")]),t._v("\n    账号发表你的看法，还没有账号？立即免费\n    "),a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"register",query:{redirect_url:t.$route.fullPath}}}},[t._v("\n      注册\n    ")])],1)],1)}),[],!1,null,"b4ae7496",null).exports);function z(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var M={mixins:[a(52).a],components:{XCrumbs:p,XHeaderModule:v,XShareModule:S,XComment:N,XRelatedCourseModule:E},validate:function(t){var e=t.params;return/^[1-9]+[0-9]*]*$/.test(e.id)},fetch:function(t){var e=t.store,a=(t.cookie,t.res,t.error),i=(t.redirect,t.route.params.id);return Promise.all([e.dispatch("tutorial/FETCH_COURSE_SINGLE",{params:{aid:i}}),e.dispatch("tutorial/FETCH_RELATED_ARTICLE",{params:{num:10},type:"related"}),e.dispatch("courseComment/FETCH_SINGLE",{params:{id:i},id:i}),e.dispatch("manage/FETCH_MANAGE",{params:{type:"other"}})]).catch((function(t){return t&&404===t.code?a({statusCode:404}):a({statusCode:500})}))},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?z(Object(a),!0).forEach((function(e){Object(o.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):z(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(c.c)({tutorial:function(t){return t.tutorial}}),{id:function(){return this.$route.params.id},articleData:function(){return this.tutorial.items[this.id]},relatedData:function(){return this.tutorial.related.list||[]}}),head:function(){return{title:"".concat(this.articleData.title," - 区块链教程"),meta:[{hid:"description",name:"description",content:this.articleData.content?"".concat(this.articleData.content.replace(/<[^>]+>/g,"").substr(0,70),"..."):this.articleData.title},{hid:"keywords",name:"keywords",content:"比特币,比特币资讯,区块链,区块链资讯,数字货币,数字货币资讯,虚拟货币,虚拟货币资讯"},{hid:"og:type",property:"og:type",content:"article"},{hid:"og:image",property:"og:image",content:"https://bbtcdn.8btc.com/data/attachment/".concat(this.articleData.pic)},{hid:"og:release_date",property:"og:release_date",content:f()(1e3*this.articleData.dateline).format("YYYY-MM-DD HH:mm:ss")}]}}},A=Object(d.a)(M,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main",staticStyle:{"margin-top":"24px"}},[a("div",{staticClass:"bbt-container"},[t.articleData&&t.articleData.nav?a("x-crumbs",{attrs:{data:t.articleData.nav}}):t._e(),t._v(" "),a("bbt-row",[a("bbt-col",{attrs:{span:{xs:16}}},[a("x-header-module",{attrs:{data:t.articleData}}),t._v(" "),t.articleData.content?a("div",{directives:[{name:"viewer",rawName:"v-viewer"},{name:"lazy-container",rawName:"v-lazy-container",value:{selector:"img"},expression:"{ selector: 'img' }"}],staticClass:"bbt-html",domProps:{innerHTML:t._s(t.transHtmlAsGroup(t.articleData.content,!1,!1))}}):t._e(),t._v(" "),a("x-share-module",{attrs:{data:t.articleData}}),t._v(" "),a("x-comment")],1),t._v(" "),a("bbt-col",{attrs:{span:{xs:7},offset:1}},[a("x-related-course-module",{attrs:{data:t.relatedData,needLazy:!1}})],1)],1)],1)])}),[],!1,null,null,null);e.default=A.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(4),a(3),a(6),a(23),a(12),a(25);var i=a(1),r=a(2),n=a(22),s=a.n(n),o=(a(33),a(41)),c=a(24),l=a.n(c),u=a(14),d=a(83),p=a(1386),m=a.n(p),f={components:{XCropper:d.a},props:{data:{type:Object}},data:function(){var t=this,e=function(t,e,a){/^((ht|f)tps?):\/\/([\w\-]+(\.[\w\-]+)*\/)*[\w\-]+(\.[\w\-]+)*\/?(\?([\w\-\.,@?^=%&:\/~\+#]*)+)?/.test(e)||!e?a():a(new Error("请输入正确的url"))};return{options:m.a,typeOptions:["聚会交流","课程讲座","会议展览","创业路演","线上活动","其他"],isVisible:!1,isLoading:!1,iptValue:null,option:{img:null,autoCropWidth:375,autoCropHeight:225,fixedNumber:[5,3]},ruleForm:{title:this.data&&this.data.title||null,date1:this.data&&this.data.activity&&l()(1e3*this.data.activity.starttimefrom).format("YYYY-MM-DD HH:mm:ss")||null,date2:this.data&&this.data.activity&&l()(1e3*this.data.activity.starttimeto).format("YYYY-MM-DD HH:mm:ss")||null,type:this.data&&this.data.activity&&this.data.activity.class||null,applynumber:this.data&&this.data.activity&&this.data.activity.number||null,province:this.data&&this.data.activity&&[this.getArea(this.data.activity.place).Province,this.getArea(this.data.activity.place).City]||[],place:this.data&&this.data.activity&&this.getArea(this.data.activity.place).Area||null,imgUrl:this.data&&this.data.activity&&this.data.activity.thumb||null,islive:this.data&&this.data.activity&&Number.parseInt(this.data.activity.extrafield.livetype)||0,liveurl:this.data&&this.data.activity&&this.data.activity.extrafield.liveurl||null,reviewurl:this.data&&this.data.activity&&this.data.activity.extrafield.reviewurl||null},rules:{type:[{required:!0,message:"请选择活动类型",trigger:"change"}],title:[{required:!0,message:"请输入活动标题",trigger:["blur","change"]},{min:1,max:35,message:"活动标题长度在 1 到 35 个字符",trigger:["blur","change"]}],date1:[{required:!0,message:"请选择开始时间",trigger:"change"},{validator:function(e,a,i){a?(t.ruleForm.date2&&t.$refs.ruleForm.validateField("date2"),i()):i(new Error("请选择活动开始时间"))},trigger:["blur","change"]}],date2:[{required:!0,message:"请选择结束时间",trigger:"change"},{validator:function(e,a,i){a?(t.ruleForm.date1&&(new Date(t.ruleForm.date1).getTime()>new Date(a).getTime()&&i(new Error("活动结束时间不能小于开始时间")),i()),i()):i(new Error("请选择活动结束时间"))},trigger:["blur","change"]}],applynumber:[{required:!0,message:"请输入活动最高人数",trigger:["blur","change"]},{validator:function(t,e,a){e||a(new Error("请输入活动最高人数")),/^[1-9]\d*$/.test(e)?a():a(new Error("请输入正整数"))},trigger:["blur","change"]}],province:[{required:!0,message:"请选择地区",trigger:"change"}],place:[{required:!0,message:"请输入活动地点",trigger:["blur","change"]}],imgUrl:[{required:!0,message:"请选择活动封面",trigger:["change","blur"]}],islive:[{required:!0,trigger:"change"}],liveurl:[{validator:e,trigger:["blur","change"]}],reviewurl:[{validator:e,trigger:["blur","change"]}]},startTime:{disabledDate:function(e){return t.ruleForm.date2&&e.getTime()>new Date(t.ruleForm.date2).getTime()||e.getTime()<(new Date).getTime()-864e5}},endTime:{disabledDate:function(e){return t.ruleForm.date1?e.getTime()<(new Date).getTime()-864e5||e.getTime()<new Date(t.ruleForm.date1).getTime()-864e5:e.getTime()<(new Date).getTime()-864e5}}}},methods:{validatorForm:function(){var t=this;return new Promise((function(e,a){t.$refs.ruleForm.validate((function(t,i){t?e(t):a(i)}))}))},closeDialog:function(){this.isLoading=!1,this.isVisible=!1},removeCover:function(){this.iptValue=null,this.ruleForm.imgUrl=null},uploadPhoto:function(t){var e=this,a=t.target.files[0];if(a){var i=new FileReader;i.onload=function(t){var a;a="object"===Object(o.a)(t.target.result)?window.URL.createObjectURL(new Blob([t.target.result])):t.target.result,e.option.img=a,e.isVisible=!0,e.iptValue=null},i.readAsArrayBuffer(a)}},cropImage:function(t){var e=this;this.isLoading=!0,Object(u.l)(t,"activity",!0,this.$store.$api).then((function(t){e.isLoading=!1,e.ruleForm.imgUrl=t.data,e.isVisible=!1,e.$refs.ruleForm.clearValidate()})).catch((function(t){e.isLoading=!1,e.$message({type:"danger",message:t.message})}))},getArea:function(t){var e={},a=0,i=0,r=0;if(-1!==t.indexOf("海外"))e.Province=t.substring(0,2),e.City=null,e.Area=t.substring(2);else if(-1!==t.indexOf("钓鱼岛"))e.Province=t.substring(0,3),e.City=null,e.Area=t.substring(3);else if(-1!==(a=t.indexOf("省"))?e.Province=t.substring(0,a+1):-1!==(i=t.indexOf("自治区"))?e.Province=t.substring(0,i+3):-1!==(i=t.indexOf("行政区"))?e.Province=t.substring(0,i+3):-1!==t.indexOf("市")?e.Province=t.substring(0,3):e.Province=null,-1!==(r=t.indexOf("市")))0==i?e.City=t.substring(a+1,r+1):e.Province?e.City=null:e.City=t.substring(i+3,r+1);else{var n=t.indexOf("自治州");if(-1!==n)e.City=0==i?t.substring(a+1,n+3):t.substring(i+3,n+3);else{var s=t.indexOf("地区");e.City=-1!==s?0==i?t.substring(a+1,s+2):t.substring(i+3,s+2):null}}return e.Area=t.replace(e.Province,"").replace(e.City,""),e},changeStime:function(){this.$emit("change",this.ruleForm.date1)}}},h=(a(1387),a(1388),a(0)),v=Object(h.a)(f,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    活动信息\n  ")]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[a("el-form",{ref:"ruleForm",staticClass:"bbt-clearfix",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"104px"}},[a("el-form-item",{attrs:{label:"活动标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请在此填写标题",maxlength:"35","show-word-limit":""},model:{value:t.ruleForm.title,callback:function(e){t.$set(t.ruleForm,"title",e)},expression:"ruleForm.title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"活动时间",for:"date",required:""}},[a("bbt-col",{staticStyle:{padding:"0"},attrs:{span:{xs:11}}},[a("el-form-item",{attrs:{prop:"date1"}},[a("el-date-picker",{attrs:{placeholder:"请选择开始时间","picker-options":t.startTime,type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss"},on:{change:t.changeStime},model:{value:t.ruleForm.date1,callback:function(e){t.$set(t.ruleForm,"date1",e)},expression:"ruleForm.date1"}})],1)],1),t._v(" "),a("bbt-col",{staticStyle:{"text-align":"center"},attrs:{span:{xs:2}}},[t._v("至")]),t._v(" "),a("bbt-col",{staticStyle:{padding:"0"},attrs:{span:{xs:11}}},[a("el-form-item",{attrs:{prop:"date2"}},[a("el-date-picker",{attrs:{placeholder:"请选择结束时间","picker-options":t.endTime,type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.ruleForm.date2,callback:function(e){t.$set(t.ruleForm,"date2",e)},expression:"ruleForm.date2"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"活动分类",prop:"type"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择活动分类"},model:{value:t.ruleForm.type,callback:function(e){t.$set(t.ruleForm,"type",e)},expression:"ruleForm.type"}},t._l(t.typeOptions,(function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})})),1)],1),t._v(" "),"线上活动"==t.ruleForm.type?a("el-form-item",{attrs:{label:"活动地点",prop:"place",for:"address"}},[a("el-input",{attrs:{placeholder:"请输入活动地点"},model:{value:t.ruleForm.place,callback:function(e){t.$set(t.ruleForm,"place",e)},expression:"ruleForm.place"}})],1):a("el-form-item",{attrs:{label:"活动地点",for:"address"}},[a("bbt-col",{staticStyle:{padding:"0 12px 0 0"},attrs:{span:{xs:8}}},[a("el-form-item",{attrs:{prop:"province",required:""}},[a("el-cascader",{staticStyle:{width:"100%"},attrs:{options:t.options,placeholder:"请选择地区",filterable:!0},model:{value:t.ruleForm.province,callback:function(e){t.$set(t.ruleForm,"province",e)},expression:"ruleForm.province"}})],1)],1),t._v(" "),a("bbt-col",{staticStyle:{padding:"0"},attrs:{span:{xs:16}}},[a("el-form-item",{attrs:{prop:"place",required:""}},[a("el-input",{attrs:{placeholder:"请输入活动地点"},model:{value:t.ruleForm.place,callback:function(e){t.$set(t.ruleForm,"place",e)},expression:"ruleForm.place"}})],1)],1)],1),t._v(" "),a("el-form-item",{staticStyle:{width:"376px"},attrs:{label:"活动人数",prop:"applynumber"}},[a("el-input",{attrs:{placeholder:"请输入参与活动的最高人数",type:"number"},model:{value:t.ruleForm.applynumber,callback:function(e){t.$set(t.ruleForm,"applynumber",e)},expression:"ruleForm.applynumber"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否直播",prop:"islive",for:"video"}},[a("el-radio-group",{model:{value:t.ruleForm.islive,callback:function(e){t.$set(t.ruleForm,"islive",e)},expression:"ruleForm.islive"}},[a("el-radio",{staticStyle:{display:"inline"},attrs:{label:1},model:{value:t.ruleForm.islive,callback:function(e){t.$set(t.ruleForm,"islive",e)},expression:"ruleForm.islive"}},[t._v("活动期间，同步直播")]),t._v(" "),a("el-radio",{staticStyle:{display:"inline","margin-left":"24px"},attrs:{label:0},model:{value:t.ruleForm.islive,callback:function(e){t.$set(t.ruleForm,"islive",e)},expression:"ruleForm.islive"}},[t._v("活动期间，不同步直播")])],1)],1),t._v(" "),t.ruleForm.islive?a("div",{staticClass:"live-config"},[a("el-form-item",{attrs:{label:"直播链接",prop:"liveurl"}},[a("el-input",{attrs:{placeholder:"活动进行中，用户可通过该链接同步观看直播"},model:{value:t.ruleForm.liveurl,callback:function(e){t.$set(t.ruleForm,"liveurl",e)},expression:"ruleForm.liveurl"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"回放链接",prop:"reviewurl"}},[a("el-input",{attrs:{placeholder:"活动结束后，用户可通过该链接回看活动直播"},model:{value:t.ruleForm.reviewurl,callback:function(e){t.$set(t.ruleForm,"reviewurl",e)},expression:"ruleForm.reviewurl"}})],1)],1):t._e(),t._v(" "),a("el-form-item",{staticClass:"event-image",attrs:{label:"活动封面",prop:"imgUrl",for:"imgUrl",required:""}},[a("div",{staticClass:"upload-item"},[t.ruleForm.imgUrl?a("img",{attrs:{src:t.ruleForm.imgUrl}}):a("div",{staticClass:"upload-item__text"},[a("p",{staticClass:"icon-add"},[t._v("+")]),t._v(" "),a("p",{staticClass:"text-add"},[t._v("上传活动封面")]),t._v(" "),a("p",{staticClass:"text-limit"},[a("span",{staticClass:"bbt-dot"}),t._v("图片尺寸 1000*600，.jpg 或\n              .png格式，不超过 4M\n            ")]),t._v(" "),a("p",{staticClass:"text-limit"},[a("span",{staticClass:"bbt-dot"}),t._v("优质的海报能够吸引参会者，且有机会获得首页推荐\n            ")])]),t._v(" "),t.ruleForm.imgUrl?a("div",{staticClass:"upload-item__operate"},[a("span",[a("bbt-icon",{attrs:{type:"picture"}}),t._v(" "),a("el-input",{staticClass:"icon-ipt",attrs:{type:"file",accept:"image/gif,image/jpeg,image/jpg,image/png"},nativeOn:{change:function(e){return t.uploadPhoto(e)}},model:{value:t.iptValue,callback:function(e){t.iptValue=e},expression:"iptValue"}})],1),t._v(" "),a("span",{on:{click:t.removeCover}},[a("bbt-icon",{attrs:{type:"delete"}})],1)]):a("el-input",{staticClass:"file-ipt",attrs:{type:"file",accept:"image/gif,image/jpeg,image/jpg,image/png"},nativeOn:{change:function(e){return t.uploadPhoto(e)}},model:{value:t.iptValue,callback:function(e){t.iptValue=e},expression:"iptValue"}})],1)])],1)],1),t._v(" "),a("x-cropper",{attrs:{title:"活动封面",option:t.option,isVisible:t.isVisible,isLoading:t.isLoading},on:{close:t.closeDialog,crop:t.cropImage}})],1)}),[],!1,null,"d75aace2",null).exports,b={props:{data:{type:Object},index:{type:Number},actStartTime:{type:Number|String}},data:function(){return{info:{desc:null,url:null,timeset:0,date1:null,date2:null},startTime:null,endTime:null}},mounted:function(){var t=this;this.info=Object(u.c)(this.data),this.startTime={disabledDate:function(e){return t.info.date2?(new Date).getTime()-864e5>e.getTime()||e.getTime()>=new Date(t.info.date2).getTime()||e.getTime()>t.actStartTime:(new Date).getTime()-864e5>e.getTime()||e.getTime()>t.actStartTime}},this.endTime={disabledDate:function(e){return t.info.date1?(new Date).getTime()-864e5>e.getTime()||e.getTime()<=new Date(t.info.date1).getTime()-864e5||e.getTime()>t.actStartTime:(new Date).getTime()-864e5>e.getTime()||e.getTime()>t.actStartTime}}},methods:{cancelInfo:function(t){this.$emit("cancel",t)},saveInfo:function(t){this.$emit("save",this.info,t)}}},_=(a(1389),a(1390),Object(h.a)(b,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ticket-config"},[a("el-form-item",{attrs:{label:"票种说明"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入票种说明"},model:{value:t.info.desc,callback:function(e){t.$set(t.info,"desc",e)},expression:"info.desc"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"购票地址"}},[a("el-input",{attrs:{type:"text",placeholder:"若该票种在第三方平台购买，请在此输入购票地址"},model:{value:t.info.url,callback:function(e){t.$set(t.info,"url",e)},expression:"info.url"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"订购时间"}},[a("el-radio-group",{model:{value:t.info.timeset,callback:function(e){t.$set(t.info,"timeset",e)},expression:"info.timeset"}},[a("el-radio",{staticStyle:{display:"inline"},attrs:{label:0},model:{value:t.info.timeset,callback:function(e){t.$set(t.info,"timeset",e)},expression:"info.timeset"}},[t._v("活动开始前均可报名")]),t._v(" "),a("el-radio",{staticStyle:{display:"inline","margin-left":"24px"},attrs:{label:1},model:{value:t.info.timeset,callback:function(e){t.$set(t.info,"timeset",e)},expression:"info.timeset"}},[t._v("指定时间内可报名")])],1)],1),t._v(" "),t.info.timeset?a("el-form-item",{attrs:{label:"活动时间",for:"nocoin_date"}},[a("bbt-col",{staticStyle:{padding:"0"},attrs:{span:{xs:11}}},[a("el-form-item",[a("el-date-picker",{attrs:{placeholder:"请选择开始时间","picker-options":t.startTime,type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.info.date1,callback:function(e){t.$set(t.info,"date1",e)},expression:"info.date1"}})],1)],1),t._v(" "),a("bbt-col",{staticStyle:{"text-align":"center"},attrs:{span:{xs:2}}},[t._v("至")]),t._v(" "),a("bbt-col",{staticStyle:{padding:"0"},attrs:{span:{xs:11}}},[a("el-form-item",[a("el-date-picker",{attrs:{placeholder:"请选择结束时间","picker-options":t.endTime,type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.info.date2,callback:function(e){t.$set(t.info,"date2",e)},expression:"info.date2"}})],1)],1)],1):t._e(),t._v(" "),a("el-form-item",{staticStyle:{"text-align":"right"}},[a("bbt-btn",{staticStyle:{"margin-right":"16px"},attrs:{type:"default",size:"sm"},on:{click:function(e){return t.cancelInfo(t.index)}}},[t._v("取 消")]),t._v(" "),!t.info.timeset||t.info.date1&&t.info.date2?a("bbt-btn",{attrs:{type:"primary",size:"sm"},on:{click:function(e){return t.saveInfo(t.index)}}},[t._v("保 存")]):a("bbt-btn",{attrs:{type:"primary",size:"sm",disabled:""}},[t._v("保 存")])],1)],1)}),[],!1,null,"0444b6b8",null).exports),g=a(176),y=a(172),w=a.n(y),k={components:{XTicketInfo:_,XHelpCoin:g.a,Draggable:w.a},props:{data:{type:Object},canEdit:{type:Boolean|Number,default:!0},actStartTime:{type:Number|String}},data:function(){var t=this;return{isLoading:!1,currentIndex:0,ticketStatus:["售票未开始","售票已开始","售票已结束"],selOptions:[{label:"需要审核",value:1},{label:"无需审核",value:0}],selOptions2:[{label:"无需审核",value:0}],ruleForm:{ticketSet:this.data&&this.data.tickets&&this.data.tickets[0].refund_status||0,ticket:function(){var e=[];if(t.data&&t.data.tickets&&t.data.tickets.length)for(var a=0;a<t.data.tickets.length;a++)e.push({id:t.data.tickets[a].ticketid,name:t.data.tickets[a].name,price:t.data.tickets[a].cost,stock:t.data.tickets[a].total,count:t.data.tickets[a].count,examine:t.data.tickets[a].check_status,desc:t.data.tickets[a].description,url:t.data.tickets[a].ticket_url,timeset:t.data.tickets[a].time_set,date1:l()(1e3*t.data.tickets[a].start_time).format("YYYY-MM-DD HH:mm:ss"),date2:l()(1e3*t.data.tickets[a].end_time).format("YYYY-MM-DD HH:mm:ss"),showinfo:!1,statusCode:t.getStatusCode(1e3*t.data.tickets[a].start_time,1e3*t.data.tickets[a].end_time),isTypeShow:!1});else e=[{id:null,name:null,price:null,stock:null,examine:0,count:0,desc:null,url:null,timeset:0,date1:null,date2:null,showinfo:!1,statusCode:1,isTypeShow:!1}];return e}()}}},methods:{checkNum:function(t,e,a){e||a(new Error("请输入票种价格")),/^[0-9]+([.]{1}[0-9]+){0,1}$/.test(e)?(e>1e5&&a(new Error("票种价格不能大于10万")),a()):a(new Error("请输入整数或小数"))},checkIntNum:function(t,e,a){/^[0-9]\d*$/.test(e)||!e?a():a(new Error("请输入正整数"))},changPrice:function(t,e){Number.parseInt(t)?this.ruleForm.ticket[e].examine=0:this.ruleForm.ticket[e].examine=1},removeOption:function(t){var e=this.ruleForm.ticket.indexOf(t);-1!==e&&this.ruleForm.ticket.splice(e,1)},addOption:function(){this.ruleForm.ticket.push({name:null,price:null,stock:null,examine:0,desc:null,url:null,timeset:0,date1:null,date2:null,showinfo:!1,statusCode:1,isTypeShow:!1})},cancel:function(t){this.ruleForm.ticket[t].showinfo=!1},save:function(t,e){this.ruleForm.ticket[e].showinfo=!1,this.ruleForm.ticket[e].timeset=t.timeset,this.ruleForm.ticket[e].date1=t.date1,this.ruleForm.ticket[e].date2=t.date2,this.ruleForm.ticket[e].desc=t.desc,this.ruleForm.ticket[e].url=t.url,this.getTicketStatus(t,e)},getTicketStatus:function(t,e){t.timeset?new Date(t.date1).getTime()>(new Date).getTime()?this.ruleForm.ticket[e].statusCode=0:new Date(t.date1).getTime()<=(new Date).getTime()&&new Date(t.date2).getTime()>(new Date).getTime()?this.ruleForm.ticket[e].statusCode=1:this.ruleForm.ticket[e].statusCode=2:this.ruleForm.ticket[e].statusCode=1},getStatusCode:function(t,e){return new Date(t).getTime()>(new Date).getTime()?0:new Date(t).getTime()<=(new Date).getTime()&&new Date(e).getTime()>(new Date).getTime()?1:2},validatorForm:function(){var t=this;return new Promise((function(e,a){t.$refs.ruleForm.validate((function(t,i){t?e(t):a(i)}))}))}}},x=(a(1392),a(1393),Object(h.a)(k,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    票种信息\n  ")]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[a("div",{staticClass:"form-thead bbt-clearfix"},[a("span",{staticStyle:{width:"24px"}},[t._v("#")]),t._v(" "),a("span",{staticStyle:{width:"276px",padding:"0 12px"}},[t._v("票种名称")]),t._v(" "),a("span",{staticStyle:{width:"230px",padding:"0 12px"}},[t._v("价格（元）")]),t._v(" "),a("span",{staticStyle:{width:"184px",padding:"0 12px"}},[t._v("张数")]),t._v(" "),a("span",{staticStyle:{width:"184px",padding:"0 12px"}},[t._v("审核设置\n        "),a("x-help-coin",[t._v("若报名某票种需审核后才有效，请选择“需要审核”")])],1),t._v(" "),a("span",{staticStyle:{width:"138px",padding:"0 12px"}},[t._v("状态")]),t._v(" "),a("span",{staticStyle:{width:"92px","text-align":"right"}},[t._v("操作")])]),t._v(" "),a("el-form",{ref:"ruleForm",staticClass:"bbt-clearfix",attrs:{model:t.ruleForm,"label-width":"24px"}},[a("draggable",{attrs:{group:"ticket"},model:{value:t.ruleForm.ticket,callback:function(e){t.$set(t.ruleForm,"ticket",e)},expression:"ruleForm.ticket"}},t._l(t.ruleForm.ticket,(function(e,i){return a("el-form-item",{key:i,attrs:{for:"index2",label:""+(i+1)}},[a("div",{staticClass:"bbt-clearfix"},[a("bbt-col",{staticStyle:{padding:"0 12px"},attrs:{span:{xs:6}}},[a("el-form-item",{attrs:{prop:"ticket."+i+".name",rules:{required:!0,message:"请输入票种名称",trigger:"blur"}}},[a("el-input",{attrs:{disabled:!t.canEdit,placeholder:"请输入票种名称"},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"item.name"}})],1)],1),t._v(" "),a("bbt-col",{staticStyle:{padding:"0 12px"},attrs:{span:{xs:5}}},[a("el-form-item",{attrs:{prop:"ticket."+i+".price",rules:[{required:!0,message:"请输入票种价格",trigger:"blur"},{validator:t.checkIntNum,trigger:["blur","change"]}]}},[a("el-input",{attrs:{type:"number",disabled:!t.canEdit,placeholder:"输入 0 则为免费"},nativeOn:{change:function(a){return t.changPrice(e.price,i)}},model:{value:e.price,callback:function(a){t.$set(e,"price",a)},expression:"item.price"}})],1)],1),t._v(" "),a("bbt-col",{staticStyle:{padding:"0 12px"},attrs:{span:{xs:4}}},[a("el-form-item",{attrs:{prop:"ticket."+i+".stock",rules:{validator:t.checkIntNum,trigger:["blur","change"]}}},[a("el-input",{attrs:{type:"number",disabled:!t.canEdit,placeholder:"不填则无限制"},model:{value:e.stock,callback:function(a){t.$set(e,"stock",a)},expression:"item.stock"}})],1)],1),t._v(" "),a("bbt-col",{staticStyle:{padding:"0 12px"},attrs:{span:{xs:4}}},[a("el-form-item",{attrs:{prop:"ticket."+i+".examine"}},[Number.parseInt(e.price)?a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!t.canEdit},model:{value:e.examine,callback:function(a){t.$set(e,"examine",a)},expression:"item.examine"}},t._l(t.selOptions2,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1):a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!t.canEdit},model:{value:e.examine,callback:function(a){t.$set(e,"examine",a)},expression:"item.examine"}},t._l(t.selOptions,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1)],1),t._v(" "),a("bbt-col",{staticStyle:{padding:"0 12px"},attrs:{span:{xs:3}}},[a("span",{style:t.canEdit?"":"color: rgba(0, 0, 0, 0.32)"},[t._v(t._s(t.ticketStatus[t.ruleForm.ticket[i].statusCode]))])]),t._v(" "),a("bbt-col",{staticStyle:{"text-align":"right",padding:"0"},attrs:{span:{xs:2}}},[t.canEdit?a("span",{staticStyle:{"margin-right":"12px"},on:{click:function(t){e.showinfo=!e.showinfo}}},[a("bbt-icon",{staticClass:"link-dark-minor",staticStyle:{"font-size":"20px",cursor:"pointer"},attrs:{type:"setting"}})],1):a("span",{staticStyle:{"margin-right":"12px"}},[a("bbt-icon",{staticClass:"link-dark-minor",staticStyle:{"font-size":"20px",cursor:"not-allowed",color:"rgba(0,0,0,0.3)"},attrs:{type:"setting"}})],1),t._v(" "),i<1?a("span",[a("bbt-icon",{staticStyle:{"font-size":"20px",cursor:"not-allowed",color:"rgba(0,0,0,0.3)"},attrs:{type:"delete"}})],1):i>=1&&t.canEdit?a("span",{on:{click:function(a){return t.removeOption(e)}}},[a("bbt-icon",{staticClass:"link-dark-minor",staticStyle:{"font-size":"20px",cursor:"pointer"},attrs:{type:"delete"}})],1):i>=1&&!t.canEdit?a("span",[a("bbt-icon",{staticStyle:{"font-size":"20px",cursor:"not-allowed",color:"rgba(0,0,0,0.3)"},attrs:{type:"delete"}})],1):t._e()])],1),t._v(" "),e.showinfo?a("x-ticket-info",{attrs:{actStartTime:t.actStartTime,data:e,index:i},on:{cancel:t.cancel,save:t.save}}):t._e()],1)})),1),t._v(" "),a("el-form-item",{staticClass:"ticket-set",attrs:{label:"退款设置"}},[a("el-radio-group",{model:{value:t.ruleForm.ticketSet,callback:function(e){t.$set(t.ruleForm,"ticketSet",e)},expression:"ruleForm.ticketSet"}},[a("el-radio",{staticStyle:{display:"inline"},attrs:{disabled:!t.canEdit,label:0},model:{value:t.ruleForm.ticketSet,callback:function(e){t.$set(t.ruleForm,"ticketSet",e)},expression:"ruleForm.ticketSet"}},[t._v("不接受退款")])],1)],1)],1),t._v(" "),a("p",{staticClass:"link-primary text-notice"},[t._v("\n      温馨提示：活动一旦发布，不可修改票种信息和退款设置\n    ")]),t._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("span",{staticStyle:{color:"rgba(0,0,0,0.56)"}},[a("x-help-coin",{attrs:{title:"提现说明"}},[t._v("活动结束后，请与链节点官方联系结款事项"),a("br"),t._v("联系方式：QQ 3570172588\n          / 微信 leipengbtc")])],1),t._v(" "),t.canEdit?a("bbt-btn",{staticStyle:{"margin-left":"72px"},attrs:{type:"primary",ghost:""},on:{click:t.addOption}},[t._v("增加票种")]):a("bbt-btn",{staticStyle:{"margin-left":"72px"},attrs:{type:"primary",disabled:""}},[t._v("增加票种")])],1)],1)])}),[],!1,null,"48b81da0",null).exports),C={props:{data:{type:Object},field:{type:Array},canEdit:{type:Boolean|Number}},data:function(){var t=this;return{currentIndex:0,ruleForm:{field:function(){var e=[];if(t.data&&t.data.forums&&t.data.forums.length)for(var a=0;a<t.data.forums.length;a++)e.push({text:t.data.forums[a].desc,key:t.data.forums[a].key,placeholder:null,need:t.data.forums[a].required,isTypeShow:!1,isFieldShow:!1});else e=[{text:"真实姓名",key:"realname",placeholder:null,need:1,isTypeShow:!1,isFieldShow:!1},{text:"手机",key:"mobile",placeholder:null,need:1,isTypeShow:!1,isFieldShow:!1},{text:"邮箱",key:"field1",placeholder:null,need:1,isTypeShow:!1,isFieldShow:!1}];return e}()},selOptions:[{label:"必填项",value:1},{label:"选填项",value:0}]}},methods:{removeOption:function(t){var e=this.ruleForm.field.indexOf(t);-1!==e&&this.ruleForm.field.splice(e,1)},addOption:function(){this.ruleForm.field.push({text:this.field[0].name,key:this.field[0].key,placeholder:null,need:0,isTypeShow:!1,isFieldShow:!1})},validatorForm:function(){var t=this;return new Promise((function(e,a){t.$refs.ruleForm.validate((function(t,i){t?e(t):a(i)}))}))},changeField:function(t,e){var a=this.field.filter((function(t){return t.key==e}));this.ruleForm.field[t].text=a[0].name},changeNeed:function(t,e){this.ruleForm.field[t].need=e}}},O=(a(1394),a(1395),Object(h.a)(C,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    表单信息\n  ")]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[t._m(0),t._v(" "),a("el-form",{ref:"ruleForm",staticClass:"bbt-clearfix",attrs:{model:t.ruleForm,"label-width":"24px"}},t._l(t.ruleForm.field,(function(e,i){return a("el-form-item",{key:i,attrs:{for:"index2",label:""+(i+1)}},[a("div",{staticClass:"bbt-clearfix"},[a("bbt-col",{staticStyle:{padding:"0 12px"},attrs:{span:{xs:8}}},[i<=2?a("el-form-item",{attrs:{prop:"field."+i+".text"}},[a("el-input",{attrs:{disabled:""},model:{value:e.text,callback:function(a){t.$set(e,"text",a)},expression:"item.text"}})],1):a("el-form-item",{attrs:{prop:"field."+i+".key",rules:{required:!0,message:"请选择表单项",trigger:"change"}}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!t.canEdit},on:{change:function(a){return t.changeField(i,e.key)}},model:{value:e.key,callback:function(a){t.$set(e,"key",a)},expression:"item.key"}},t._l(t.field,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.key}})})),1)],1)],1),t._v(" "),a("bbt-col",{staticStyle:{padding:"0 12px"},attrs:{span:{xs:9}}},[a("el-form-item",{attrs:{prop:"field."+i+".placeholder"}},[a("el-input",{attrs:{disabled:!t.canEdit,placeholder:"在这里输入表单的默认提示文字"},model:{value:e.placeholder,callback:function(a){t.$set(e,"placeholder",a)},expression:"item.placeholder"}})],1)],1),t._v(" "),a("bbt-col",{staticStyle:{padding:"0 12px"},attrs:{span:{xs:6}}},[a("el-form-item",{attrs:{prop:"field."+i+".need"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!t.canEdit},on:{change:function(a){return t.changeNeed(i,e.need)}},model:{value:e.need,callback:function(a){t.$set(e,"need",a)},expression:"item.need"}},t._l(t.selOptions,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1)],1),t._v(" "),a("bbt-col",{staticStyle:{"text-align":"right",padding:"0"},attrs:{span:{xs:1}}},[i>2&&t.canEdit?a("span",{on:{click:function(a){return t.removeOption(e)}}},[a("bbt-icon",{staticClass:"link-dark-minor",staticStyle:{"font-size":"20px",cursor:"pointer"},attrs:{type:"delete"}})],1):a("span",{attrs:{disabled:""}},[a("bbt-icon",{staticStyle:{"font-size":"20px",color:"rgba(0,0,0,0.3)",cursor:"not-allowed"},attrs:{type:"delete"}})],1)])],1)])})),1),t._v(" "),a("p",{staticClass:"link-primary text-notice"},[t._v("\n      温馨提示：活动一旦发布，不可修改表单信息\n    ")]),t._v(" "),a("div",{staticStyle:{"text-align":"right"}},[t.ruleForm.field.length<t.field.length&&t.canEdit?a("bbt-btn",{attrs:{type:"primary",ghost:""},on:{click:t.addOption}},[t._v("增加报名项")]):a("bbt-btn",{attrs:{type:"primary",disabled:""}},[t._v("增加报名项")])],1)],1)])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-thead bbt-clearfix"},[a("span",{staticStyle:{width:"24px"}},[t._v("#")]),t._v(" "),a("span",{staticStyle:{width:"368px",padding:"0 12px"}},[t._v("表单项目")]),t._v(" "),a("span",{staticStyle:{width:"414px",padding:"0 12px"}},[t._v("表单提示")]),t._v(" "),a("span",{staticStyle:{width:"276px",padding:"0 12px"}},[t._v("是否必填")]),t._v(" "),a("span",{staticStyle:{width:"40px","text-align":"right"}},[t._v("操作")])])}],!1,null,"14ef4fdc",null).exports);function j(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function D(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?j(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var S={middleware:"login",mixins:[a(90).a],components:{XActivityInfo:v,XActivityTicket:x,XActivityField:O},data:function(){return{actStartTime:Date.parse(new Date),checked:!0}},computed:D({},Object(r.c)({release:function(t){return t.release}}),{formField:function(){return this.release.field}}),mounted:function(){this.actStartTime=Date.parse(new Date(this.$refs.activityinfo.ruleForm.date1))},methods:{changeActTime:function(t){this.actStartTime=Date.parse(new Date(t))},submitPost:function(t){var e=this;return this.checkTicketTime()?this.checked?void this.$refs.activityinfo.validatorForm().then((function(){return e.$refs.editor.validatorText()})).then((function(){return!e.$refs.ticket||e.$refs.ticket.validatorForm()})).then((function(){return!e.$refs.field||e.$refs.field.validatorForm()})).then((function(a){if(a){var i=null;e.$refs.ticket&&(i=e.$refs.ticket.ruleForm.ticket);var r=null;e.$refs.field&&(r=e.$refs.field.ruleForm.field);var n=e.$refs.activityinfo.ruleForm,o=[],c=[],l=0;if(i){for(var u=[],d=0;d<i.length;d++)Number.parseInt(i[d].price)>0&&u.push(Number.parseInt(i[d].price)),i[d].timeset?o.push({ticketid:i[d].id,ticket_name:i[d].name,ticket_cost:i[d].price,ticket_total:i[d].stock||1e4,ticket_count:i[d].count||0,ticket_desc:i[d].desc,ticket_url:i[d].url,check_status:i[d].examine?1:0,time_set:i[d].timeset?1:0,start_time:Date.parse(i[d].date1)/1e3,end_time:Date.parse(i[d].date2)/1e3}):o.push({ticketid:i[d].id,ticket_name:i[d].name,ticket_cost:i[d].price,ticket_total:i[d].stock||1e4,ticket_count:i[d].count||0,ticket_desc:i[d].desc,ticket_url:i[d].url,check_status:i[d].examine?1:0,time_set:i[d].timeset?1:0});l=u.length&&u.sort((function(t,e){return t-e}))[0]||0}if(r)for(var p=0;p<r.length;p++)c.push({key:r[p].key,desc:r[p].text,required:r[p].need?1:0});var m=D({},e.$refs.editor.getContent(),{special:"4",fid:"118",subject:s()(n.title),uid:e.uid,activity:{activityclass:n.type,starttimefrom:n.date1,starttimeto:n.date2,activityplace:"线上活动"==n.type?"".concat(n.place):"".concat(n.province.join("")).concat(n.place),activitynumber:n.applynumber,activitylivetype:n.islive,activityliveurl:n.liveurl,activityreviewurl:n.reviewurl,activityapplytype:0,activityspecialtype:0,image:n.imgUrl,activitycost:l},tickets_set:e.$refs.ticket?e.$refs.ticket.ruleForm.ticketSet:0,tickets:o,form:c});t&&e.tid&&(m=D({},m,{action:t,tid:e.tid,activityaid:e.postData.activity&&e.postData.activity.aid,submit:"1"})),e.submit(m)}})).catch((function(t){for(var a in t)return void e.$message({message:t[a][0].message,type:"danger"})})):(this.isLoading=!1,void this.$message({type:"danger",message:"请阅读并同意《链节点活动服务协议》"})):(this.isLoading=!1,void this.$message({type:"danger",message:"请检查票种订购时间，区间不能超过活动开始时间"}))},checkTicketTime:function(){if(this.$refs.ticket&&this.$refs.activityinfo){for(var t=this.$refs.ticket.ruleForm.ticket,e=this.$refs.activityinfo.ruleForm,a=0;a<t.length;a++)if(t[a].timeset&&(Date.parse(t[a].date2)>Date.parse(e.date1)||Date.parse(t[a].date1)>Date.parse(e.date1)||Date.parse(t[a].date1)>Date.parse(t[a].date2)))return!1;return!0}return!0}},head:function(){return{title:this.postData.title?"编辑".concat(this.postData.title):"发布活动"}}},P=(a(1396),Object(h.a)(S,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-main bbt-main--gray bbt-main--margin"},[a("div",{staticClass:"bbt-container"},["edit"!=t.action?a("x-tab",{attrs:{size:"lg",menu:t.menuData,currentId:t.currentId,currentIndex:t.currentIndex},on:{switch:t.switchTab}}):t._e(),t._v(" "),a("div",{staticClass:"release-wrap"},[a("bbt-loading",{style:t.isSwitchLoading?"min-height: 1000px;":"",attrs:{loading:t.isSwitchLoading}},[a("x-activity-info",{ref:"activityinfo",attrs:{data:t.postData},on:{change:t.changeActTime}}),t._v(" "),a("x-editor-module",{ref:"editor",attrs:{minLen:15,maxLen:t.userParams.maxpostsize||-1,data:t.postData,transfromContent:t.transfromContent,placeholder:t.placeholder,action:t.action,uploadType:"activity",draft:!0,title:"活动详情"},on:{switch:t.switchEditor}}),t._v(" "),"edit"!=t.action||"edit"==t.action&&t.postData.tickets&&t.postData.tickets.length?a("x-activity-ticket",{ref:"ticket",attrs:{actStartTime:t.actStartTime,canEdit:"edit"!=t.action||"edit"==t.action&&t.isAdmin,data:t.postData}}):t._e(),t._v(" "),"edit"!=t.action||"edit"==t.action&&t.postData.forums&&t.postData.forums.length?a("x-activity-field",{ref:"field",attrs:{canEdit:"edit"!=t.action||"edit"==t.action&&t.isAdmin,data:t.postData,field:t.formField}}):t._e(),t._v(" "),a("p",[a("el-checkbox",{model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("已阅读并同意"),a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"post-id",params:{id:"315793"}},target:"_blank"}},[t._v("《链节点活动服务协议》")])],1)],1),t._v(" "),a("div",{staticClass:"btn-box"},["edit"===t.action||t.isLoading?"edit"!==t.action&&t.isLoading?a("bbt-btn",{attrs:{type:"primary",size:"lg",disalbed:""}},[a("bbt-icon",{attrs:{type:"report"}}),t._v("发布中...")],1):t._e():a("bbt-btn",{attrs:{type:"primary",size:"lg"},on:{click:t.submitPost}},[a("bbt-icon",{attrs:{type:"report"}}),t._v("发布活动")],1),t._v(" "),"edit"!==t.action||t.isLoading?"edit"===t.action&&t.isLoading?a("bbt-btn",{attrs:{type:"primary",size:"lg",disalbed:""}},[a("bbt-icon",{attrs:{type:"report"}}),t._v("保存中...")],1):t._e():a("bbt-btn",{attrs:{type:"primary",size:"lg"},on:{click:function(e){return t.submitPost("edit")}}},[a("bbt-icon",{attrs:{type:"report"}}),t._v("保存修改")],1)],1)],1)],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"第三方图片提交",visible:t.isShowDialog,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":!0,width:"500px"},on:{"update:visible":function(e){t.isShowDialog=e}}},[t._v("\n    "+t._s(t.totalCount)+"张图片正在提交中...\n  ")])],1)}),[],!1,null,"c09c7bde",null));e.default=P.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6);var i=a(1),r=(a(4),a(3),a(19),a(2)),n=a(179),s={props:{categoryData:{type:Array},newData:{type:Object},expertData:{type:Array}}},o=(a(1151),a(0)),c=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"category-module"},[a("div",{staticClass:"bbt-container"},[a("div",{staticClass:"category-module__offset bbt-clearfix"},[a("div",{staticClass:"category-module__item category-module__type"},[a("h5",[t._v("栏目分类")]),t._v(" "),a("div",{staticClass:"type-list"},t._l(t.categoryData,(function(e,i){return a("div",{key:i,staticClass:"type-list__item"},[a("dl",[a("dt",[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"library-id",params:{id:""+e.type_id}},target:"_blank"}},[a("bbt-icon",{attrs:{type:"library-"+e.type_id}}),t._v(t._s(e.type_name))],1)],1),t._v(" "),t._l(e.item,(function(e,i){return a("dd",{key:i},[a("nuxt-link",{staticClass:"link-dark-minor",attrs:{to:{name:"library-id",params:{id:""+e.type_id}},target:"_blank"}},[t._v(t._s(e.type_name))])],1)}))],2)])})),0)]),t._v(" "),a("div",{staticClass:"category-module__item category-module__new"},[a("h5",[t._v("最新上传")]),t._v(" "),a("div",{staticClass:"library-list"},t._l(t.newData.list,(function(e,i){return a("div",{key:i,staticClass:"library-list__item"},[a("bbt-icon",{staticStyle:{color:"#E32C28","font-size":"16px"},attrs:{type:"file-"+e.docexeten}}),t._v(" "),a("nuxt-link",{staticClass:"link-dark-major library-name",attrs:{to:{name:"doc-id",params:{id:""+e.docid}},target:"_blank"}},[t._v(t._s(e.title))]),t._v(" "),a("span",{staticClass:"author"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.avatar_img&&e.avatar_img.small,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                  src: item.avatar_img && item.avatar_img.small,\n                  error: '/images/default/avatar.gif',\n                  loading: '/images/default/avatar.gif',\n                }"}],staticClass:"bbt-avatar",attrs:{src:"/images/default/avatar.gif"}}),t._v("\n              "+t._s(e.username)+"\n            ")])],1)})),0)]),t._v(" "),a("div",{staticClass:"category-module__item category-module__rank"},[a("h5",[t._v("贡献排行")]),t._v(" "),a("div",{staticClass:"expert-list"},t._l(t.expertData,(function(e,i){return a("div",{key:i,staticClass:"expert-list__item"},[a("span",{staticClass:"expert-list__index",class:"expert-list__index"+i},[t._v(t._s(i+1))]),t._v(" "),a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:"/user/"+e.userid,target:"_blank"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.avatar_img&&e.avatar_img.small,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                  src: item.avatar_img && item.avatar_img.small,\n                  error: '/images/default/avatar.gif',\n                  loading: '/images/default/avatar.gif',\n                }"}],staticClass:"bbt-avatar",attrs:{src:"/images/default/avatar.gif"}}),t._v("\n              "+t._s(e.username)+"\n            ")]),t._v(" "),a("span",{staticClass:"expert-list__num"},[a("span",[t._v(t._s(t._f("num_to_thousand")(e.total)))]),t._v("\n              贡献文档\n            ")])],1)})),0)])])])])}),[],!1,null,"34f9d010",null).exports,l=a(42),u=a(530),d={components:{XTab:l.a,XLibraryListModule:u.a},props:{tabData:{type:Object},data:{type:Array},type:{type:String}},data:function(){return{currentId:null,isLoading:!1,value:4}},computed:{menuData:function(){return[{name:"全部",id:null}].concat(this.tabData.item.map((function(t){return{name:t.type_name,id:t.type_id}})))},currentIndex:function(){var t=this,e=0;return this.menuData.map((function(a,i){a.id===t.currentId&&(e=i)})),e}},methods:{switchTab:function(t){var e=this;this.currentId!==t.id&&(this.isLoading=!0,this.$store.dispatch("library/FETCH_LIST",{params:{page_size:12,type_id:t.id||this.tabData.type_id},type:this.type}).then((function(a){e.currentId=t.id,e.isLoading=!1})).catch((function(){e.isLoading=!1})))}}},p=(a(1155),Object(o.a)(d,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"bbt-section"},[a("div",{staticClass:"bbt-container"},[a("div",{staticClass:"bbt-section__header"},[a("div",{staticClass:"bbt-section__title"},[t._v(t._s(t.tabData.type_name))]),t._v(" "),a("x-tab",{staticStyle:{"margin-left":"108px"},attrs:{menu:t.menuData,currentId:t.currentId,currentIndex:t.currentIndex},on:{switch:t.switchTab}}),t._v(" "),a("div",{staticClass:"bbt-section__more"},[a("nuxt-link",{attrs:{to:{name:"library-id",params:{id:""+(t.currentId||t.tabData.type_id)}},target:"_blank"}},[t._v("\n          更多"),a("bbt-icon",{attrs:{type:"right"}})],1)],1)],1),t._v(" "),a("bbt-loading",{attrs:{loading:t.isLoading,size:"lg"}},[a("x-library-list-module",{attrs:{data:t.data,span:6}})],1)],1)])}),[],!1,null,"179021a4",null).exports),m={props:{data:{type:Array}}},f=(a(1156),a(1157),Object(o.a)(m,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"bbt-section"},[a("div",{staticClass:"bbt-container"},[t._m(0),t._v(" "),a("bbt-row",t._l(t.data,(function(e,i){return a("bbt-col",{key:i,attrs:{span:{xs:4}}},[a("div",{staticClass:"library-item bbt-clearfix"},[a("div",{staticClass:"library-item__thumb"},[a("nuxt-link",{attrs:{to:{name:"doc-id",params:{id:""+e.docid}},target:"_blank"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.img,error:"/images/default/docs.jpg",loading:"/images/default/docs.jpg"},expression:"{\n                  src: item.img,\n                  error: '/images/default/docs.jpg',\n                  loading: '/images/default/docs.jpg',\n                }"}],staticClass:"img-full",attrs:{src:"/images/default/docs.jpg"}})])],1),t._v(" "),a("div",{staticClass:"library-item__body"},[a("div",{staticClass:"library-item__title"},[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"doc-id",params:{id:""+e.docid}},target:"_blank"}},[t._v("\n                "+t._s(e.title)+"\n              ")])],1),t._v(" "),a("div",{staticClass:"library-item__info"},[a("span",[a("bbt-icon",{attrs:{type:"eye"}}),t._v(" "+t._s(e.viewcount)+"\n              ")],1),t._v(" "),a("span",{staticStyle:{"margin-left":"8px"}},[a("bbt-icon",{attrs:{type:"download"}}),t._v(" "+t._s(e.downcount)+"\n              ")],1)]),t._v(" "),a("div",{staticClass:"library-item__star"},[a("el-rate",{attrs:{disabled:"","allow-half":""},model:{value:e.score,callback:function(a){t.$set(e,"score",a)},expression:"item.score"}})],1)])])])})),1)],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bbt-section__header"},[e("div",{staticClass:"bbt-section__title"},[this._v("推荐文档")])])}],!1,null,"10fe2a1b",null).exports);function h(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var v={components:{XBanner:n.a,XCategory:c,XLibrarySection:p,XLibraryRecommendModule:f},fetch:function(t){var e=t.store;return Promise.all([e.dispatch("library/FETCH_CATEGORY_LIST",{params:{},type:"category"}),e.dispatch("library/FETCH_LIST",{params:{page_size:10},type:"new"}),e.dispatch("library/FETCH_LIST",{params:{page_size:6,isimport:1},type:"recommend"}),e.dispatch("library/FETCH_LIST",{params:{page_size:12,type_id:1},type:"report"}),e.dispatch("library/FETCH_LIST",{params:{page_size:12,type_id:19},type:"guide"}),e.dispatch("library/FETCH_LIST",{params:{page_size:12,type_id:15},type:"whitepaper"}),e.dispatch("library/FETCH_LIST",{params:{page_size:12,type_id:23},type:"file"}),e.dispatch("library/FETCH_LIST",{params:{page_size:12,type_id:11},type:"book"}),e.dispatch("library/FETCH_LIST",{params:{page_size:12,type_id:6},type:"meeting"}),e.dispatch("library/FETCH_LIBRART_EXPERTLIST",{params:{},type:"expert"})]).catch((function(t){}))},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(r.c)({library:function(t){return t.library}}),{num:function(){return this.library.num.total},categoryData:function(){return this.library.category},newData:function(){return this.library.new},expertData:function(){return this.library.expert},recommendData:function(){return this.library.recommend},libraryData0:function(){return this.library.report},libraryData1:function(){return this.library.meeting},libraryData2:function(){return this.library.book},libraryData3:function(){return this.library.whitepaper},libraryData4:function(){return this.library.guide},libraryData5:function(){return this.library.file}}),mounted:function(){Promise.all([this.$store.dispatch("library/FETCH_NUM")]).catch((function(t){}))},methods:{search:function(t){this.$router.push({name:"search",query:{keyword:t,type:"library"}})},getLibraryData:function(t){return this["libraryData".concat(t)].list},getLibraryType:function(t){return["report","meeting","book","whitepaper","guide","file"][t]}},head:function(){return{title:"区块链文库",meta:[{hid:"description",name:"description",content:"区块链文库是区块链领域的专业文档分享平台，由用户自发上传分享。文库搜集了比特币中文白皮书、开发者指南、行业研究报告、线下交流PPT、创业项目商业计划书等资料。"}]}}},b=Object(o.a)(v,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main bbt-main",staticStyle:{"padding-bottom":"0"}},[a("x-banner",{attrs:{num:t.num,type:"library"},on:{search:t.search}}),t._v(" "),a("x-category",{attrs:{categoryData:t.categoryData,newData:t.newData,expertData:t.expertData}}),t._v(" "),t.recommendData.list.length?a("x-library-recommend-module",{attrs:{data:t.recommendData.list}}):t._e(),t._v(" "),t._l(t.categoryData,(function(e,i){return t.getLibraryData(i).length?a("x-library-section",{key:i,style:i%2==1?"background: #fff;":"background: #f8f8f8;",attrs:{tabData:e,data:t.getLibraryData(i),type:t.getLibraryType(i)}}):t._e()}))],2)}),[],!1,null,null,null);e.default=b.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6),a(23);var i=a(1),r=a(20),n=(a(4),a(3),a(19),a(12),a(2)),s=a(528),o=a(14);function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var l={props:{data:{type:Object}},data:function(){return{isCountdown:!1,countdown:60,timer:null,ruleForm:{mobile:this.data.phone||null,code:null,reason:this.data.reason||null,img1:this.data.file&&this.data.file[0]||null,img2:this.data.file&&this.data.file[1]||null,img3:this.data.file&&this.data.file[2]||null},iptValue1:null,iptValue2:null,iptValue3:null,rules:{mobile:[{required:!0,message:"请输入手机号码",trigger:"blur"},{min:11,max:11,message:"请输入正确的手机号码",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"},{min:4,max:6,message:"请输入正确的验证码",trigger:"blur"}],img1:[{required:!0,message:"请上传营业执照",trigger:["change","blur"]}],img2:[{required:!0,message:"请上传身份证明",trigger:["change","blur"]}]}}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(n.c)({userinfo:function(t){return t.userinfo}}),{uid:function(){return this.userinfo.uid}}),methods:{getCaptcha:function(){var t=this;this.$refs.ruleForm.validateField("mobile",(function(e){e||t.$store.dispatch("user/FETCH_MOBILE_CAPTCHA",{params:{mobile:t.ruleForm.mobile,uid:t.uid,service_type:"2"}}).then((function(e){t.isCountdown=!0,t.timer=setInterval((function(){t.countdown>1?t.countdown=t.countdown-1:(clearInterval(t.timer),t.isCountdown=!1,t.countdown=60)}),1e3)})).catch((function(e){t.$message({message:e.msg||e.message||"发送验证码失败，请重试",type:"danger"})}))}))},removeCover:function(t){this.ruleForm["img".concat(t)]=null},uploadPhoto:function(t,e){var a=this;this.isLoading=!0;var i=t.target.files[0];if(i){var r=i.size;i.name;if(r>2097152)return void this.$message({type:"danger",message:"图片过大，请压缩至2M以内再上传"});this["iptValue".concat(e)]=null,Object(o.l)(i,"create_forum",!1,this.$store.$api).then((function(t){a.isLoading=!1,a.ruleForm["img".concat(e)]=t.url,a.$refs.ruleForm.clearValidate()})).catch((function(t){a.isLoading=!1,a.$message({type:"danger",message:t.message})}))}},validatorForm:function(){var t=this;return new Promise((function(e,a){t.$refs.ruleForm.validate((function(t){t?e(t):a(t)}))}))}}},u=(a(1413),a(0)),d=Object(u.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",{staticClass:"account"},[t._v("\n    申请账号："),a("span",[t._v(t._s(t.userinfo.username))]),a("span",[t._v("（注：审核开通后该账号默认为节点管理员）")])]),t._v(" "),a("el-form",{ref:"ruleForm",staticClass:"bbt-clearfix",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"104px"}},[a("el-form-item",{staticStyle:{width:"60%"},attrs:{label:"手机号码",prop:"mobile"}},[a("el-input",{attrs:{placeholder:"请在此填写手机号码"},model:{value:t.ruleForm.mobile,callback:function(e){t.$set(t.ruleForm,"mobile",e)},expression:"ruleForm.mobile"}})],1),t._v(" "),a("el-form-item",{staticStyle:{width:"60%"},attrs:{label:"验证码",prop:"code"}},[a("el-input",{staticStyle:{width:"70%","padding-right":"15px",float:"left"},attrs:{placeholder:"请在此填写验证码"},model:{value:t.ruleForm.code,callback:function(e){t.$set(t.ruleForm,"code",e)},expression:"ruleForm.code"}}),t._v(" "),t.isCountdown?a("bbt-btn",{staticStyle:{width:"30%","font-size":"14px",cursor:"not-allowed",opacity:"0.5"},attrs:{type:"primary",ghost:""}},[t._v(t._s(t.countdown)+"秒后重新获取")]):a("bbt-btn",{staticStyle:{width:"30%","font-size":"14px"},attrs:{type:"primary",ghost:""},on:{click:t.getCaptcha}},[t._v("获取验证码")])],1),t._v(" "),a("el-form-item",{attrs:{label:"申请理由",prop:"reason"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"请输入开通节点的理由，详细的描述更利于审核通过"},model:{value:t.ruleForm.reason,callback:function(e){t.$set(t.ruleForm,"reason",e)},expression:"ruleForm.reason"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"上传资料",for:"imgUrl",required:""}},[a("bbt-col",{staticStyle:{padding:"0"},attrs:{span:{xs:6}}},[a("el-form-item",{staticClass:"node-image",attrs:{prop:"img1",required:""}},[a("div",{staticClass:"upload-item"},[t.ruleForm.img1?a("img",{attrs:{src:t.ruleForm.img1}}):a("div",{staticClass:"upload-item__text"},[a("p",{staticClass:"icon-add"},[t._v("+")]),t._v(" "),a("p",{staticClass:"text-add"},[t._v("上传营业执照")]),t._v(" "),a("p",{staticClass:"text-limit"},[a("span",{staticClass:"bbt-dot"}),t._v("营业执照副本复印件\n              ")]),t._v(" "),a("p",{staticClass:"text-limit"},[a("span",{staticClass:"bbt-dot"}),t._v("jpg或png格式，单张不超过2M\n              ")])]),t._v(" "),t.ruleForm.img1?a("div",{staticClass:"upload-item__operate"},[a("span",[a("bbt-icon",{attrs:{type:"picture"}}),t._v(" "),a("el-input",{staticClass:"icon-ipt",attrs:{type:"file",accept:"image/gif,image/jpeg,image/jpg,image/png"},nativeOn:{change:function(e){return t.uploadPhoto(e,1)}}})],1),t._v(" "),a("span",{on:{click:function(e){return t.removeCover(1)}}},[a("bbt-icon",{attrs:{type:"delete"}})],1)]):a("el-input",{staticClass:"file-ipt",attrs:{type:"file",accept:"image/gif,image/jpeg,image/jpg,image/png"},nativeOn:{change:function(e){return t.uploadPhoto(e,1)}},model:{value:t.iptValue1,callback:function(e){t.iptValue1=e},expression:"iptValue1"}})],1)])],1),t._v(" "),a("bbt-col",{staticStyle:{padding:"0 12px"},attrs:{span:{xs:6}}},[a("el-form-item",{staticClass:"node-image",attrs:{prop:"img2",required:""}},[a("div",{staticClass:"upload-item"},[t.ruleForm.img2?a("img",{attrs:{src:t.ruleForm.img2}}):a("div",{staticClass:"upload-item__text"},[a("p",{staticClass:"icon-add"},[t._v("+")]),t._v(" "),a("p",{staticClass:"text-add"},[t._v("上传身份证明")]),t._v(" "),a("p",{staticClass:"text-limit"},[a("span",{staticClass:"bbt-dot"}),t._v("项目法人的身份证明文件\n                （身份证、护照）复印件\n              ")]),t._v(" "),a("p",{staticClass:"text-limit"},[a("span",{staticClass:"bbt-dot"}),t._v("jpg或png格式，单张不超过2M\n              ")])]),t._v(" "),t.ruleForm.img2?a("div",{staticClass:"upload-item__operate"},[a("span",[a("bbt-icon",{attrs:{type:"picture"}}),t._v(" "),a("el-input",{staticClass:"icon-ipt",attrs:{type:"file",accept:"image/gif,image/jpeg,image/jpg,image/png"},nativeOn:{change:function(e){return t.uploadPhoto(e,2)}}})],1),t._v(" "),a("span",{on:{click:function(e){return t.removeCover(2)}}},[a("bbt-icon",{attrs:{type:"delete"}})],1)]):a("el-input",{staticClass:"file-ipt",attrs:{type:"file",accept:"image/gif,image/jpeg,image/jpg,image/png"},nativeOn:{change:function(e){return t.uploadPhoto(e,2)}},model:{value:t.iptValue2,callback:function(e){t.iptValue2=e},expression:"iptValue2"}})],1)])],1),t._v(" "),a("bbt-col",{staticStyle:{padding:"0"},attrs:{span:{xs:6}}},[a("el-form-item",{staticClass:"node-image",attrs:{prop:"img3"}},[a("div",{staticClass:"upload-item"},[t.ruleForm.img3?a("img",{attrs:{src:t.ruleForm.img3}}):a("div",{staticClass:"upload-item__text"},[a("p",{staticClass:"icon-add"},[t._v("+")]),t._v(" "),a("p",{staticClass:"text-add"},[t._v("上传项目资料（可选）")]),t._v(" "),a("p",{staticClass:"text-limit"},[a("span",{staticClass:"bbt-dot"}),t._v("白皮书、业务合同、宣传推广 材料等\n              ")]),t._v(" "),a("p",{staticClass:"text-limit"},[a("span",{staticClass:"bbt-dot"}),t._v("jpg或png格式，单张不超过2M\n              ")])]),t._v(" "),t.ruleForm.img3?a("div",{staticClass:"upload-item__operate"},[a("span",[a("bbt-icon",{attrs:{type:"picture"}}),t._v(" "),a("el-input",{staticClass:"icon-ipt",attrs:{type:"file",accept:"image/gif,image/jpeg,image/jpg,image/png"},nativeOn:{change:function(e){return t.uploadPhoto(e,3)}}})],1),t._v(" "),a("span",{on:{click:function(e){return t.removeCover(3)}}},[a("bbt-icon",{attrs:{type:"delete"}})],1)]):a("el-input",{staticClass:"file-ipt",attrs:{type:"file",accept:"image/gif,image/jpeg,image/jpg,image/png"},nativeOn:{change:function(e){return t.uploadPhoto(e,3)}},model:{value:t.iptValue3,callback:function(e){t.iptValue3=e},expression:"iptValue3"}})],1)])],1)],1)],1)],1)}),[],!1,null,"385f4700",null).exports,p=a(41),m=a(83),f={props:{data:{type:Object}},components:{XCropper:m.a},data:function(){return{isCountdown:!1,countdown:60,timer:null,ruleForm:{name:this.data.title&&this.data.title.cn_name||null,name_en:this.data.title&&this.data.title.en_name||null,name_short:this.data.title&&this.data.title.short_name||null,desc:this.data.desc||null,img1:this.data.icon_img||null},rules:{name:[{required:!0,message:"请输入节点中文名称",trigger:"blur"},{min:1,max:10,message:"节点中文名称长度在1-10个字符",trigger:"blur"}],name_en:[{min:1,max:10,message:"节点英文名称长度在1-10个字符",trigger:"blur"}],name_short:[{required:!0,message:"请输入节点缩写名称",trigger:"blur"},{min:1,max:10,message:"节点缩写名称长度在1-10个字符",trigger:"blur"}],desc:[{required:!0,message:"请输入节点描述",trigger:"blur"}],img1:[{required:!0,message:"请上传节点图标",trigger:["change","blur"]}]},isVisible:!1,isLoading:!1,iptValue:null,option:{img:null,autoCropWidth:300,autoCropHeight:300,fixedNumber:[1,1]}}},methods:{removeCover:function(){this.ruleForm.img1=null},uploadPhoto:function(t){var e=this,a=t.target.files[0];if(a){var i=a.size;a.name;if(i>1048576)return void this.$message({type:"danger",message:"图片过大，请压缩至1M以内再上传"});var r=new FileReader;r.onload=function(t){var a;a="object"===Object(p.a)(t.target.result)?window.URL.createObjectURL(new Blob([t.target.result])):t.target.result,e.option.img=a,e.isVisible=!0,e.iptValue=null},r.readAsArrayBuffer(a)}},cropImage:function(t){var e=this;this.isLoading=!0,Object(o.l)(t,"create_forum",!0,this.$store.$api).then((function(t){e.isLoading=!1,e.ruleForm.img1=t.data,e.isVisible=!1,e.$refs.ruleForm.clearValidate()})).catch((function(t){e.isLoading=!1,e.$message({type:"danger",message:t.message})}))},closeDialog:function(){this.isLoading=!1,this.isVisible=!1},validatorForm:function(){var t=this;return new Promise((function(e,a){t.$refs.ruleForm.validate((function(t){t?e(t):a(t)}))}))}}},h=(a(1414),Object(u.a)(f,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"ruleForm",staticClass:"bbt-clearfix",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"104px"}},[a("el-form-item",{attrs:{label:"中文名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入节点中文名称，长度在10个字符以内"},model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"英文名称",prop:"name_en"}},[a("el-input",{attrs:{placeholder:"请输入节点英文名称，长度在10个字符以内"},model:{value:t.ruleForm.name_en,callback:function(e){t.$set(t.ruleForm,"name_en",e)},expression:"ruleForm.name_en"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"缩写名称",prop:"name_short"}},[a("el-input",{attrs:{placeholder:"请输入节点缩写名称，长度在10个字符以内"},model:{value:t.ruleForm.name_short,callback:function(e){t.$set(t.ruleForm,"name_short",e)},expression:"ruleForm.name_short"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"节点图标",for:"imgUrl",required:""}},[a("bbt-col",{staticStyle:{padding:"0"},attrs:{span:{xs:5}}},[a("el-form-item",{staticClass:"node-image",attrs:{prop:"img1",required:""}},[a("div",{staticClass:"upload-item"},[t.ruleForm.img1?a("img",{attrs:{src:t.ruleForm.img1}}):a("div",{staticClass:"upload-item__text"},[a("p",{staticClass:"icon-add"},[t._v("+")]),t._v(" "),a("p",{staticClass:"text-add"},[t._v("上传节点图标")]),t._v(" "),a("p",{staticClass:"text-limit"},[a("span",{staticClass:"bbt-dot"}),t._v("图标尺寸 600px * 600px\n              ")]),t._v(" "),a("p",{staticClass:"text-limit"},[a("span",{staticClass:"bbt-dot"}),t._v("jpg或png格式，单张不超过1M\n              ")])]),t._v(" "),t.ruleForm.img1?a("div",{staticClass:"upload-item__operate"},[a("span",[a("bbt-icon",{attrs:{type:"picture"}}),t._v(" "),a("el-input",{staticClass:"icon-ipt",attrs:{type:"file",accept:"image/gif,image/jpeg,image/jpg,image/png"},nativeOn:{change:function(e){return t.uploadPhoto(e)}}})],1),t._v(" "),a("span",{on:{click:function(e){return t.removeCover()}}},[a("bbt-icon",{attrs:{type:"delete"}})],1)]):a("el-input",{staticClass:"file-ipt",attrs:{type:"file",accept:"image/gif,image/jpeg,image/jpg,image/png"},nativeOn:{change:function(e){return t.uploadPhoto(e)}},model:{value:t.iptValue,callback:function(e){t.iptValue=e},expression:"iptValue"}})],1)])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"节点描述",prop:"desc"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"请输入节点描述，包括节点的简介，发帖规则等内容"},model:{value:t.ruleForm.desc,callback:function(e){t.$set(t.ruleForm,"desc",e)},expression:"ruleForm.desc"}})],1)],1),t._v(" "),a("x-cropper",{attrs:{title:"节点图标",option:t.option,isVisible:t.isVisible,isLoading:t.isLoading},on:{close:t.closeDialog,crop:t.cropImage}})],1)}),[],!1,null,"63f0ae28",null).exports),v={props:{data:{type:Object}},data:function(){var t,e=this;return{ruleForm:{field:(t=[],e.data.tag&&e.data.tag.length?e.data.tag.forEach((function(e){t.push({key:e.slug,url:e.url})})):t=[{key:null,url:null}],t)},field:[{name:"官网",key:"website"},{name:"白皮书",key:"white-paper"},{name:"Twitter",key:"twitter"},{name:"F10",key:"f10"},{name:"微博",key:"weibo"},{name:"指南手册",key:"companion"}]}},methods:{removeOption:function(t){var e=this.ruleForm.field.indexOf(t);-1!==e&&this.ruleForm.field.splice(e,1)},addOption:function(){this.ruleForm.field.push({key:null,url:null})},validatorForm:function(){var t=this;return new Promise((function(e,a){t.$refs.ruleForm.validate((function(t){t?e(t):a(t)}))}))},checkUrl:function(t,e,a){/^((ht|f)tps?):\/\/([\w\-]+(\.[\w\-]+)*\/)*[\w\-]+(\.[\w\-]+)*\/?(\?([\w\-\.,@?^=%&:\/~\+#]*)+)?/.test(e)?a():a(new Error("请输入正确的url"))}}},b=Object(u.a)(v,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"ruleForm",staticClass:"bbt-clearfix",attrs:{model:t.ruleForm}},t._l(t.ruleForm.field,(function(e,i){return a("el-form-item",{key:i,attrs:{for:"index2"}},[a("div",{staticClass:"bbt-clearfix"},[a("bbt-col",{staticStyle:{padding:"0"},attrs:{span:{xs:4}}},[a("el-form-item",{attrs:{prop:"field."+i+".key",rules:{required:!0,message:"请选择外链项",trigger:"change"}}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择外链项"},model:{value:e.key,callback:function(a){t.$set(e,"key",a)},expression:"item.key"}},t._l(t.field,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.key}})})),1)],1)],1),t._v(" "),a("bbt-col",{staticStyle:{padding:"0 12px"},attrs:{span:{xs:19}}},[a("el-form-item",{attrs:{prop:"field."+i+".url",rules:[{required:!0,message:"请输入对应的链接",trigger:["change","blur"]},{validator:t.checkUrl,trigger:["blur","change"]}]}},[a("el-input",{attrs:{placeholder:"请输入对应的链接"},model:{value:e.url,callback:function(a){t.$set(e,"url",a)},expression:"item.url"}})],1)],1),t._v(" "),a("bbt-col",{staticStyle:{"text-align":"right",padding:"0"},attrs:{span:{xs:1}}},[i>0?a("span",{on:{click:function(a){return t.removeOption(e)}}},[a("bbt-icon",{staticClass:"link-dark-minor",staticStyle:{"font-size":"20px",cursor:"pointer"},attrs:{type:"delete"}})],1):a("span",{attrs:{disabled:""}},[a("bbt-icon",{staticStyle:{"font-size":"20px",color:"rgba(0,0,0,0.3)",cursor:"not-allowed"},attrs:{type:"delete"}})],1)])],1)])})),1),t._v(" "),t.ruleForm.field.length<6?a("div",{staticStyle:{"text-align":"right"}},[a("bbt-btn",{attrs:{type:"primary",size:"sm",ghost:""},on:{click:t.addOption}},[t._v("增加外链")])],1):t._e()],1)}),[],!1,null,null,null).exports;function _(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function g(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?_(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var y={website:"官网","white-paper":"白皮书",twitter:"Twitter",f10:"F10",companion:"指南手册",weibo:"微博"},w={middleware:"login",components:{XBanner:s.a,XApplyInfo:d,XNodeInfo:h,XLinkInfo:b},data:function(){return{timer:null,isLoading:!1}},fetch:function(t){var e=t.store,a=(t.cookie,t.res,t.error,t.redirect,t.route.query),i=a.action,n=a.id,s=[];return"edit"==i&&Number(n)&&(s=[e.dispatch("block/FETCH_SINGLE_CREATEINFO",{params:{id:n}})]),Promise.all([e.dispatch("block/FETCH_NODE_NUMS",{params:{first:1},type:"nums"})].concat(Object(r.a)(s)))},computed:g({},Object(n.c)({block:function(t){return t.block},userinfo:function(t){return t.userinfo}}),{uid:function(){return this.userinfo.uid},action:function(){return this.$route.query&&this.$route.query.action},id:function(){return this.$route.query&&this.$route.query.id},numsData:function(){return this.block.nums},formData:function(){return this.id&&this.block.form[this.id]||{}}}),mounted:function(){var t=this;this.timer=setInterval((function(){t.$store.dispatch("block/FETCH_NODE_NUMS",{params:{},type:"nums"})}),2e4)},beforeDestroy:function(){clearInterval(this.timer)},methods:{submitPost:function(t){var e=this;this.isLoading||this.$refs.applyinfo.validatorForm().then((function(){return e.$refs.nodeinfo.validatorForm()})).then((function(){return e.$refs.linkinfo.validatorForm()})).then((function(){var a=[];e.$refs.linkinfo.ruleForm.field.map((function(t){a.push({name:y[t.key],slug:t.key,url:t.url})}));var i=[e.$refs.applyinfo.ruleForm.img1,e.$refs.applyinfo.ruleForm.img2];e.$refs.applyinfo.ruleForm.img3&&i.push(e.$refs.applyinfo.ruleForm.img3);var r={phone:e.$refs.applyinfo.ruleForm.mobile,verify_code:e.$refs.applyinfo.ruleForm.code,reason:e.$refs.applyinfo.ruleForm.reason,file:i,title:{cn_name:e.$refs.nodeinfo.ruleForm.name,en_name:e.$refs.nodeinfo.ruleForm.name_en,short_name:e.$refs.nodeinfo.ruleForm.name_short},icon_img:e.$refs.nodeinfo.ruleForm.img1,desc:e.$refs.nodeinfo.ruleForm.desc,tag:a};e.submit(t,r)})).catch((function(t){e.$message({message:"节点元素不全，请检查后重新提交",type:"danger"})}))},submit:function(t,e){var a=this,i={};"edit"==t&&this.formData.id&&(i={action:"edit",id:this.formData.id}),this.isLoading=!0,this.$store.dispatch("block/FETCH_CREATE_NODE",{params:g({},e,{},i)}).then((function(t){a.$message({message:"申请成功，请等待审核",type:"success"}),a.$router.push({name:"user-id-other",params:{id:"".concat(a.uid)}})})).catch((function(t){a.$message({type:"danger",message:t.message}),a.isLoading=!1}))}},head:function(){return{title:"edit"==this.action&&this.formData.id?"编辑节点".concat(this.formData.title.cn_name,"/").concat(this.formData.title.short_name):"新建节点"}}},k=(a(1415),Object(u.a)(w,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-main bbt-main--gray"},[a("x-banner",{staticStyle:{"margin-bottom":"32px"},attrs:{data:t.numsData,hideBtn:!0}}),t._v(" "),a("div",{staticClass:"bbt-container"},[a("div",{staticClass:"release-wrap"},[a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n          新建节点规则说明\n        ")]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[a("p",[t._v("\n            1、\n            项目入驻后需要保持一定的更新频率（一周3次以上），否则将隐藏节点；\n          ")]),t._v(" "),a("p",[t._v("\n            2、\n            通过审核后，在官网添加链节点版块链接，并在官方渠道（微博、微信群、电报群等）进行宣传；链节点logo"),a("a",{ref:"nofollow noopener",staticClass:"link-primary",attrs:{href:"https://webcdn.8btc.com/download/ChainNode_logopack.zip",target:"_blank"}},[t._v("下载链接")])]),t._v(" "),a("p",[t._v("3、 项目在技术、口碑或其他方面有亮点会增加通过审核的几率")]),t._v(" "),a("p",[t._v("4、 如有其它疑问，请添加管理员微信：1559187345（备注“开版”）")])])]),t._v(" "),a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n          申请信息\n        ")]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[a("x-apply-info",{ref:"applyinfo",attrs:{data:t.formData}})],1)]),t._v(" "),a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n          节点信息\n        ")]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[a("x-node-info",{ref:"nodeinfo",attrs:{data:t.formData}})],1)]),t._v(" "),a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n          节点外链\n        ")]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[a("x-link-info",{ref:"linkinfo",attrs:{data:t.formData}})],1)]),t._v(" "),a("div",{staticClass:"btn-box"},[a("span",[t._v("提交申请后，可在【用户中心-其他】中查看开通进度")]),t._v(" "),"edit"!=t.action&&!t.isLoading||!t.formData.id?a("bbt-btn",{attrs:{type:"primary",size:"lg"},on:{click:t.submitPost}},[a("bbt-icon",{attrs:{type:"report"}}),t._v("提交申请")],1):"edit"!=t.action&&t.isLoading||!t.formData.id?a("bbt-btn",{attrs:{type:"primary",size:"lg",disabled:""}},[t._v("提交中...")]):t._e(),t._v(" "),"edit"==t.action&&!t.isLoading&&t.formData.id?a("bbt-btn",{attrs:{type:"primary",size:"lg"},on:{click:function(e){return t.submitPost("edit")}}},[a("bbt-icon",{attrs:{type:"report"}}),t._v("保存修改")],1):"edit"==t.action&&t.isLoading&&t.formData.id?a("bbt-btn",{attrs:{type:"primary",size:"lg",disabled:""}},[a("bbt-icon",{attrs:{type:"report"}}),t._v("保存中...")],1):t._e()],1)])])],1)}),[],!1,null,"afb6bc96",null));e.default=k.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(4),a(6),a(94),a(95),a(3);var i=a(1),r=a(2),n=a(103),s={props:{isVisible:{type:Boolean},mobile:{type:String},email:{type:String},uid:{type:String}},data:function(){return{isCountdown:!1,countdown:60,timer:null,validateForm:{mobile:this.mobile,email:this.email,code:null,type:this.mobile?"mobile":"email"},validateRules:{code:[{required:!0,message:"请输入验证码",trigger:"blur"},{min:4,max:6,message:"请输入正确的验证码",trigger:"blur"}]}}},computed:{typeOptions:function(){var t=[];return this.mobile&&t.push({value:"mobile",label:"使用手机号码".concat(this.mobile.substr(0,3),"****").concat(this.mobile.substr(7),"验证")}),this.email&&t.push({value:"email",label:"使用邮箱".concat(this.email.substr(0,this.email.indexOf("@")-4),"****").concat(this.email.substr(this.email.indexOf("@")),"验证")}),t}},methods:{closeDialog:function(){clearInterval(this.timer),this.isCountdown=!1,this.countdown=60,this.validateForm.type=this.mobile?"mobile":"email",this.$refs.validateForm.resetFields(),this.$emit("close")},getCaptcha:function(){var t=this;"mobile"==this.validateForm.type?this.$store.dispatch("user/FETCH_MOBILE_CAPTCHA",{params:{mobile:this.mobile,uid:this.uid}}).then((function(e){t.isCountdown=!0,t.timer=setInterval((function(){t.countdown>1?t.countdown=t.countdown-1:(clearInterval(t.timer),t.isCountdown=!1,t.countdown=60)}),1e3)})).catch((function(e){t.$message({message:e.msg||e.message||"发送验证码失败，请重试",type:"danger"})})):this.$store.dispatch("user/FETCH_EMAIL_CAPTCHA",{params:{uid:this.uid,email:this.email}}).then((function(e){t.isCountdown=!0,t.timer=setInterval((function(){t.countdown>1?t.countdown=t.countdown-1:(clearInterval(t.timer),t.isCountdown=!1,t.countdown=60)}),1e3)})).catch((function(e){t.$message({message:e.msg||e.message||"发送验证码失败，请重试",type:"danger"})}))},validateCode:function(){var t=this;this.$refs.validateForm.validate((function(e){e&&t.$store.dispatch("user/FETCH_VALIDATE_CAPTCHA",{params:{uid:t.uid,account:"mobile"===t.validateForm.type?t.mobile:t.email,type:t.validateForm.type,verifycode:t.validateForm.code}}).then((function(e){t.$emit("pass"),t.$refs.validateForm.resetFields()})).catch((function(e){t.$message({type:"danger",message:e.message})}))}))},changeType:function(t){this.validateForm.type=t}}},o=(a(1431),a(0)),c=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"安全验证",visible:t.isVisible,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":!0,width:"400px"},on:{"update:visible":function(e){t.isVisible=e}}},[a("el-form",{ref:"validateForm",staticClass:"validate-form",attrs:{"label-position":"top",model:t.validateForm,rules:t.validateRules}},[a("el-form-item",{attrs:{label:"验证方式",prop:"type",required:""}},[a("el-select",{staticStyle:{width:"100%"},on:{change:t.changeType},model:{value:t.validateForm.type,callback:function(e){t.$set(t.validateForm,"type",e)},expression:"validateForm.type"}},t._l(t.typeOptions,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"验证码",prop:"code"}},[a("el-input",{staticStyle:{width:"60%","padding-right":"15px",float:"left"},model:{value:t.validateForm.code,callback:function(e){t.$set(t.validateForm,"code",e)},expression:"validateForm.code"}}),t._v(" "),t.isCountdown?a("bbt-btn",{staticStyle:{width:"40%","font-size":"14px",cursor:"not-allowed",opacity:"0.5"},attrs:{type:"primary",ghost:""}},[t._v(t._s(t.countdown)+"秒后重新获取")]):a("bbt-btn",{staticStyle:{width:"40%","font-size":"14px"},attrs:{type:"primary",ghost:""},on:{click:t.getCaptcha}},[t._v("获取验证码")])],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("bbt-btn",{staticStyle:{"margin-right":"16px"},attrs:{type:"default",size:"sm"},on:{click:t.closeDialog}},[t._v("取 消")]),t._v(" "),a("bbt-btn",{attrs:{type:"primary",size:"sm"},on:{click:t.validateCode}},[t._v("立即验证")])],1)],1)}),[],!1,null,null,null).exports,l={mixins:[a(1432).a],components:{XValidateDialog:c},props:{data:{type:Object},isLoading:{type:Boolean}},data:function(){return{currentType:null,isVisible:!1,passwordEditShow:!1,mobileEditShow:!1,emailEditShow:!1,isValidate:!1}},watch:{passwordEditShow:function(t){t||this.$refs.passwordForm.resetFields()},mobileEditShow:function(t){t||this.$refs.mobileForm.resetFields()},emailEditShow:function(t){t||this.$refs.emailForm.resetFields()}},methods:{edit:function(t){"password"!==t||this.data.mobile||this.data.email?(this.currentType=t,this.isValidate||!this.data.mobile&&!this.data.email?this["".concat(t,"EditShow")]=!0:this.isVisible=!0):this.$message({type:"danger",message:"请先绑定手机或者邮箱"})},passValidate:function(){this.isVisible=!1,this.isValidate=!0,this["".concat(this.currentType,"EditShow")]=!0},onSetPassword:function(){var t=this;this.$refs.passwordForm.validate((function(e){e&&t.$emit("setPassword",t.formData)}))},onSetMobile:function(){var t=this;this.$refs.mobileForm.validate((function(e){e&&t.$emit("setMobile",t.formData)}))},onSetMail:function(){var t=this;this.$refs.emailForm.validate((function(e){e&&t.$emit("setEmail",t.formData)}))}}},u=(a(1433),a(1434),Object(o.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"safe-module"},[a("div",{staticClass:"safe-module__header"},[t._v("\n    安全设置\n  ")]),t._v(" "),a("div",{staticClass:"safe-module__body"},[a("div",{staticClass:"safe-module__item"},[a("span",{staticClass:"label"},[a("bbt-icon",{staticStyle:{"font-size":"22px"},attrs:{type:"lock"}}),t._v("密码设置")],1),t._v(" "),a("span",{staticClass:"val"},[t._v("已设置密码")]),t._v(" "),a("bbt-btn",{attrs:{type:"primary",ghost:"",size:"lg"},on:{click:function(e){return t.edit("password")}}},[t._v("修改")]),t._v(" "),a("transition",{attrs:{name:"fade"}},[t.passwordEditShow?a("div",{staticClass:"safe-module__reset"},[a("el-form",{ref:"passwordForm",staticClass:"reset-form",attrs:{"label-position":"top",model:t.formData,rules:t.rules}},[a("el-form-item",{attrs:{label:"新密码",prop:"password"}},[a("el-input",{attrs:{type:"password"},model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"确认密码",prop:"checkPassword"}},[a("el-input",{attrs:{type:"password"},model:{value:t.formData.checkPassword,callback:function(e){t.$set(t.formData,"checkPassword",e)},expression:"formData.checkPassword"}})],1)],1),t._v(" "),a("div",{staticClass:"reset-btn"},[t.isLoading?a("bbt-btn",{attrs:{type:"primary",disabled:""}},[t._v("修改密码中")]):a("bbt-btn",{attrs:{type:"primary"},on:{click:t.onSetPassword}},[t._v("修改密码")]),t._v(" "),a("bbt-btn",{staticStyle:{"margin-left":"24px"},attrs:{type:"primary",ghost:""},on:{click:function(e){t.passwordEditShow=!1}}},[t._v("取消")])],1)],1):t._e()])],1),t._v(" "),t.data.mobile?a("div",{staticClass:"safe-module__item"},[a("span",{staticClass:"label"},[a("bbt-icon",{staticStyle:{"font-size":"22px"},attrs:{type:"Mobile"}}),t._v("手机绑定")],1),t._v(" "),a("span",{staticClass:"val"},[t._v("已绑定，手机号码 "+t._s(t.data.mobile.substr(0,3))+"****"+t._s(t.data.mobile.substr(7)))]),t._v(" "),a("bbt-btn",{attrs:{type:"primary",ghost:"",size:"lg"},on:{click:function(e){return t.edit("mobile")}}},[t._v("修改")]),t._v(" "),a("transition",{attrs:{name:"fade"}},[t.mobileEditShow?a("div",{staticClass:"safe-module__reset"},[a("el-form",{ref:"mobileForm",staticClass:"reset-form",attrs:{"label-position":"top",model:t.formData,rules:t.rules}},[a("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[a("el-input",{model:{value:t.formData.mobile,callback:function(e){t.$set(t.formData,"mobile",e)},expression:"formData.mobile"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"验证码",prop:"code"}},[a("el-input",{staticStyle:{width:"60%","padding-right":"15px",float:"left"},model:{value:t.formData.code,callback:function(e){t.$set(t.formData,"code",e)},expression:"formData.code"}}),t._v(" "),t.isCountdown?a("bbt-btn",{staticStyle:{width:"40%","font-size":"14px",cursor:"not-allowed",opacity:"0.5"},attrs:{type:"primary",ghost:""}},[t._v(t._s(t.countdown)+"秒后重新获取")]):a("bbt-btn",{staticStyle:{width:"40%","font-size":"14px"},attrs:{type:"primary",ghost:""},on:{click:t.getPhoneCaptcha}},[t._v("获取验证码")])],1)],1),t._v(" "),a("div",{staticClass:"reset-btn"},[t.isLoading?a("bbt-btn",{attrs:{type:"primary",disabled:""}},[t._v("修改绑定中")]):a("bbt-btn",{attrs:{type:"primary"},on:{click:t.onSetMobile}},[t._v("修改手机")]),t._v(" "),a("bbt-btn",{staticStyle:{"margin-left":"24px"},attrs:{type:"primary",ghost:""},on:{click:function(e){t.mobileEditShow=!1}}},[t._v("取消")])],1)],1):t._e()])],1):a("div",{staticClass:"safe-module__item"},[a("span",{staticClass:"label"},[a("bbt-icon",{staticStyle:{"font-size":"22px"},attrs:{type:"Mobile"}}),t._v("手机绑定")],1),t._v(" "),a("span",{staticClass:"val"},[t._v("未绑定手机号码，绑定手机号码有助于提高帐号安全")]),t._v(" "),a("bbt-btn",{attrs:{type:"primary",size:"lg"},on:{click:function(e){return t.edit("mobile")}}},[t._v("立即绑定")]),t._v(" "),a("transition",{attrs:{name:"fade"}},[t.mobileEditShow?a("div",{staticClass:"safe-module__reset"},[a("el-form",{ref:"mobileForm",staticClass:"reset-form",attrs:{"label-position":"top",model:t.formData,rules:t.rules}},[a("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[a("el-input",{model:{value:t.formData.mobile,callback:function(e){t.$set(t.formData,"mobile",e)},expression:"formData.mobile"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"验证码",prop:"code"}},[a("el-input",{staticStyle:{width:"60%","padding-right":"15px",float:"left"},model:{value:t.formData.code,callback:function(e){t.$set(t.formData,"code",e)},expression:"formData.code"}}),t._v(" "),t.isCountdown?a("bbt-btn",{staticStyle:{width:"40%","font-size":"14px",cursor:"not-allowed",opacity:"0.5"},attrs:{type:"primary",ghost:""}},[t._v(t._s(t.countdown)+"秒后重新获取")]):a("bbt-btn",{staticStyle:{width:"40%","font-size":"14px"},attrs:{type:"primary",ghost:""},on:{click:t.getPhoneCaptcha}},[t._v("获取验证码")])],1)],1),t._v(" "),a("div",{staticClass:"reset-btn"},[t.isLoading?a("bbt-btn",{attrs:{type:"primary",disabled:""}},[t._v("绑定中")]):a("bbt-btn",{attrs:{type:"primary"},on:{click:t.onSetMobile}},[t._v("立即绑定")]),t._v(" "),a("bbt-btn",{staticStyle:{"margin-left":"24px"},attrs:{type:"primary",ghost:""},on:{click:function(e){t.mobileEditShow=!1}}},[t._v("取消")])],1)],1):t._e()])],1),t._v(" "),t.data.email?a("div",{staticClass:"safe-module__item"},[a("span",{staticClass:"label"},[a("bbt-icon",{staticStyle:{"font-size":"22px"},attrs:{type:"mail"}}),t._v("邮箱绑定")],1),t._v(" "),a("span",{staticClass:"val"},[t._v("已绑定，邮箱地址\n        "+t._s(t.data.email.substr(0,t.data.email.indexOf("@")-4))+"****"+t._s(t.data.email.substr(t.data.email.indexOf("@"))))]),t._v(" "),a("bbt-btn",{attrs:{type:"primary",ghost:"",size:"lg"},on:{click:function(e){return t.edit("email")}}},[t._v("修改")]),t._v(" "),a("transition",{attrs:{name:"fade"}},[t.emailEditShow?a("div",{staticClass:"safe-module__reset"},[a("el-form",{ref:"emailForm",staticClass:"reset-form",attrs:{"label-position":"top",model:t.formData,rules:t.rules}},[a("el-form-item",{attrs:{label:"邮箱地址",prop:"email"}},[a("el-input",{model:{value:t.formData.email,callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"验证码",prop:"code"}},[a("el-input",{staticStyle:{width:"60%","padding-right":"15px",float:"left"},model:{value:t.formData.code,callback:function(e){t.$set(t.formData,"code",e)},expression:"formData.code"}}),t._v(" "),t.isCountdown?a("bbt-btn",{staticStyle:{width:"40%","font-size":"14px",cursor:"not-allowed",opacity:"0.5"},attrs:{type:"primary",ghost:""}},[t._v(t._s(t.countdown)+"秒后重新获取")]):a("bbt-btn",{staticStyle:{width:"40%","font-size":"14px"},attrs:{type:"primary",ghost:""},on:{click:t.getMailCaptcha}},[t._v("获取验证码")])],1)],1),t._v(" "),a("div",{staticClass:"reset-btn"},[t.isLoading?a("bbt-btn",{attrs:{type:"primary",disabled:""}},[t._v("修改绑定中")]):a("bbt-btn",{attrs:{type:"primary"},on:{click:t.onSetMail}},[t._v("修改邮箱")]),t._v(" "),a("bbt-btn",{staticStyle:{"margin-left":"24px"},attrs:{type:"primary",ghost:""},on:{click:function(e){t.emailEditShow=!1}}},[t._v("取消")])],1)],1):t._e()])],1):a("div",{staticClass:"safe-module__item"},[a("span",{staticClass:"label"},[a("bbt-icon",{staticStyle:{"font-size":"22px"},attrs:{type:"mail"}}),t._v("邮箱绑定")],1),t._v(" "),a("span",{staticClass:"val"},[t._v("未绑定邮箱，绑定邮箱有助于提高帐号安全")]),t._v(" "),a("bbt-btn",{attrs:{type:"primary",size:"lg"},on:{click:function(e){return t.edit("email")}}},[t._v("立即绑定")]),t._v(" "),a("transition",{attrs:{name:"fade"}},[t.emailEditShow?a("div",{staticClass:"safe-module__reset"},[a("el-form",{ref:"emailForm",staticClass:"reset-form",attrs:{"label-position":"top",model:t.formData,rules:t.rules}},[a("el-form-item",{attrs:{label:"邮箱地址",prop:"email"}},[a("el-input",{model:{value:t.formData.email,callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"验证码",prop:"code"}},[a("el-input",{staticStyle:{width:"60%","padding-right":"15px",float:"left"},model:{value:t.formData.code,callback:function(e){t.$set(t.formData,"code",e)},expression:"formData.code"}}),t._v(" "),t.isCountdown?a("bbt-btn",{staticStyle:{width:"40%","font-size":"14px",cursor:"not-allowed",opacity:"0.5"},attrs:{type:"primary",ghost:""}},[t._v(t._s(t.countdown)+"秒后重新获取")]):a("bbt-btn",{staticStyle:{width:"40%","font-size":"14px"},attrs:{type:"primary",ghost:""},on:{click:t.getMailCaptcha}},[t._v("获取验证码")])],1)],1),t._v(" "),a("div",{staticClass:"reset-btn"},[t.isLoading?a("bbt-btn",{attrs:{type:"primary",disabled:""}},[t._v("修改绑定中")]):a("bbt-btn",{attrs:{type:"primary"},on:{click:t.onSetMail}},[t._v("修改邮箱")]),t._v(" "),a("bbt-btn",{staticStyle:{"margin-left":"24px"},attrs:{type:"primary",ghost:""},on:{click:function(e){t.emailEditShow=!1}}},[t._v("取消")])],1)],1):t._e()])],1),t._v(" "),a("div",{staticClass:"safe-module__item"},[a("span",{staticClass:"label"},[a("bbt-icon",{staticStyle:{"font-size":"22px"},attrs:{type:"delete"}}),t._v("账号注销")],1),t._v(" "),t._m(0)])]),t._v(" "),a("x-validate-dialog",{attrs:{mobile:t.data.mobile,uid:t.data.uid,email:t.data.email,isVisible:t.isVisible},on:{close:function(e){t.isVisible=!1},pass:t.passValidate}})],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"val"},[this._v("\n        邮件联系"),e("a",{staticClass:"link-dark-minor",attrs:{href:"mailto:can@8btc.com"}},[this._v("can@8btc.com")])])}],!1,null,"3aaf4023",null).exports),d=a(46),p=a.n(d);function m(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var f={middleware:"login",components:{XSetting:n.a,XSafeModule:u},data:function(){return{isLoading:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?m(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(r.c)({userinfo:function(t){return t.userinfo}}),{uid:function(){return this.userinfo.uid}}),methods:{setPassword:function(t){var e=this;this.isLoading||(this.isLoading=!0,this.$store.dispatch("user/FETCH_CHANGE_PASSWORD",{params:{newpassword:p.a.MD5(t.password).toString(),confirmpassword:p.a.MD5(t.checkPassword).toString(),uid:this.uid}}).then((function(t){e.isLoading=!1,e.$message({type:"success",message:"密码修改成功"}),e.$refs.safe.passwordEditShow=!1})).catch((function(t){e.isLoading=!1,e.$message({type:"danger",message:t.message})})))},setMobile:function(t){var e=this;this.isLoading||(this.isLoading=!0,this.$store.dispatch("user/FETCH_VALIDATE_CAPTCHA",{params:{uid:this.uid,account:t.mobile,type:"mobile",verifycode:t.code,model:"bindmobile"}}).then((function(a){e.isLoading=!1,e.$message({type:"success",message:"手机绑定成功"}),e.$refs.safe.mobileEditShow=!1,e.$refs.safe.emailEditShow=!1,e.$refs.safe.passwordEditShow=!1,e.$store.state.userinfo.mobile=t.mobile,location.reload()})).catch((function(t){e.isLoading=!1,e.$message({type:"danger",message:t.message})})))},setEmail:function(t){var e=this;this.isLoading||(this.isLoading=!0,this.$store.dispatch("user/FETCH_VALIDATE_CAPTCHA",{params:{uid:this.uid,account:t.email,type:"email",verifycode:t.code,model:"bindemail"}}).then((function(a){e.isLoading=!1,e.$message({type:"success",message:"邮箱绑定成功"}),e.$refs.safe.mobileEditShow=!1,e.$refs.safe.emailEditShow=!1,e.$refs.safe.passwordEditShow=!1,e.$store.state.userinfo.email=t.email,location.reload()})).catch((function(t){e.isLoading=!1,e.$message({type:"danger",message:t.message})})))}},head:function(){return{title:"安全设置 - 个人设置"}}},h=Object(o.a)(f,(function(){var t=this.$createElement,e=this._self._c||t;return e("x-setting",[e("x-safe-module",{ref:"safe",attrs:{isLoading:this.isLoading,data:this.userinfo},on:{setPassword:this.setPassword,setMobile:this.setMobile,setEmail:this.setEmail}})],1)}),[],!1,null,null,null);e.default=h.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6);var i=a(18),r=(a(12),a(1)),n=(a(4),a(3),a(19),a(29),a(16)),s=a(2),o=a(520),c=a(522),l=a(24),u=a.n(l),d=a(8);function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var m,f,h={components:{XCalendar:c.a},data:function(){return{swiperOption:{autoplay:{delay:5e3,stopOnLastSlide:!1,disableOnInteraction:!0},effect:"fade",loop:!0,slidesPerView:"auto",centeredSlides:!0,spaceBetween:0,pagination:{el:".swiper-pagination",clickable:!0,type:"bullets"}}}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){Object(r.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(s.c)({activity:function(t){return t.activity},ad:function(t){return t.ad}}),{activityAd:function(){return this.ad.activity},calendarData:function(){return this.activity.calendar},actDateList:function(){for(var t=[],e=0;e<this.activity.date.length;e++)t.push(u()(1e3*this.activity.date[e]).format("YYYYMMDD"));return t}}),mounted:function(){this.$store.dispatch("activity/FETCH_DATE_LIST",{params:Object(d.g)(),type:"date"})},methods:{change:function(t,e){this.$store.dispatch("activity/FETCH_DATE_LIST",{params:Object(d.g)(t,e),type:"date"})}}},v=(a(1132),a(1133),a(0)),b=Object(v.a)(h,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header-module"},[a("div",{staticClass:"activity-banner"},[a("div",{directives:[{name:"swiper",rawName:"v-swiper:mySwiper",value:t.swiperOption,expression:"swiperOption",arg:"mySwiper"}],staticClass:"activity-banner"},[a("div",{staticClass:"swiper-wrapper"},t._l(t.activityAd,(function(t,e){return a("div",{key:e,staticClass:"swiper-slide",style:"background-color: "+t.background_color},[a("div",{staticClass:"bbt-container"},[a("a",{attrs:{target:"_blank",href:t.outer_url,rel:"nofollow noopener"}},[a("div",{staticClass:"activity-banner__item",style:"background-image: url("+t.img_url+")"})])])])})),0),t._v(" "),t.activityAd.length>1?a("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"}):t._e()])]),t._v(" "),a("div",{staticClass:"activity-calendar"},[a("x-calendar",{attrs:{actList:t.calendarData,actDateList:t.actDateList},on:{change:t.change}})],1)])}),[],!1,null,"6d0e5777",null).exports,_=a(126),g={props:{data:{type:Array}},methods:{getStatus:function(t,e){var a=(new Date).getTime();return a<1e3*t?0:a>=1e3*t&&a<1e3*e?1:-1}}},y=(a(1135),Object(v.a)(g,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("bbt-row",t._l(t.data,(function(e,i){return a("bbt-col",{key:i,attrs:{span:{xs:8}}},[a("div",{staticClass:"ama-block"},[a("div",{staticClass:"ama-block__index"},[t._v("\n        "+t._s(e.activity.place)+"\n        "),a("i")]),t._v(" "),a("div",{staticClass:"ama-block__image"},[a("nuxt-link",{attrs:{to:{name:"ama-id",params:{id:""+e.tid},query:0!==t.getStatus(Number.parseInt(e.activity.starttimefrom),Number.parseInt(e.activity.starttimeto))?{sort:"hot"}:""},target:"_blank"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.activity.thumb||e.activity.attachurl,error:"/images/default/news.jpg",loading:"/images/default/news.jpg"},expression:"{\n              src: item.activity.thumb || item.activity.attachurl,\n              error: '/images/default/news.jpg',\n              loading: '/images/default/news.jpg',\n            }"}],attrs:{src:"/images/default/news.jpg"}})])],1),t._v(" "),a("div",{staticClass:"ama-block__info"},[a("h6",[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"ama-id",params:{id:""+e.tid},query:0!==t.getStatus(Number.parseInt(e.activity.starttimefrom),Number.parseInt(e.activity.starttimeto))?{sort:"hot"}:""},target:"_blank"}},[t._v("\n            "+t._s(e.title)+"\n          ")])],1),t._v(" "),a("p",[0==t.getStatus(Number.parseInt(e.activity.starttimefrom),Number.parseInt(e.activity.starttimeto))?a("span",{staticClass:"status"},[t._v("未开始")]):1==t.getStatus(Number.parseInt(e.activity.starttimefrom),Number.parseInt(e.activity.starttimeto))?a("span",{staticClass:"status"},[t._v("进行中")]):a("span",{staticClass:"status"},[t._v("已结束")]),t._v(" "),a("span",{staticClass:"view-reply"},[a("span",[a("bbt-icon",{attrs:{type:"eye"}}),t._v(" "+t._s(e.views))],1),t._v(" "),a("span",[a("bbt-icon",{attrs:{type:"comment"}}),t._v(" "+t._s(e.replies))],1)])])])])])})),1)}),[],!1,null,"bdf35578",null).exports),w=a(125),k=a(534),x=a(62),C=a(17);function O(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var j={inject:["injectData"],components:{XNavbar:k.a,XCard:o.a,XActivityBanner:b,XActivityListModule:_.a,XVideoListModule:w.a,XAmaListModule:y,XMore:x.a},fetch:function(t){var e=t.store;t.redirect,t.cookie;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all([e.dispatch("ad/FETCH_ACTIVITY_LIST",{}),e.dispatch("activity/FETCH_LIST",{params:{num:4,module:"digest"},type:"digest"}),e.dispatch("activity/FETCH_LIST",{params:{num:8,module:"offline"},type:"offline"}),e.dispatch("activity/FETCH_LIST",{params:{num:8,module:"online"},type:"online"}),e.dispatch("ama/FETCH_LIST",{params:{num:3,module:"ama"},type:"eventAma"}),e.dispatch("video/FETCH_LIST",{params:{page:1,num:4,cat_id:4627},type:"live"}),e.dispatch("video/FETCH_LIST",{params:{page:1,num:4,cat_id:4530},type:"chainge"}),e.dispatch("video/FETCH_LIST",{params:{page:1,num:4,cat_id:7471},type:"market"})]).catch((function(t){})));case 1:case"end":return t.stop()}}),t)})))()},data:function(){return{page:1,num:8,isLoading:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?O(Object(a),!0).forEach((function(e){Object(r.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(s.c)({video:function(t){return t.video},activity:function(t){return t.activity},ama:function(t){return t.ama}}),{digestData:function(){return this.activity.digest.list||[]},offlineData:function(){return this.activity.offline.list||[]},onlineData:function(){return this.activity.online.list||[]},totalNum:function(){return Number(this.activity.online.total)||0},amaData:function(){return this.ama.eventAma.list||[]},liveData:function(){return this.video.live.list||[]},chaingeData:function(){return this.video.chainge.list||[]},marketData:function(){return this.video.market.list||[]},navOption:function(){return{showHeight:350,targetType:"class",barList:[{name:"精选",target:"event-section0"},{name:"线下",target:"event-section1"},{name:"直播间",target:"event-section2"},{name:"AMA",target:"event-section3"},{name:"行情解析",target:"event-section4"},{name:"技术沙龙",target:"event-section5"},{name:"更多活动",target:"event-section6"}]}}}),methods:(m=Object(C.a)("/login/password",{back_url:"/new/event?action=newthread"}),f={toNext:function(){var t=this;this.isLoading||(this.page++,this.isLoading=!0,this.$store.dispatch("activity/FETCH_NEXT_PAGE",{params:{num:8,page:this.page,module:"online"},type:"online"}).then((function(e){t.isLoading=!1})))},releasePost:function(){this.$router.push({name:"new-event",query:{action:"newthread"}})}},Object(i.a)(f,"releasePost",[m],Object.getOwnPropertyDescriptor(f,"releasePost"),f),f),head:function(){return{title:"活动直播"}}},D=Object(v.a)(j,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main",staticStyle:{"margin-top":"0"}},[a("x-navbar",{attrs:{navOption:t.navOption}}),t._v(" "),a("x-activity-banner"),t._v(" "),a("div",{staticClass:"bbt-container",staticStyle:{"margin-top":"48px"}},[t.digestData.length?a("x-card",{staticClass:"event-section0",attrs:{title:"精选推荐",btnconfig:{type:"release"}},on:{release:t.releasePost}},[a("x-activity-list-module",{attrs:{data:t.digestData}})],1):t._e(),t._v(" "),t.offlineData.length?a("x-card",{staticClass:"event-section1",attrs:{title:"线下活动",desc:"专注于区块链领域行业交流",btnconfig:{type:"more",path:"/events/1"}}},[a("x-activity-list-module",{attrs:{data:t.offlineData}})],1):t._e(),t._v(" "),t.liveData.length?a("x-card",{staticClass:"event-section2",attrs:{title:"ChainNode 直播间",desc:"币圈话题引爆器",btnconfig:{type:"more",path:"/videos/4627"}}},[a("x-video-list-module",{attrs:{data:t.liveData,count:4,span:4,styles:"card"}})],1):t._e(),t._v(" "),t.amaData.length?a("x-card",{staticClass:"event-section3",attrs:{title:"ChainNode AMA",desc:"零距离对话圈内大佬",btnconfig:{type:"more",path:"/ask-me-anything"}}},[a("x-ama-list-module",{attrs:{data:t.amaData}})],1):t._e(),t._v(" "),t.marketData.length?a("x-card",{staticClass:"event-section4",attrs:{title:"今晚很关键",desc:"圈内首档视频行情分析类栏目",btnconfig:{type:"more",path:"/videos/7471"}}},[a("x-video-list-module",{attrs:{data:t.marketData,count:4,span:4,styles:"card"}})],1):t._e(),t._v(" "),t.chaingeData.length?a("x-card",{staticClass:"event-section5",attrs:{title:"Chainge 技术沙龙",desc:"专注于区块链领域行业交流",btnconfig:{type:"more",path:"/videos/4530"}}},[a("x-video-list-module",{attrs:{data:t.chaingeData,count:4,span:4,styles:"card"}})],1):t._e(),t._v(" "),t.onlineData.length?a("x-card",{staticClass:"event-section6",attrs:{title:"更多活动",desc:"专注于区块链领域行业交流"}},[a("x-activity-list-module",{attrs:{data:t.onlineData}}),t._v(" "),t.totalNum>t.page*t.num?a("x-more",{attrs:{isLoading:t.isLoading},on:{next:t.toNext}}):t._e()],1):t._e()],1)],1)}),[],!1,null,null,null);e.default=D.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(4),a(3),a(6);var i=a(1),r=a(22),n=a.n(r),s=a(90),o=a(41),c=a(24),l=a.n(c),u=a(14),d=a(83),p={components:{XCropper:d.a},props:{data:{type:Object}},data:function(){var t=this;return{isVisible:!1,isLoading:!1,iptValue:null,option:{img:null,autoCropWidth:375,autoCropHeight:225,fixedNumber:[5,3]},ruleForm:{title:this.data.title||null,place:this.data.activity&&this.data.activity.place||null,date1:this.data.activity&&this.data.activity.starttimefrom?l()(1e3*this.data.activity.starttimefrom).format("YYYY-MM-DD HH:mm:ss"):null,date2:this.data.activity&&this.data.activity.starttimeto?l()(1e3*this.data.activity.starttimeto).format("YYYY-MM-DD HH:mm:ss"):null,image:this.data.activity&&(this.data.activity.thumb||this.data.activity.attachurl)?'<img src="'.concat(this.data.activity.thumb||this.data.activity.attachurl,'">'):null,imgUrl:this.data.activity&&(this.data.activity.thumb||this.data.activity.attachurl)?this.data.activity.thumb||this.data.activity.attachurl:null},rules:{title:[{required:!0,message:"请输入AMA标题",trigger:["blur","change"]},{min:1,max:35,message:"AMA标题长度在 1 到 35 个字符",trigger:["blur","change"]}],place:[{required:!0,message:"请输入AMA期数",trigger:"blur"}],date1:[{required:!0,message:"请选择开始时间",trigger:"change"},{validator:function(e,a,i){a?(t.ruleForm.date2&&t.$refs.ruleForm.validateField("date2"),i()):i(new Error("请选择活动开始时间"))},trigger:["blur","change"]}],date2:[{required:!0,message:"请选择结束时间",trigger:"change"},{validator:function(e,a,i){a?(t.ruleForm.date1&&(new Date(t.ruleForm.date1).getTime()>new Date(a).getTime()&&i(new Error("活动结束时间不能小于开始时间")),i()),i()):i(new Error("请选择活动结束时间"))},trigger:["blur","change"]}],imgUrl:[{required:!0,message:"请选择活动封面",trigger:["change","blur"]}]},startTime:{disabledDate:function(e){return t.ruleForm.date2&&e.getTime()>new Date(t.ruleForm.date2).getTime()||e.getTime()<(new Date).getTime()-864e5}},endTime:{disabledDate:function(e){return t.ruleForm.date1?e.getTime()<(new Date).getTime()-864e5||e.getTime()<new Date(t.ruleForm.date1).getTime()-864e5:e.getTime()<(new Date).getTime()-864e5}}}},methods:{closeDialog:function(){this.isLoading=!1,this.isVisible=!1},removeCover:function(){this.iptValue=null,this.ruleForm.imgUrl=null,this.ruleForm.image=null},uploadPhoto:function(t){var e=this,a=t.target.files[0];if(a){var i=new FileReader;i.onload=function(t){var a;a="object"===Object(o.a)(t.target.result)?window.URL.createObjectURL(new Blob([t.target.result])):t.target.result,e.option.img=a,e.isVisible=!0,e.iptValue=null},i.readAsArrayBuffer(a)}},cropImage:function(t){var e=this;this.isLoading=!0,Object(u.l)(t,"ama",!0,this.$store.$api).then((function(t){e.isLoading=!1,e.ruleForm.imgUrl=t.data,e.ruleForm.image='<img src="'.concat(t.data,'">'),e.isVisible=!1,e.$refs.ruleForm.clearValidate()})).catch((function(t){e.isLoading=!1,e.$message({type:"danger",message:t.message})}))},validatorForm:function(){var t=this;return new Promise((function(e,a){t.$refs.ruleForm.validate((function(t,i){t?e(t):a(i)}))}))}}},m=(a(1379),a(0)),f=Object(m.a)(p,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    AMA信息\n  ")]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[a("el-form",{ref:"ruleForm",staticClass:"bbt-clearfix",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"104px"}},[a("el-form-item",{attrs:{label:"活动标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请在此填写活动标题",maxlength:"35","show-word-limit":""},model:{value:t.ruleForm.title,callback:function(e){t.$set(t.ruleForm,"title",e)},expression:"ruleForm.title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"期数",prop:"place"}},[a("el-input",{attrs:{placeholder:"第X期"},model:{value:t.ruleForm.place,callback:function(e){t.$set(t.ruleForm,"place",e)},expression:"ruleForm.place"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"活动时间",for:"date",required:""}},[a("bbt-col",{staticStyle:{padding:"0"},attrs:{span:{xs:11}}},[a("el-form-item",{attrs:{prop:"date1"}},[a("el-date-picker",{attrs:{placeholder:"请选择开始时间","picker-options":t.startTime,type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.ruleForm.date1,callback:function(e){t.$set(t.ruleForm,"date1",e)},expression:"ruleForm.date1"}})],1)],1),t._v(" "),a("bbt-col",{staticStyle:{"text-align":"center"},attrs:{span:{xs:2}}},[t._v("至")]),t._v(" "),a("bbt-col",{staticStyle:{padding:"0"},attrs:{span:{xs:11}}},[a("el-form-item",{attrs:{prop:"date2"}},[a("el-date-picker",{attrs:{placeholder:"请选择结束时间","picker-options":t.endTime,type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.ruleForm.date2,callback:function(e){t.$set(t.ruleForm,"date2",e)},expression:"ruleForm.date2"}})],1)],1)],1),t._v(" "),a("el-form-item",{staticClass:"ama-image",attrs:{label:"活动封面",prop:"imgUrl",for:"imgUrl",required:""}},[a("div",{staticClass:"upload-item"},[t.ruleForm.imgUrl?a("img",{attrs:{src:t.ruleForm.imgUrl}}):a("div",{staticClass:"upload-item__text"},[a("p",{staticClass:"icon-add"},[t._v("+")]),t._v(" "),a("p",{staticClass:"text-add"},[t._v("上传活动封面")]),t._v(" "),a("p",{staticClass:"text-limit"},[a("span",{staticClass:"bbt-dot"}),t._v("图片尺寸 1000*600，.jpg 或\n              .png格式，不超过 4M\n            ")]),t._v(" "),a("p",{staticClass:"text-limit"},[a("span",{staticClass:"bbt-dot"}),t._v("优质的海报能够吸引参会者，且有机会获得首页推荐\n            ")])]),t._v(" "),t.ruleForm.imgUrl?a("div",{staticClass:"upload-item__operate"},[a("span",[a("bbt-icon",{attrs:{type:"picture"}}),t._v(" "),a("el-input",{staticClass:"icon-ipt",attrs:{type:"file",accept:"image/gif,image/jpeg,image/jpg,image/png"},nativeOn:{change:function(e){return t.uploadPhoto(e)}},model:{value:t.iptValue,callback:function(e){t.iptValue=e},expression:"iptValue"}})],1),t._v(" "),a("span",{on:{click:t.removeCover}},[a("bbt-icon",{attrs:{type:"delete"}})],1)]):a("el-input",{staticClass:"file-ipt",attrs:{type:"file",accept:"image/gif,image/jpeg,image/jpg,image/png"},nativeOn:{change:function(e){return t.uploadPhoto(e)}},model:{value:t.iptValue,callback:function(e){t.iptValue=e},expression:"iptValue"}})],1)])],1)],1),t._v(" "),a("x-cropper",{attrs:{title:"活动封面",option:t.option,isVisible:t.isVisible,isLoading:t.isLoading},on:{close:t.closeDialog,crop:t.cropImage}})],1)}),[],!1,null,"15e982ea",null).exports,h=a(172),v=a.n(h),b={components:{XCropper:d.a,Draggable:v.a},props:{data:{type:Object}},data:function(){var t=this,e=function(){var e=[],a=[];if(t.data&&t.data.activity&&t.data.activity.guest_info)for(var i=0;i<t.data.activity.guest_info.length;i++)e.push({imgUrl:t.data.activity.guest_info[i].guest_avatar,guest_avatar:'<img src="'.concat(t.data.activity.guest_info[i].guest_avatar,'">'),guest:t.data.activity.guest_info[i].guest,guest_title:t.data.activity.guest_info[i].guest_title,guest_desc:t.data.activity.guest_info[i].guest_desc,guest_id:t.data.activity.guest_info[i].guest_id}),a.push({iptValue:null});else e=[{imgUrl:null,guest_avatar:null,guest:null,guest_title:null,guest_desc:null,guest_id:null}],a=[{iptValue:null}];return{guestArr:e,iptArr:a}};return{isVisible:!1,isLoading:!1,currentIndex:0,option:{img:null,autoCropWidth:200,autoCropHeight:200,fixedNumber:[1,1]},formIpt:{options:e().iptArr},ruleForm:{guest:e().guestArr}}},methods:{closeDialog:function(){this.isLoading=!1,this.isVisible=!1},removeOption:function(t){if(this.ruleForm.guest.length>1){var e=this.ruleForm.guest.indexOf(t);-1!==e&&(this.ruleForm.guest.splice(e,1),this.formIpt.options.splice(e,1))}},addOption:function(){this.ruleForm.guest.push({imgUrl:null,guest:null,guest_title:null,guest_desc:null,guest_id:null}),this.formIpt.options.push({iptValue:null})},uploadPhoto:function(t,e){var a=this,i=t.target.files[0];if(i){this.currentIndex=e;var r=new FileReader;r.onload=function(t){var i;i="object"===Object(o.a)(t.target.result)?window.URL.createObjectURL(new Blob([t.target.result])):t.target.result,a.option.img=i,a.isVisible=!0,a.formIpt.options[e].iptValue=null},r.readAsArrayBuffer(i)}},validatorForm:function(){var t=this;return new Promise((function(e,a){t.$refs.ruleForm.validate((function(t,i){t?e(t):a(i)}))}))},cropImage:function(t){var e=this;this.isLoading=!0,Object(u.l)(t,"ama",!0,this.$store.$api).then((function(t){e.isLoading=!1,e.ruleForm.guest[e.currentIndex].imgUrl=t.data,e.ruleForm.guest[e.currentIndex].guest_avatar='<img src="'.concat(t.data,'">'),e.isVisible=!1,e.$refs.ruleForm.clearValidate()})).catch((function(t){e.isLoading=!1,e.$message({type:"danger",message:t.message})}))}}},_=(a(1381),a(1382),Object(m.a)(b,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    嘉宾信息\n  ")]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[t._m(0),t._v(" "),a("el-form",{ref:"ruleForm",staticClass:"bbt-clearfix",attrs:{model:t.ruleForm,"label-width":"18px"}},[a("draggable",{attrs:{group:"guest"},model:{value:t.ruleForm.guest,callback:function(e){t.$set(t.ruleForm,"guest",e)},expression:"ruleForm.guest"}},t._l(t.ruleForm.guest,(function(e,i){return a("el-form-item",{key:i,attrs:{for:"index",label:""+(i+1)}},[a("bbt-col",{staticStyle:{padding:"0","text-align":"center"},attrs:{span:{xs:"3"}}},[a("el-form-item",{staticClass:"guest-avatar",attrs:{prop:"guest."+i+".imgUrl",rules:{required:!0,message:"嘉宾头像不能为空",trigger:"change"}}},[a("div",{staticClass:"upload-item"},[t._v("\n                +\n                "),e.imgUrl?a("img",{attrs:{src:e.imgUrl}}):t._e(),t._v(" "),a("el-input",{staticClass:"file-ipt",attrs:{type:"file",accept:"image/gif,image/jpeg,image/jpg,image/png"},nativeOn:{change:function(e){return t.uploadPhoto(e,i)}},model:{value:t.formIpt.options[i].iptValue,callback:function(e){t.$set(t.formIpt.options[i],"iptValue",e)},expression:"formIpt.options[index].iptValue"}})],1)])],1),t._v(" "),a("bbt-col",{staticStyle:{padding:"12px"},attrs:{span:{xs:"5"}}},[a("el-form-item",{attrs:{prop:"guest."+i+".guest",rules:{required:!0,message:"嘉宾名称不能为空",trigger:"blur"}}},[a("el-input",{attrs:{placeholder:"请输入嘉宾姓名"},model:{value:e.guest,callback:function(a){t.$set(e,"guest",a)},expression:"item.guest"}})],1)],1),t._v(" "),a("bbt-col",{staticStyle:{padding:"12px"},attrs:{span:{xs:"5"}}},[a("el-form-item",{attrs:{prop:"guest."+i+".guest_title",rules:{required:!0,message:"嘉宾头衔不能为空",trigger:"blur"}}},[a("el-input",{attrs:{placeholder:"请输入嘉宾头衔"},model:{value:e.guest_title,callback:function(a){t.$set(e,"guest_title",a)},expression:"item.guest_title"}})],1)],1),t._v(" "),a("bbt-col",{staticStyle:{padding:"12px"},attrs:{span:{xs:"4"}}},[a("el-form-item",{attrs:{prop:"guest."+i+".guest_id",rules:[{required:!0,message:"社区ID不能为空",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"请输入社区ID"},model:{value:e.guest_id,callback:function(a){t.$set(e,"guest_id",a)},expression:"item.guest_id"}})],1)],1),t._v(" "),a("bbt-col",{staticStyle:{padding:"12px"},attrs:{span:{xs:"6"}}},[a("el-form-item",{attrs:{prop:"guest."+i+".guest_desc",rules:{required:!0,message:"嘉宾简介不能为空",trigger:"blur"}}},[a("el-input",{attrs:{placeholder:"请输入嘉宾简介"},model:{value:e.guest_desc,callback:function(a){t.$set(e,"guest_desc",a)},expression:"item.guest_desc"}})],1)],1),t._v(" "),a("bbt-col",{staticStyle:{"text-align":"center",padding:"12px 0"},attrs:{span:{xs:"1"}}},[i>0?a("span",{on:{click:function(a){return t.removeOption(e)}}},[a("bbt-icon",{staticClass:"link-dark-minor",staticStyle:{"font-size":"20px",cursor:"pointer"},attrs:{type:"delete"}})],1):a("span",[a("bbt-icon",{staticStyle:{"font-size":"20px",cursor:"not-allowed",color:"rgba(0, 0, 0, 0.3)"},attrs:{type:"delete"}})],1)])],1)})),1)],1),t._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("bbt-btn",{attrs:{type:"primary"},on:{click:t.addOption}},[t._v("增加嘉宾")])],1)],1),t._v(" "),a("x-cropper",{attrs:{title:"嘉宾头像",option:t.option,isVisible:t.isVisible,isLoading:t.isLoading},on:{close:t.closeDialog,crop:t.cropImage}})],1)}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-thead bbt-clearfix"},[a("span",{staticStyle:{width:"18px"}},[t._v("#")]),t._v(" "),a("span",{staticStyle:{width:"139px"}},[t._v("嘉宾头像")]),t._v(" "),a("span",{staticStyle:{width:"231px","text-align":"left",padding:"0 12px"}},[t._v("嘉宾姓名")]),t._v(" "),a("span",{staticStyle:{width:"231px","text-align":"left",padding:"0 12px"}},[t._v("嘉宾头衔")]),t._v(" "),a("span",{staticStyle:{width:"185px","text-align":"left",padding:"0 12px"}},[t._v("社区ID")]),t._v(" "),a("span",{staticStyle:{width:"278px","text-align":"left",padding:"0 12px"}},[t._v("嘉宾简介")]),t._v(" "),a("span",{staticStyle:{width:"46px"}},[t._v("操作")])])}],!1,null,"34bfa946",null).exports);function g(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function y(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?g(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var w={middleware:"login",mixins:[s.a],components:{XAmaInfo:f,XAmaContent:_},methods:{submitPost:function(t){var e=this;this.$refs.amainfo.validatorForm().then((function(){return e.$refs.amaguest.validatorForm()})).then((function(){return e.$refs.editor.validatorText()})).then((function(a){var i=y({},e.$refs.editor.getContent(),{uid:e.uid,special:"4",fid:"121",subject:n()(e.$refs.amainfo.ruleForm.title),starttimefrom:e.$refs.amainfo.ruleForm.date1,starttimeto:e.$refs.amainfo.ruleForm.date2,activityclass:"AMA",activityplace:n()(e.$refs.amainfo.ruleForm.place),image:e.$refs.amainfo.ruleForm.image,guest_info:e.$refs.amaguest.ruleForm.guest});t&&e.tid&&(i=y({},i,{action:t,tid:e.tid,activityaid:e.postData.activity&&e.postData.activity.aid,submit:"1"})),e.submit(i)})).catch((function(t){for(var a in t)return void e.$message({message:t[a][0].message,type:"danger"})}))}},head:function(){return{title:this.postData.title?"编辑".concat(this.postData.title):"发布AMA"}}},k=(a(1383),Object(m.a)(w,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-main bbt-main--gray bbt-main--margin"},[a("div",{staticClass:"bbt-container"},["edit"!=t.action?a("x-tab",{attrs:{size:"lg",menu:t.menuData,currentId:t.currentId,currentIndex:t.currentIndex},on:{switch:t.switchTab}}):t._e(),t._v(" "),a("div",{staticClass:"release-wrap"},[a("bbt-loading",{style:t.isSwitchLoading?"min-height: 1000px;":"",attrs:{loading:t.isSwitchLoading}},[a("x-ama-info",{ref:"amainfo",attrs:{data:t.postData}}),t._v(" "),a("x-ama-content",{ref:"amaguest",attrs:{data:t.postData}}),t._v(" "),a("x-editor-module",{ref:"editor",attrs:{minLen:15,maxLen:t.userParams.maxpostsize||-1,data:t.postData,transfromContent:t.transfromContent,placeholder:t.placeholder,action:t.action,uploadType:"ama",draft:!0,title:"AMA详情"},on:{switch:t.switchEditor}}),t._v(" "),a("div",{staticClass:"btn-box"},["edit"===t.action||t.isLoading?"edit"!==t.action&&t.isLoading?a("bbt-btn",{attrs:{type:"primary",size:"lg",disalbed:""}},[a("bbt-icon",{attrs:{type:"report"}}),t._v("发布中...")],1):t._e():a("bbt-btn",{attrs:{type:"primary",size:"lg"},on:{click:t.submitPost}},[a("bbt-icon",{attrs:{type:"report"}}),t._v("发布AMA")],1),t._v(" "),"edit"!==t.action||t.isLoading?"edit"===t.action&&t.isLoading?a("bbt-btn",{attrs:{type:"primary",size:"lg",disalbed:""}},[a("bbt-icon",{attrs:{type:"report"}}),t._v("保存中...")],1):t._e():a("bbt-btn",{attrs:{type:"primary",size:"lg"},on:{click:function(e){return t.submitPost("edit")}}},[a("bbt-icon",{attrs:{type:"report"}}),t._v("保存修改")],1)],1)],1)],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"第三方图片提交",visible:t.isShowDialog,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":!0,width:"500px"},on:{"update:visible":function(e){t.isShowDialog=e}}},[t._v("\n    "+t._s(t.totalCount)+"张图片正在提交中...\n  ")])],1)}),[],!1,null,"1ecf6ab4",null));e.default=k.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6),a(12),a(559);var i=a(1),r=(a(4),a(3),a(19),a(42)),n=a(530),s={props:{data:{type:Array},span:{type:Number,default:5},showAdd:{type:Boolean,default:!1}}},o=(a(1181),a(0)),c=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"node-module"},[a("bbt-row",[t._l(t.data,(function(e,i){return a("div",{key:i,staticClass:"node-item-wrap",style:"width: "+100/t.span+"%;"},[a("div",{staticClass:"node-item"},[a("nuxt-link",{attrs:{target:"_blank",to:{name:"forum-id",params:{id:""+(e.fid||e.id)}}}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.icon,error:"/images/default/project.jpg",loading:"/images/default/project.jpg"},expression:"{\n              src: item.icon,\n              error: '/images/default/project.jpg',\n              loading: '/images/default/project.jpg',\n            }"}],key:e.name||e.subject,attrs:{src:"/images/default/project.jpg",alt:e.name||e.subject}}),t._v(" "),a("div",[a("h3",[t._v(t._s(e.name||e.subject))]),t._v(" "),a("p",[t._v("\n              主题："+t._s(t._f("num_to_thousand")(e.threads))+"\n              "),a("span",{staticClass:"bbt-dot"}),t._v("\n              帖数："+t._s(t._f("num_to_thousand")(e.posts))+"\n            ")])])])],1)])})),t._v(" "),t.showAdd?a("div",{staticClass:"node-item-wrap node-item-add"},[a("div",{staticClass:"node-item"},[a("nuxt-link",{attrs:{to:{name:"nodes-initialization"},target:"_blank"}},[a("bbt-icon",{staticStyle:{"font-size":"24px","font-weight":"normal",position:"relative",top:"3px"},attrs:{type:"add-node"}}),t._v("\n          创建节点\n        ")],1)],1)]):t._e()],2)],1)}),[],!1,null,"dead9ede",null).exports,l=a(126),u=a(523),d=a(77),p=a(125),m={props:{data:{type:Array},span:{type:Number,default:5}}},f=(a(1187),Object(o.a)(m,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-module"},[a("bbt-row",t._l(t.data,(function(e,i){return a("div",{key:i,staticClass:"user-item-wrap",style:"width: "+100/t.span+"%;"},[a("div",{staticClass:"user-item bbt-clearfix"},[a("div",{staticClass:"user-item__avatar"},[a("nuxt-link",{attrs:{target:"_blank",to:"/user/"+e.uid}},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:e.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                src: item.avatar,\n                error: '/images/default/avatar.gif',\n                loading: '/images/default/avatar.gif',\n              }",arg:"background-image"}],staticClass:"img-box",attrs:{alt:e.username}})])],1),t._v(" "),a("div",{staticClass:"user-item__info"},[a("nuxt-link",{attrs:{target:"_blank",to:"/user/"+e.uid}},[a("p",{staticClass:"user-item__info-name link-dark-major"},[t._v("\n              "+t._s(e.username)+"\n            ")]),t._v(" "),e.grouptitle?a("p",[t._v("用户组："+t._s(e.grouptitle))]):t._e()])],1)])])})),0)],1)}),[],!1,null,"45521e61",null).exports),h=a(62),v=a(168),b=a(2);function _(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var g={mixins:[a(183).a],components:{XTab:r.a,XMore:h.a,XNodeListModule:c,XLibraryListModule:n.a,XCourseListModule:u.a,XActivityListModule:l.a,XPostListModule:d.a,XVideoListModule:p.a,XUserListModule:f,XHotPostList:v.a},watchQuery:["keyword","type"],fetch:function(t){var e=t.store,a=(t.cookie,t.res,t.error,t.redirect,t.route.query),i=a.keyword,r=a.type;return Promise.all(["block"===r?e.dispatch("block/FETCH_SEARCH_VALIDATA",{params:{page_size:"20",keyword:i},type:"search"}):"","video"===r?e.dispatch("video/FETCH_SEARCH_LIST",{params:{num:"20",keyword:i},type:"search"}):"","tutorial"===r?e.dispatch("tutorial/FETCH_SEARCH_VALIDATA",{params:{page_size:"20",keyword:i},type:"search"}):"","library"===r?e.dispatch("library/FETCH_SEARCH_VALIDATA",{params:{page_size:"20",keyword:i},type:"search"}):"","post"===r?e.dispatch("post/FETCH_SEARCH_LIST",{params:{num:"20",keyword:i},type:"search"}):"","activity"===r?e.dispatch("activity/FETCH_SEARCH_LIST",{params:{num:"20",keyword:i},type:"search"}):"","user"===r?e.dispatch("user/FETCH_SEARCH_VALIDATA",{params:{num:"20",keyword:i},type:"search"}):""]).catch((function(t){}))},data:function(){return{page_num:{library:1,toturial:1,post:1,activity:1,block:1,video:1,user:1},maxCount:20,count:20,isLoading:!1,isMoreLoading:!1,keyword:this.$route.query.keyword}},watch:{$route:function(){this.keyword=this.$route.query.keyword,this.isLoading=!1,this.maxCount=20,this.count=20,this.page_num={library:1,toturial:1,post:1,activity:1,block:1,video:1,user:1}}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?_(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(b.c)({menuData:function(t){return t.menu.search},tutorial:function(t){return t.tutorial.search},library:function(t){return t.library.search},block:function(t){return t.block.search},activity:function(t){return t.activity.search},post:function(t){return t.post.search},video:function(t){return t.video.search},user:function(t){return t.user.search},hotPostData:function(t){return t.post.hotPost.list||[]},userinfo:function(t){return t.userinfo}}),{type:function(){return this.$route.query.type||"post"},videoData:function(){return this.video.list},activityData:function(){return this.activity.list},nodeData:function(){return this.block.list},toturialData:function(){return this.tutorial.list},libraryData:function(){return this.library.list},postData:function(){return this.post.list},userData:function(){return this.user.list},isVideo:function(){return"video"===this.type},isPost:function(){return"post"===this.type},isBlock:function(){return"block"===this.type},isToturial:function(){return"tutorial"===this.type},isLibrary:function(){return"library"===this.type},isActivity:function(){return"activity"===this.type},isUser:function(){return"user"===this.type},uid:function(){return this.userinfo.uid},currentId:function(){var t=null;for(var e in this.menuData)this.menuData[e].type===this.type&&(t=this.menuData[e].id);return t},currentIndex:function(){var t=this,e=0;return this.menuData.map((function(a,i){a.id===t.currentId&&(e=i)})),e},totalNum:function(){return this.isToturial?Number(this.tutorial.total)||0:this.isLibrary?Number(this.library.total)||0:this.isPost?Number(this.post.total)||0:this.isBlock?Number(this.block.total)||0:this.isActivity?Number(this.activity.total)||0:this.isVideo?Number(this.video.total)||0:this.isUser&&Number(this.user.total)||0}}),mounted:function(){this.$store.dispatch("post/FETCH_HOTPOST_LIST",{params:{type:"week"},type:"hotPost"})},methods:{onSubmit:function(){if(this.keyword){var t={};t=this.isToturial||this.isLibrary?{page_size:this.count,keyword:this.keyword}:{num:this.count,keyword:this.keyword},this.isVideo||this.isPost||this.isActivity?this.$store.dispatch("".concat(this.type,"/FETCH_SEARCH_LIST"),{params:t,type:"search"}):this.$store.dispatch("".concat(this.type,"/FETCH_SEARCH_VALIDATA"),{params:t,type:"search"})}},toNext:function(){var t=this;if(!this.isMoreLoading){this.page_num[this.type]=(this.page_num[this.type]||1)+1,this.isMoreLoading=!0;var e={};e=this.isToturial||this.isLibrary?{page_size:this.count,keyword:this.keyword,page:this.page_num[this.type]}:{num:this.count,keyword:this.keyword,page:this.page_num[this.type]},this.isVideo||this.isPost||this.isActivity?this.$store.dispatch("".concat(this.type,"/FETCH_SEARCH_NEXT_PAGE"),{params:e,type:"search"}).then((function(e){if(!e.list)throw{message:"操作频繁，请稍后再试"};t.maxCount=t.maxCount+t.count,t.isMoreLoading=!1})).catch((function(e){t.isMoreLoading=!1,t.$message({message:e.message||e.msg||"操作频繁，请稍后再试",type:"danger"})})):this.$store.dispatch("".concat(this.type,"/FETCH_NEXT_PAGE"),{params:e,type:"search"}).then((function(e){if(!e.list)throw{message:"操作频繁，请稍后再试"};t.maxCount=t.maxCount+t.count,t.isMoreLoading=!1})).catch((function(e){t.isMoreLoading=!1,t.$message({message:e.message||e.msg||"操作频繁，请稍后再试",type:"danger"})}))}},switchTab:function(t){this.isLoading=!0,this.$router.push({name:"search",query:{keyword:this.keyword,type:t.type}})}},head:function(){return{title:"搜索"}}},y=(a(1305),a(1306),Object(o.a)(g,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-main search-module"},[a("div",{staticClass:"bbt-container"},[a("bbt-row",[a("bbt-col",{attrs:{span:{xs:"17"}}},[a("form",{staticClass:"search-form",attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"search-form__input",attrs:{type:"text",placeholder:"请输入搜索关键词"},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}}),t._v(" "),a("i",{staticClass:"bbt-icon bbt-icon-search",on:{click:t.onSubmit}})]),t._v(" "),a("div",{staticClass:"search-total"},[t._v("\n          共找到 "),a("span",{staticClass:"search-num"},[t._v(t._s(t.totalNum||0))]),t._v(" 个结果\n        ")]),t._v(" "),a("x-tab",{attrs:{menu:t.menuData,currentId:t.currentId,currentIndex:t.currentIndex},on:{switch:t.switchTab}}),t._v(" "),a("bbt-loading",{attrs:{loading:t.isLoading,size:"lg"}},[t.isPost?a("x-post-list-module",{attrs:{data:t.postData,type:"search",count:t.maxCount}}):t._e(),t._v(" "),t.isBlock?a("x-node-list-module",{attrs:{data:t.nodeData,count:t.maxCount,span:3}}):t._e(),t._v(" "),t.isVideo?a("x-video-list-module",{attrs:{data:t.videoData,count:t.maxCount,span:3}}):t._e(),t._v(" "),t.isActivity?a("x-activity-list-module",{attrs:{data:t.activityData,count:t.maxCount,span:8}}):t._e(),t._v(" "),t.isToturial?a("x-course-list-module",{attrs:{data:t.toturialData,count:t.maxCount,span:8}}):t._e(),t._v(" "),t.isLibrary?a("x-library-list-module",{attrs:{data:t.libraryData,count:t.maxCount,span:12}}):t._e(),t._v(" "),t.isUser?a("x-user-list-module",{attrs:{data:t.userData,count:t.maxCount,span:4}}):t._e(),t._v(" "),t.totalNum>t.page_num[t.type]*t.count?a("x-more",{attrs:{isLoading:t.isMoreLoading},on:{next:t.toNext}}):t._e()],1)],1),t._v(" "),a("bbt-col",{attrs:{span:{xs:"7"}}},[a("x-hot-post-list",{attrs:{data:t.hotPostData,needLazy:!1}}),t._v(" "),t.marketData&&t.prevMarketData&&t.isOpenMarket?a("x-market-module",{attrs:{type:t.market_type,data:t.marketData,prevData:t.prevMarketData},on:{switch:t.switchMarket}}):t._e()],1)],1)],1)])}),[],!1,null,"52b6003a",null));e.default=y.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6);var i=a(1),r=(a(4),a(3),a(19),a(2)),n=a(103),s=a(532),o=a(27);function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var l={components:{XViolationModule:s.a,XEmpty:o.a},props:{data:{type:Object}},data:function(){return{currentPage:1,isLoading:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(r.c)({uid:function(t){return t.userinfo.uid}})),methods:{changePage:function(t){var e=this;this.isLoading=!0,this.$store.dispatch("user/FETCH_USER_VIOLATION",{params:{num:10,page:t,uid:this.uid},type:"violation"}).then((function(a){e.currentPage=t,e.isLoading=!1})).catch((function(t){e.isLoading=!1}))}}},u=(a(1430),a(0)),d=Object(u.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"summary-module"},[a("div",{staticClass:"summary-module__header"},[t._v("\n    操作记录\n  ")]),t._v(" "),a("div",{staticClass:"summary-module__body"},[a("bbt-loading",{attrs:{loading:t.isLoading}},[t.data.list&&t.data.list.length?a("x-violation-module",{attrs:{data:t.data.list}}):a("x-empty",[t._v("暂无数据")]),t._v(" "),Number.parseInt(t.data.total)>10?a("el-pagination",{staticStyle:{margin:"24px 0"},attrs:{layout:"prev, pager, next","current-page":t.currentPage,"page-size":10,total:Number.parseInt(t.data.total)},on:{"current-change":t.changePage}}):t._e()],1)],1)])}),[],!1,null,"52b8a890",null).exports;function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var m={middleware:"login",components:{XSetting:n.a,XRecordModule:d},fetch:function(t){var e=t.store;t.cookie;return Promise.all([e.dispatch("user/FETCH_USER_VIOLATION",{params:{num:10,page:1,uid:e.state.userinfo.uid},type:"violation"})]).catch((function(t){}))},data:function(){return{isLoading:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(r.c)({user:function(t){return t.user}}),{violationData:function(){return this.user.violation}}),head:function(){return{title:"操作记录 - 个人设置"}}},f=Object(u.a)(m,(function(){var t=this.$createElement,e=this._self._c||t;return e("x-setting",[e("x-record-module",{attrs:{data:this.violationData}})],1)}),[],!1,null,null,null);e.default=f.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6);var i=a(1),r=(a(4),a(3),a(19),a(2)),n=a(27),s={props:{data:{type:Array}},methods:{stringCutOut:function(t){return t.length<150?t:t.substring(0,150)+"..."}}},o=(a(1502),a(0)),c=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nav-card-module bbt-clearfix"},t._l(t.data,(function(e,i){return a("div",{key:i,staticClass:"nav-card-item"},[a("div",{staticClass:"nav-card"},[a("a",{attrs:{href:e.url,target:"_blank",rel:"nofollow noopener"}},[a("div",{staticClass:"nav-card__icon"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.icon||"",error:"/images/default/plate.jpg",loading:"/images/default/plate.jpg"},expression:"{\n              src: item.icon || '',\n              error: '/images/default/plate.jpg',\n              loading: '/images/default/plate.jpg',\n            }"}],attrs:{src:"/images/default/plate.jpg",alt:e.title}})]),t._v(" "),a("div",{staticClass:"nav-card__body"},[a("div",{staticClass:"nav-card__title"},[t._v(t._s(e.title))]),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"bottom",offset:-18}},[a("div",{staticStyle:{width:"200px"},attrs:{slot:"content"},slot:"content"},[t._v("\n              "+t._s(t.stringCutOut(e.desc))+"\n            ")]),t._v(" "),a("div",{staticClass:"nav-card__desc"},[t._v(t._s(e.desc))])])],1)])])])})),0)}),[],!1,null,"3c699d16",null).exports;function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var u={components:{XEmpty:n.a,XLinkListModule:c},fetch:function(t){var e=t.store,a=(t.cookie,t.res,t.error,t.redirect,t.route.params.id);return Promise.all([e.dispatch("topic/FETCH_LINK_SINGLE",{params:{chainnode_topic_id:a}})]).catch((function(t){}))},data:function(){return{isLoading:!1}},watch:{$route:function(){this.isLoading=!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(r.c)({linkItems:function(t){return t.topic.linkItems}}),{id:function(){return this.$route.params.id},linkData:function(){return this.linkItems[this.id]}})},d=Object(o.a)(u,(function(){var t=this.$createElement,e=this._self._c||t;return e("bbt-loading",{style:this.isLoading?"min-height: 1000px;":"",attrs:{loading:this.isLoading}},[this.linkData.list&&this.linkData.list.length?e("x-link-list-module",{attrs:{data:this.linkData.list}}):e("x-empty",[this._v("暂无数据")])],1)}),[],!1,null,null,null);e.default=d.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6),a(12);var i,r,n,s=a(1),o=(a(4),a(3),a(19),a(2)),c=a(27),l=(a(33),a(18)),u=a(8),d=a(52),p=a(17);function m(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var f={inject:["injectData"],mixins:[d.a],props:{data:{type:Array}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?m(Object(a),!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(o.c)({userinfo:function(t){return t.userinfo}}),{uid:function(){return this.userinfo.uid},id:function(){return this.$route.params.id}}),methods:(i=Object(p.a)(),r=Object(p.a)(),n={reply:function(t){this.$store.commit("topic/SET_REPLY_STATUS",{id:this.id,index:t,key:"is_reply",value:"0"}),setTimeout((function(){document.getElementById("reply_comment_".concat(t)).focus()}))},replyCancel:function(t){this.$store.commit("topic/SET_REPLY_STATUS",{id:this.id,index:t,key:"is_reply",value:"1"})},replySubmit:function(t,e,a){var i=this;this.data[t].is_loading="1",this.fetchComment(this.data[t].reply_comment,e,a).then((function(e){i.$store.commit("topic/SET_REPLY_STATUS",{id:i.id,index:t,key:"is_reply",value:"1"}),i.$store.commit("topic/SET_REPLY_STATUS",{id:i.id,index:t,key:"is_loading",value:"0"}),i.$store.commit("topic/SET_REPLY_STATUS",{id:i.id,index:t,key:"reply_comment",value:""}),e.credits?i.$message({message:"发表回复 金币+".concat(e.credits),type:"success"}):i.$message({message:"回复成功",type:"success"})})).catch((function(e){i.$store.commit("topic/SET_REPLY_STATUS",{id:i.id,index:t,key:"is_loading",value:"0"}),i.$message({message:e.message,type:"danger"})}))},fetchComment:function(t,e,a){return this.$store.dispatch("comment/ADD_COMMENT",{params:{parent_id:a,author_id:this.uid,tid:e,message:Object(u.c)(t).replace(/\r\n/gi,"<br>").replace(/\n/gi,"<br>")}})},like:function(t,e,a){var i=this;this.$store.dispatch("topic/SET_COMMENT_LIKE",{params:{pid:t,is_against:a,uid:this.uid},index:e,id:this.id,type:a}).catch((function(t){i.$message({message:t.message,type:"danger"})}))},routeType:function(t,e,a){return Object(u.n)(t,e,a)}},Object(l.a)(n,"reply",[i],Object.getOwnPropertyDescriptor(n,"reply"),n),Object(l.a)(n,"like",[r],Object.getOwnPropertyDescriptor(n,"like"),n),n)},h=(a(1499),a(1500),a(1501),a(0)),v=Object(h.a)(f,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"comment-module"},[a("ul",{staticClass:"comment-module__list"},t._l(t.data,(function(e,i){return a("li",{key:i,staticClass:"comment"},[a("div",{staticClass:"comment-body",attrs:{id:"pid"+e.pid}},[a("div",{staticClass:"comment__title"},[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:"/user/"+e.author_info.id,target:"_blank"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.author_info.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                src: item.author_info.avatar,\n                error: '/images/default/avatar.gif',\n                loading: '/images/default/avatar.gif',\n              }"}],staticClass:"bbt-avatar bbt-avatar--sm",attrs:{src:"/images/default/avatar.gif"}}),t._v("\n            "+t._s(e.author_info.name)+"\n          ")]),t._v(" "),a("span",{staticClass:"comment__level"},[t._v("\n            "+t._s(e.author_info.group_title)+"\n          ")]),t._v(" "),a("span",{staticClass:"comment__time"},[t._v("\n            "+t._s(t._f("timeGMT")(e.post_date))+"\n          ")]),t._v(" "),a("span",{staticClass:"bbt-dot"}),t._v(" "),e.source_from?a("span",{staticClass:"source"},[a("i",[t._v("来自")]),a("span",[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"app-download"},target:"_blank"}},[a("bbt-icon",{attrs:{type:"Mobile"}}),t._v("App")],1)],1)]):t._e(),t._v(" "),a("div",{staticClass:"comment__action"},["0"==e.attitude?a("a",{staticClass:"comment__action-item link-dark-minor",attrs:{href:"javascript:;"},on:{click:function(a){return t.like(e.pid,i,0)}}},[a("bbt-icon",{attrs:{type:"thumb-up"}}),t._v(" "+t._s(e.like)+" 赞\n            ")],1):a("a",{staticClass:"comment__action-item link-primary",attrs:{href:"javascript:;"},on:{click:function(a){return t.like(e.pid,i,0)}}},[a("bbt-icon",{attrs:{type:"thumb-up"}}),t._v(" "+t._s(e.like)+" 赞\n            ")],1),t._v(" "),a("a",{staticClass:"comment__action-item link-dark-minor",attrs:{href:"javascript:;"},on:{click:function(e){return t.reply(i)}}},[a("bbt-icon",{attrs:{type:"reply"}}),t._v(" 回复\n            ")],1),t._v(" "),"0"==e.isagainst?a("a",{staticClass:"comment__action-item link-dark-minor",attrs:{href:"javascript:;"},on:{click:function(a){return t.like(e.pid,i,1)}}},[a("bbt-icon",{attrs:{type:"thumb-down"}}),t._v(" "+t._s(e.against)+" 踩\n            ")],1):a("a",{staticClass:"comment__action-item link-primary",attrs:{href:"javascript:;"},on:{click:function(a){return t.like(e.pid,i,1)}}},[a("bbt-icon",{attrs:{type:"thumb-down"}}),t._v(" "+t._s(e.against)+" 踩\n            ")],1)])],1),t._v(" "),a("div",{directives:[{name:"viewer",rawName:"v-viewer"}],staticClass:"comment__content"},[e.ishiddenreplies||"-5"==e.invisible||e.group_comment_hidden?a("div",{staticClass:"isHidden"},[a("bbt-icon",{staticStyle:{"font-size":"16px",color:"rgba(0, 0, 0, 0.56)","margin-right":"4px"},attrs:{type:"lock"}}),t._v(t._s(e.content)+"\n          ")],1):a("div",{domProps:{innerHTML:t._s(t.transHtmlAsGroup(e.content,e.ismd,e.quote_type))}})]),t._v(" "),e.child&&e.child.length?a("div",{staticClass:"subcomment__content"},[a("div",{staticClass:"subcomment__content-open"},[a("div",{staticClass:"subcomment__content-list bbt-clearfix"},t._l(e.child,(function(e,i){return a("div",{key:i,staticClass:"subcomment__item",attrs:{id:"pid"+e.pid}},[a("div",{staticClass:"comment__title"},[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:"/user/"+e.author_info.id,target:"_blank"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.author_info.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                        src: subItem.author_info.avatar,\n                        error: '/images/default/avatar.gif',\n                        loading: '/images/default/avatar.gif',\n                      }"}],staticClass:"bbt-avatar bbt-avatar--sm",staticStyle:{"margin-right":"8px"},attrs:{src:"/images/default/avatar.gif"}}),t._v("\n                    "+t._s(e.author_info.name)+"\n                  ")]),t._v(" "),a("span",{staticClass:"comment__level"},[t._v("\n                    "+t._s(e.author_info.group_title)+"\n                  ")]),t._v(" "),e.qoute_username?a("span",{staticClass:"comment_user"},[t._v("\n                    回复"),a("nuxt-link",{staticClass:"link-dark-major font-medium",staticStyle:{"margin-left":"8px"},attrs:{to:"/user/"+e.qoute_uid,target:"_blank"}},[t._v(t._s(e.qoute_username))])],1):t._e(),t._v(" "),a("span",{staticClass:"comment__time"},[t._v("\n                    发表于"+t._s(t._f("timeGMT")(e.post_date))+"\n                  ")]),t._v(" "),t.data.replycredit_rule&&e.replycredit?a("span",{staticClass:"comment__tag"},[a("bbt-icon",{staticStyle:{"font-size":"20px",color:"#FDB500","font-weight":"normal",position:"relative",top:"2px"},attrs:{type:"reward"}}),t._v("金币 +"+t._s(t.data.replycredit_rule.extcredits))],1):t._e()],1),t._v(" "),a("div",{directives:[{name:"viewer",rawName:"v-viewer"}],staticClass:"comment__content",domProps:{innerHTML:t._s(t.transHtmlAsGroup(e.content))}})])})),0)])]):t._e(),t._v(" "),a("div",{staticClass:"comment__source"},[t._v("\n          来源"),a("nuxt-link",{staticClass:"link-dark-minor",attrs:{to:{name:t.routeType(e.type,e.fid,e.parent_page),params:{id:""+e.tid,page:""+e.parent_page},hash:"#pid"+e.pid},target:"_blank"}},[t._v("《"+t._s(e.title)+"》")])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"0"==e.is_reply,expression:"item.is_reply == '0'"}],staticClass:"reply-form"},[a("div",{staticClass:"reply-form__comment-wrap"},[a("div",{staticClass:"reply-form__textarea"},[a("el-input",{staticClass:"reply-form__comment",attrs:{type:"textarea",autosize:{minRows:1},id:"reply_comment_"+i,placeholder:"回复"+e.author_info.name+"："},model:{value:e.reply_comment,callback:function(a){t.$set(e,"reply_comment",a)},expression:"item.reply_comment"}})],1)]),t._v(" "),a("div",{staticClass:"reply-form__action"},[a("bbt-btn",{attrs:{type:"default",link:""},on:{click:function(e){return t.replyCancel(i)}}},[t._v("取消")]),t._v(" "),a("bbt-btn",{attrs:{type:"primary",disabled:e.reply_comment.replace(/\{\{emoji(([1-6][0-9]?)|(7[0-1])|(0))\}\}/g,"").length<5||"1"==e.is_loading},on:{click:function(a){return t.replySubmit(i,e.tid,e.pid)}}},["0"==e.is_loading?a("span",[t._v("回复")]):a("span",[t._v("回复中")])])],1)])])])})),0)])}),[],!1,null,"8f325206",null).exports;function b(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var _={components:{XEmpty:c.a,XCommentListModule:v},fetch:function(t){var e=t.store,a=(t.cookie,t.res,t.error,t.redirect,t.route),i=a.params.id,r=a.query.page;return Promise.all([e.dispatch("topic/FETCH_COMMENT_SINGLE",{params:{chainnode_topic_id:i,page:r||1}})]).catch((function(t){}))},data:function(){return{isLoading:!1,pageSize:20}},watch:{$route:function(){this.isLoading=!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?b(Object(a),!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(o.c)({commentItems:function(t){return t.topic.commentItems}}),{currentPage:function(){return Number(this.$route.query.page)||1},id:function(){return this.$route.params.id},commentData:function(){return this.commentItems[this.id]},totalNum:function(){return Number(this.commentItems[this.id].total)||0}}),methods:{changePage:function(t){this.isLoading||t==this.currentPage||(this.isLoading=!0,document.getElementById("topic-main").scrollIntoView(),this.$router.push({path:"/hot/".concat(this.id,"/comment"),query:{page:t}}))}}},g=Object(h.a)(_,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("bbt-loading",{style:t.isLoading?"min-height: 1000px;":"",attrs:{loading:t.isLoading}},[t.commentData&&t.commentData.list&&t.commentData.list.length?a("x-comment-list-module",{attrs:{data:t.commentData.list}}):a("x-empty",[t._v("暂无数据")]),t._v(" "),t.totalNum>t.pageSize?a("el-pagination",{staticStyle:{margin:"24px 0"},attrs:{layout:"prev, pager, next, jumper","current-page":Number.parseInt(t.currentPage),"page-size":t.pageSize,total:Number.parseInt(t.totalNum)},on:{"current-change":t.changePage}}):t._e()],1)}),[],!1,null,null,null);e.default=g.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6),a(23),a(54);var i=a(1),r=(a(4),a(3),a(19),a(2)),n=a(124),s=a(22),o=a.n(s),c={props:{data:{type:Object}},methods:{xss:function(t){return o()(t,{whiteList:[],stripIgnoreTag:!0})}}},l=(a(1559),a(0)),u=Object(l.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-module"},[a("div",{staticClass:"user-module__stat"},[a("div",{staticClass:"bbt-container"},[a("div",{staticClass:"user-module__item"},[a("span",[t._v(t._s(t.data.credits))]),t._v("积分\n      ")]),t._v(" "),a("div",{staticClass:"user-module__item"},[a("span",[t._v(t._s(t.data.money))]),t._v("金币\n      ")]),t._v(" "),a("div",{staticClass:"user-module__space"}),t._v(" "),a("div",{staticClass:"user-module__item"},[a("span",[t._v(t._s(t.data.guanzhu_count))]),t._v("关注\n      ")]),t._v(" "),a("div",{staticClass:"user-module__item"},[a("span",[t._v(t._s(t.data.fensi_count))]),t._v("粉丝\n      ")])])]),t._v(" "),a("div",{staticClass:"user-module__info"},[a("div",{staticClass:"bbt-container"},[a("div",{staticClass:"user-module__avatar"},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:t.data.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n            src: data.avatar,\n            error: '/images/default/avatar.gif',\n            loading: '/images/default/avatar.gif',\n          }",arg:"background-image"}],staticClass:"bbt-avatar"})]),t._v(" "),a("div",{staticClass:"user-module__name"},[t._v("\n        "+t._s(t.data.username)+"\n        "),"man"==t.data.gender?a("span",{staticStyle:{background:"#177ED7"}},[a("bbt-icon",{staticStyle:{"font-size":"16px"},attrs:{type:"man"}})],1):t._e(),t._v(" "),"women"==t.data.gender?a("span",{staticStyle:{background:"#F46300"}},[a("bbt-icon",{staticStyle:{"font-size":"16px"},attrs:{type:"women"}})],1):a("span",{staticStyle:{background:"#14954B"}},[t._v("保密")])]),t._v(" "),t.data.desc||t.data.sightml?a("div",{staticClass:"user-module__signature"},[t._v("\n        "+t._s(t.xss(t.data.desc||t.data.sightml))+"\n      ")]):a("div",{staticClass:"user-module__signature"},[t._v("\n        这个人很懒，没有写个性签名\n      ")])])])])}),[],!1,null,"6982a658",null).exports,d=a(42);function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var m={components:{XBanner:n.a,XUserInfoModule:u,XTab:d.a},validate:function(t){var e=t.params;return/^[1-9]+[0-9]*]*$/.test(e.id)},data:function(){return{bannerData:{holdHeight:190,height:262,bgPic:"/images/banner/usercenter@2x.jpg"},isLoading:!1}},fetch:function(t){var e=t.store,a=(t.cookie,t.res,t.error),i=(t.redirect,t.route.params.id);return Promise.all([e.dispatch("user/FETCH_SINGLE",{params:{uid:i},type:"items"})]).catch((function(t){return t&&404===t.code?a({statusCode:404}):a({statusCode:500})}))},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(r.c)({userinfo:function(t){return t.userinfo},user:function(t){return t.user},menu:function(t){return t.menu}}),{id:function(){return this.$route.params.id},userData:function(){return this.user.items[this.id]},menuData:function(){return this.menu.user_center},currentType:function(){return this.$route.name.split("-")[2]||null},currentId:function(){var t=this,e=0;return this.menuData&&this.menuData.length&&this.menuData.map((function(a,i){a.route==t.currentType&&(e=a.id)})),e},currentIndex:function(){var t=this,e=0;return this.menuData.map((function(a,i){a.id===t.currentId&&(e=i)})),e}}),watch:{$route:function(){this.isLoading=!1}},methods:{switchTab:function(t){this.isLoading||(this.isLoading=!0,t.route?this.$router.push({path:"/user/".concat(this.id,"/").concat(t.route)}):this.$router.push({path:"/user/".concat(this.id)}))}},head:function(){return{title:"".concat(this.userData.username,"的个人资料")}}},f=(a(1560),Object(l.a)(m,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("x-banner",{attrs:{banner:t.bannerData}}),t._v(" "),a("x-user-info-module",{attrs:{data:t.userData}}),t._v(" "),t.menuData.length?a("div",{staticClass:"tab-wrap"},[a("div",{staticClass:"tab-wrap__relative"},[a("div",{staticClass:"bbt-container"},[a("x-tab",{staticStyle:{"margin-bottom":"0",display:"inline-block"},attrs:{size:"lg",menu:t.menuData,currentId:t.currentId,currentIndex:t.currentIndex},on:{switch:t.switchTab}})],1)])]):t._e(),t._v(" "),a("bbt-loading",{style:t.isLoading?"min-height: 1000px;":"",attrs:{loading:t.isLoading}},[a("div",{staticClass:"bbt-container"},[a("nuxt-child")],1)])],1)}),[],!1,null,"6981f269",null));e.default=f.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6);var i=a(1),r=(a(4),a(3),a(19),a(12),a(2)),n=a(53),s=a(77),o=a(527),c={props:{data:{type:Array}}},l=(a(1562),a(0)),u=Object(l.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l(t.data,(function(e){return a("div",{key:e.id,staticClass:"topic-item bbt-clearfix"},[a("div",{staticClass:"topic-item__thumb"},[a("nuxt-link",{attrs:{to:"/hot/"+e.id,target:"_blank"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.icon,error:"/images/default/project.jpg",loading:"/images/default/project.jpg"},expression:"{\n            src: item.icon,\n            error: '/images/default/project.jpg',\n            loading: '/images/default/project.jpg',\n          }"}],attrs:{width:"120",src:"/images/default/project.jpg"}})])],1),t._v(" "),a("div",{staticClass:"topic-item__info"},[a("h3",{staticClass:"topic-item__title"},[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:"/hot/"+e.id,target:"_blank"}},[t._v("#"+t._s(e.title)+"#")])],1),t._v(" "),a("p",{staticClass:"topic-item__desc"},[t._v(t._s(e.intro))]),t._v(" "),a("p",{staticClass:"topic-item__views"},[a("span",[a("bbt-icon",{attrs:{type:"eye"}}),t._v(" "+t._s(t._f("num_to_thousand")(e.reading))+"\n        ")],1),t._v(" "),a("span",[a("bbt-icon",{attrs:{type:"comment"}}),t._v(" "+t._s(t._f("num_to_thousand")(e.discuss))+"\n        ")],1)])])])})),0)}),[],!1,null,"9df61650",null).exports,d=a(27);function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var m={components:{XTagFilter:n.a,XPostListModule:s.a,XBlockListModule:o.a,XTopicListModule:u,XEmpty:d.a},watchQuery:["tagid"],fetch:function(t){var e=t.store,a=(t.cookie,t.res,t.error,t.redirect),i=t.route,r=i.params.id,n=i.query.tagid;return Number(n)>2?a(301,{path:"/user/".concat(r,"/collections")}):Promise.all([Number(n)?"":e.dispatch("post/FETCH_FAV_LIST",{params:{authorid:r,num:10,type:"tid"},type:"favPost"}),1==Number(n)?e.dispatch("block/FETCH_FAV_LIST",{params:{authorid:r,num:10,type:"fid"},type:"favBlock"}):"",2==Number(n)?e.dispatch("topic/FETCH_FAV_LIST",{params:{page_size:10,uid:r},type:"favTopic"}):""]).catch((function(t){}))},data:function(){return{isLoading:!1,pageSize:10,currentPage:1}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(r.c)({menu:function(t){return t.menu},post:function(t){return t.post},block:function(t){return t.block},topic:function(t){return t.topic}}),{id:function(){return this.$route.params.id},currentId:function(){return Number(this.$route.query.tagid)||0},tagData:function(){return this.menu.favorite_filter},postData:function(){return this.post.favPost},totalNum:function(){return Number(this.post.favPost.total)||0},blockData:function(){return this.block.favBlock},totalBlockNum:function(){return Number(this.block.favBlock.total)||0},topicData:function(){return this.topic.favTopic},totalTopicNum:function(){return Number(this.topic.favTopic.total)||0}}),watch:{$route:function(){this.isLoading=!1}},methods:{switchTab:function(t){if(!this.isLoading){this.isLoading=!0,this.currentPage=1;var e={};t.id&&(e={tagid:"".concat(t.id)}),this.$router.push({path:"/user/".concat(this.id,"/collections"),query:e})}},changePage:function(t){var e=this;this.isLoading||(this.isLoading=!0,this.$store.dispatch("post/FETCH_FAV_LIST",{params:{num:this.pageSize,authorid:this.id,type:"tid",page:t},type:"favPost"}).then((function(a){e.currentPage=t,e.isLoading=!1})).catch((function(t){e.isLoading=!1})))},changeBlockPage:function(t){var e=this;this.isLoading||(this.isLoading=!0,this.$store.dispatch("block/FETCH_FAV_LIST",{params:{num:this.pageSize,authorid:this.$route.params.id,type:"fid",page:t},type:"favBlock"}).then((function(a){e.currentPage=t,e.isLoading=!1})).catch((function(t){e.isLoading=!1})))},changeTopicPage:function(t){var e=this;this.isLoading||(this.isLoading=!0,this.$store.dispatch("topic/FETCH_FAV_LIST",{params:{page_size:this.pageSize,uid:this.$route.params.id,page:t},type:"favTopic"}).then((function(a){e.currentPage=t,e.isLoading=!1})).catch((function(t){e.isLoading=!1})))}}},f=Object(l.a)(m,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("x-tag-filter",{attrs:{menu:t.tagData,currentId:t.currentId,isNeedMore:!1},on:{switch:t.switchTab}}),t._v(" "),a("bbt-loading",{style:t.isLoading?"min-height: 1000px;":"",attrs:{loading:t.isLoading}},[0==t.currentId?a("div",[t.postData.list&&t.postData.list.length?a("x-post-list-module",{attrs:{data:t.postData.list}}):a("x-empty",[t._v("暂无数据")]),t._v(" "),t.totalNum>t.pageSize?a("el-pagination",{staticStyle:{margin:"24px 0"},attrs:{layout:"prev, pager, next","current-page":t.currentPage,"page-size":t.pageSize,total:t.totalNum},on:{"current-change":t.changePage}}):t._e()],1):1==t.currentId?a("div",[t.blockData.list&&t.blockData.list.length?a("x-block-list-module",{attrs:{data:t.blockData.list}}):a("x-empty",[t._v("暂无数据")]),t._v(" "),t.totalBlockNum>t.pageSize?a("el-pagination",{staticStyle:{margin:"24px 0"},attrs:{layout:"prev, pager, next","current-page":t.currentPage,"page-size":t.pageSize,total:t.totalBlockNum},on:{"current-change":t.changeBlockPage}}):t._e()],1):2==t.currentId?a("div",[t.topicData.list&&t.topicData.list.length?a("x-topic-list-module",{attrs:{data:t.topicData.list}}):a("x-empty",[t._v("暂无数据")]),t._v(" "),t.totalTopicNum>t.pageSize?a("el-pagination",{staticStyle:{margin:"24px 0"},attrs:{layout:"prev, pager, next","current-page":t.currentPage,"page-size":t.pageSize,total:t.totalTopicNum},on:{"current-change":t.changeTopicPage}}):t._e()],1):t._e()])],1)}),[],!1,null,null,null);e.default=f.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6);var i=a(1),r=(a(4),a(3),a(19),a(12),a(2)),n=a(53),s={props:{summaryData:{type:Object}}},o=(a(1563),a(0)),c=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"summary-module"},[a("div",[t.summaryData.admin?a("span",[t._v("管理组"),a("span",[t._v(t._s(t.summaryData.grouptitle))])]):a("span",[t._v("用户组"),a("span",[t._v(t._s(t.summaryData.grouptitle))])])]),t._v(" "),a("div",[a("span",[t._v("上次发表时间"),a("span",[t._v(t._s(t._f("timeGMT")(t.summaryData.lastpost_date||t.summaryData.regdate)))])])]),t._v(" "),t.summaryData.chainnode_info&&t.summaryData.chainnode_info.length?a("div",{staticClass:"bbt-clearfix"},[a("div",[t._v("开通节点")]),t._v(" "),a("div",[a("bbt-row",t._l(t.summaryData.chainnode_info,(function(e,i){return a("bbt-col",{key:i,attrs:{span:{xs:6}}},[a("div",{staticClass:"node-item--wrap"},[a("div",{staticClass:"node-item"},["2"==e.status?a("nuxt-link",{attrs:{to:{name:"forum-id",params:{id:""+e.fid}},target:"_blank"}},[a("div",{staticClass:"node-item__info"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.icon_img,error:"/images/default/project.jpg",loading:"/images/default/project.jpg"},expression:"{\n                      src: item.icon_img,\n                      error: '/images/default/project.jpg',\n                      loading: '/images/default/project.jpg',\n                    }"}],attrs:{src:"/images/default/project.jpg"}}),t._v(" "),a("div",[a("h3",[t._v("\n                      "+t._s(e.title.cn_name)+"/"+t._s(e.title.short_name)),Number.parseInt(e.todayposts)>0?a("span",[t._v(t._s(e.todayposts))]):t._e()]),t._v(" "),a("p",[t._v("\n                      主题："+t._s(t._f("num_to_thousand")(e.threads))+"\n                      "),a("span",{staticClass:"bbt-dot"}),t._v("\n                      帖数："+t._s(t._f("num_to_thousand")(e.posts))+"\n                    ")])])]),t._v(" "),e.desc?a("div",{staticClass:"node-item__desc"},[t._v("\n                  "+t._s(e.desc)+"\n                ")]):t._e()]):a("nuxt-link",{attrs:{to:{name:"nodes-initialization",query:{action:"edit",id:""+e.id}},target:"_blank"}},[a("div",{staticClass:"node-item__info"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.icon_img,error:"/images/default/project.jpg",loading:"/images/default/project.jpg"},expression:"{\n                      src: item.icon_img,\n                      error: '/images/default/project.jpg',\n                      loading: '/images/default/project.jpg',\n                    }"}],attrs:{src:"/images/default/project.jpg"}}),t._v(" "),a("div",[a("h3",[t._v("\n                      "+t._s(e.title.cn_name)+"/"+t._s(e.title.short_name)),Number.parseInt(e.todayposts)>0?a("span",[t._v(t._s(e.todayposts))]):t._e()]),t._v(" "),a("p",[t._v("\n                      主题："+t._s(t._f("num_to_thousand")(e.threads))+"\n                      "),a("span",{staticClass:"bbt-dot"}),t._v("\n                      帖数："+t._s(t._f("num_to_thousand")(e.posts))+"\n                    ")])])]),t._v(" "),e.desc?a("div",{staticClass:"node-item__desc"},[t._v("\n                  "+t._s(e.desc)+"\n                ")]):t._e()])],1),t._v(" "),a("div",{staticClass:"node-progress"},[a("p",[t._v("\n                进度："),"1"==e.status?a("span",[t._v("审核中")]):"2"==e.status?a("span",[t._v("已开通")]):a("span",{staticClass:"link-primary"},[t._v("审核不通过")])]),t._v(" "),"3"==e.status?a("p",[t._v("\n                理由："),a("span",[t._v(t._s(e.remark||"暂无拒绝理由"))])]):t._e()])])])})),1)],1)]):t._e()])}),[],!1,null,"4c6c2fea",null).exports,l=a(532),u=a(27);function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var p={components:{XTagFilter:n.a,XUserSummaryModule:c,XViolationModule:l.a,XEmpty:u.a},watchQuery:["tagid"],fetch:function(t){var e=t.store,a=(t.cookie,t.res,t.error,t.redirect),i=t.route,r=i.params.id,n=i.query.tagid;return Number(n)>1?a(301,{path:"/user/".concat(r,"/other")}):Promise.all([Number(n)?"":e.dispatch("user/FETCH_SUMMARY",{params:{uid:r}}),1==Number(n)?e.dispatch("user/FETCH_USER_VIOLATION",{params:{num:10,page:1,uid:r},type:"violation"}):""]).catch((function(t){}))},data:function(){return{isLoading:!1,pageSize:10,currentPage:1}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(r.c)({menu:function(t){return t.menu},user:function(t){return t.user}}),{id:function(){return this.$route.params.id},currentId:function(){return Number(this.$route.query.tagid)||0},tagData:function(){return this.menu.other_filter},violationData:function(){return this.user.violation.list},violationNum:function(){return Number(this.user.violation.total)||0},summaryData:function(){return this.user.summary[this.id]}}),watch:{$route:function(){this.isLoading=!1}},methods:{switchTab:function(t){if(!this.isLoading){this.isLoading=!0,this.currentPage=1;var e={};t.id&&(e={tagid:"".concat(t.id)}),this.$router.push({path:"/user/".concat(this.id,"/other"),query:e})}},changePage:function(t){var e=this;this.isLoading=!0,this.$store.dispatch("user/FETCH_USER_VIOLATION",{params:{num:10,page:t,uid:this.id},type:"violation"}).then((function(a){e.currentPage=t,e.isLoading=!1})).catch((function(t){e.isLoading=!1}))}}},m=Object(o.a)(p,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("x-tag-filter",{attrs:{menu:t.tagData,currentId:t.currentId,isNeedMore:!1},on:{switch:t.switchTab}}),t._v(" "),a("bbt-loading",{style:t.isLoading?"min-height: 1000px;":"",attrs:{loading:t.isLoading}},[0==t.currentId?a("div",[a("x-user-summary-module",{attrs:{summaryData:t.summaryData}})],1):1==t.currentId?a("div",[t.violationData&&t.violationData.length?a("x-violation-module",{attrs:{data:t.violationData}}):a("x-empty",[t._v("暂无操作记录")]),t._v(" "),t.violationNum>10?a("el-pagination",{staticStyle:{margin:"24px 0"},attrs:{layout:"prev, pager, next","current-page":t.currentPage,"page-size":10,total:t.violationNum},on:{"current-change":t.changePage}}):t._e()],1):t._e()])],1)}),[],!1,null,null,null);e.default=m.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6);var i=a(1),r=(a(4),a(3),a(19),a(12),a(2)),n=a(53),s=a(77),o=a(40),c=a.n(o),l=a(8),u=a(22),d=a.n(u),p={components:{"no-ssr":c.a},data:function(){return{isSSR:!1,currentReplyPage:2,pageSize:18,isScrollLoading:!1}},props:{data:{type:Array},total:{type:Number}},mounted:function(){this.isSSR=!0},methods:{xss:function(t){return d()(t,{whiteList:[],stripIgnoreTag:!0})},routeType:function(t,e){return Object(l.n)(t,e)},toNext:function(){var t=this;this.isScrollLoading||(this.isScrollLoading=!0,this.$store.dispatch("comment/FETCH_USERCOMMENT_NEXT",{params:{authorid:this.$route.params.id,page:this.currentReplyPage,num:this.pageSize},type:"user"}).then((function(e){e.list&&e.list.length&&t.currentReplyPage++,t.isScrollLoading=!1})).catch((function(){t.isScrollLoading=!1})))}}},m=(a(1561),a(0)),f=Object(m.a)(p,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"reply-module"}},[t.isSSR?a("no-ssr",[a("water-fall",{staticStyle:{margin:"0 -12px"},attrs:{"top-interval":24,"left-interval":24,width:368,finished:t.total<=t.currentReplyPage*t.pageSize,"finished-txt":""},on:{load:t.toNext}},t._l(t.data,(function(e,i){return a("water-fall-silde",{key:i},[a("div",{staticClass:"reply-item"},[a("div",{staticClass:"reply-item__author"},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:e.author_info.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                src: item.author_info.avatar,\n                error: '/images/default/avatar.gif',\n                loading: '/images/default/avatar.gif',\n              }",arg:"background-image"}],staticClass:"bbt-avatar"}),t._v(" "),a("div",[a("span",[t._v(t._s(e.author_info.username))]),t._v(t._s(e.author_info.grouptitle)+"\n            ")]),t._v(" "),a("div",[t._v(t._s(t._f("timeGMT")(e.dateline)))])]),t._v(" "),a("div",{staticClass:"reply-item__content"},[t._v("\n            "+t._s(t.xss(e.message))+"\n          ")]),t._v(" "),a("div",{staticClass:"reply-item__action"},["0"==e.attitude?a("a",{staticClass:"comment__action-item link-dark-minor",attrs:{href:"javascript:;"}},[a("bbt-icon",{attrs:{type:"thumb-up"}}),t._v(" "+t._s(e.like)+" 赞\n            ")],1):a("a",{staticClass:"comment__action-item link-primary",attrs:{href:"javascript:;"}},[a("bbt-icon",{attrs:{type:"thumb-up"}}),t._v(" "+t._s(e.like)+" 赞\n            ")],1),t._v(" "),"0"==e.isagainst?a("a",{staticClass:"comment__action-item link-dark-minor",attrs:{href:"javascript:;"}},[a("bbt-icon",{attrs:{type:"thumb-down"}}),t._v(" "+t._s(e.against)+" 踩\n            ")],1):a("a",{staticClass:"comment__action-item link-primary",attrs:{href:"javascript:;"}},[a("bbt-icon",{attrs:{type:"thumb-down"}}),t._v(" "+t._s(e.against)+" 踩\n            ")],1)]),t._v(" "),a("div",{staticClass:"reply-item__source"},[t._v("\n            来源\n            "),a("nuxt-link",{staticClass:"link-dark-minor",attrs:{to:{name:t.routeType(e.type,e.fid),params:{id:""+e.tid}},target:"_blank"}},[t._v(t._s(e.subject))])],1)])])})),1)],1):t._e(),t._v(" "),t.total>18*t.currentReplyPage?a("bbt-loading",{attrs:{loading:!0}}):a("p",{staticClass:"load-finished"},[t._v("没有更多了~")])],1)}),[],!1,null,"1118a394",null).exports,h=a(27);function v(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function b(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?v(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var _={components:{XTagFilter:n.a,XPostListModule:s.a,XPostReplyModule:f,XEmpty:h.a},watchQuery:["tagid"],fetch:function(t){var e=t.store,a=t.cookie,i=(t.res,t.error,t.redirect),r=t.route,n=r.params.id,s=r.query.tagid;return n!=e.state.userinfo.uid&&1==Number(s)||Number(s)>2?i(301,{path:"/user/".concat(n)}):Promise.all([Number(s)?"":e.dispatch("post/FETCH_LIST",{params:{authorid:n,num:20,orderby:"dateline"},type:"user"}),1==Number(s)?e.dispatch("post/FETCH_LIST",{params:{authorid:n,num:20,modthread:1,orderby:"dateline"},type:"user"}):"",2==Number(s)?e.dispatch("comment/FETCH_USERCOMMENT_LIST",{params:{authorid:n,uid:a.id,num:18,page:1},type:"user"}):""]).catch((function(t){}))},data:function(){return{isLoading:!1,pageSize:18,currentPage:1}},computed:b({},Object(r.c)({menu:function(t){return t.menu},post:function(t){return t.post},userinfo:function(t){return t.userinfo},comment:function(t){return t.comment}}),{uid:function(){return this.userinfo.uid},id:function(){return this.$route.params.id},currentId:function(){return Number(this.$route.query.tagid)||0},tagData:function(){return this.id==this.uid?this.menu.post_filter_self:this.menu.post_filter},postsData:function(){return this.post.user},totalNum:function(){return Number(this.post.user.total)||0},replyData:function(){return this.comment.user},totalReplyNum:function(){return Number(this.comment.user.total)||0}}),watch:{$route:function(){this.isLoading=!1}},methods:{switchTab:function(t){if(!this.isLoading){this.isLoading=!0,this.currentPage=1;var e={};t.id&&(e={tagid:"".concat(t.id)}),this.$router.push({path:"/user/".concat(this.id),query:e})}},changePage:function(t){var e=this;if(!this.isLoading){this.isLoading=!0;var a={};1==this.currentId&&(a={modthread:1}),this.$store.dispatch("post/FETCH_LIST",{params:b({authorid:this.id,num:20,page:t},a,{orderby:"dateline"}),type:"user"}).then((function(a){e.currentPage=t,e.isLoading=!1})).catch((function(t){e.isLoading=!1}))}}}},g=Object(m.a)(_,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("x-tag-filter",{attrs:{menu:t.tagData,currentId:t.currentId,isNeedMore:!1},on:{switch:t.switchTab}}),t._v(" "),a("bbt-loading",{style:t.isLoading?"min-height: 1000px;":"",attrs:{loading:t.isLoading}},[0==t.currentId||1==t.currentId?a("div",[t.postsData.list&&t.postsData.list.length?a("x-post-list-module",{attrs:{data:t.postsData.list,sort:"dataline",source:!0}}):a("x-empty",[t._v("暂无数据")]),t._v(" "),t.totalNum>20?a("el-pagination",{staticStyle:{margin:"24px 0"},attrs:{layout:"prev, pager, next","current-page":t.currentPage,"page-size":20,total:t.totalNum},on:{"current-change":t.changePage}}):t._e()],1):2==t.currentId?a("div",[t.replyData.list&&t.replyData.list.length?a("x-post-reply-module",{attrs:{data:t.replyData.list,total:t.totalReplyNum}}):a("x-empty",[t._v("暂无数据")])],1):t._e()])],1)}),[],!1,null,null,null);e.default=g.exports},function(t,e,a){"use strict";a.r(e);a(31),a(39);var i=a(15),r={props:{skin:{type:String,validate:function(t){return["primary","white"].includes(t)},default:"white"}},data:function(){return{appQRcode:i.a}}},n=(a(1114),a(0)),s={layout:"login",components:{XDownload:Object(n.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-clearfix"},[a("bbt-btn",{attrs:{type:t.skin,href:"https://apps.apple.com/cn/app/%E9%93%BE%E8%8A%82%E7%82%B9-%E5%B7%B4%E6%AF%94%E7%89%B9%E8%AE%BA%E5%9D%9B-%E5%8C%BA%E5%9D%97%E9%93%BE%E6%AF%94%E7%89%B9%E5%B8%81%E4%BA%A4%E6%B5%81%E7%A4%BE%E5%8C%BA/id1458688645",target:"_blank",rel:"nofollow noopener"}},[a("bbt-icon",{attrs:{type:"iphone"}}),t._v("App Store 下载\n  ")],1),t._v(" "),a("bbt-btn",{attrs:{type:t.skin,href:"https://8btc-apk.oss-cn-hangzhou.aliyuncs.com/chainnode/Android/release/chainnode_V1.4.520190919_signed.apk",target:"_blank",rel:"nofollow noopener"}},[a("bbt-icon",{attrs:{type:"android"}}),t._v("Android 下载\n  ")],1),t._v(" "),a("bbt-btn",{attrs:{type:t.skin}},[a("bbt-icon",{attrs:{type:"qr-code"}}),t._v("扫码下载\n    "),a("div",{staticClass:"qr-code"},[a("img",{attrs:{src:t.appQRcode,alt:""}})])],1)],1)}),[],!1,null,"a296fbc4",null).exports},data:function(){return{isLoad:!1,data:[{name:"区块链社区",desc:"分享你和区块链的一切"},{name:"区块链文库",desc:"2000+份文档资料免费阅读"},{name:"精彩活动",desc:"行业大咖云集，干货满满"},{name:"金币大派兑",desc:"App独享金币游戏，免费兑换精美礼品"}]}},computed:{currentYear:function(){return(new Date).getFullYear()}},mounted:function(){var t=this;document.getElementById("video").addEventListener("canplaythrough",(function(){t.isLoad=!0}))},head:function(){return{title:"ChainNode 链节点App下载"}}},o=(a(1115),Object(n.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"download-module"},[a("div",{staticClass:"app-banner"},[a("div",{staticClass:"app-video"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLoad,expression:"!isLoad"}],staticClass:"video-placeholder"}),t._v(" "),a("video",{directives:[{name:"show",rawName:"v-show",value:t.isLoad,expression:"isLoad"}],attrs:{src:"/images/app-download/chainnode.mp4",id:"video",autoplay:"",loop:"",preload:"",muted:""},domProps:{muted:!0}})]),t._v(" "),a("div",{staticClass:"bbt-container"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("x-download")],1)]),t._v(" "),t._l(t.data,(function(e,i){return a("div",{key:i,staticClass:"app-page",class:"app-page"+i%2},[a("div",{staticClass:"bbt-container"},i%2==0?[a("bbt-row",[a("bbt-col",{attrs:{span:{xs:12}}},[a("div",[a("div",{staticClass:"app-page__title"},[a("img",{attrs:{src:"/images/app-download/"+i+"@2x.png",alt:e.name}}),t._v(" "),a("h2",[t._v(t._s(e.name))]),t._v(" "),a("p",[t._v(t._s(e.desc))])]),t._v(" "),a("x-download")],1)]),t._v(" "),a("bbt-col",{attrs:{span:{xs:12}}},[a("div",{staticClass:"app-page__image"},[a("img",{attrs:{src:"/images/app-download/mockup-"+i+"@2x.png",alt:e.name}})])])],1)]:[a("bbt-row",[a("bbt-col",{attrs:{span:{xs:12}}},[a("div",{staticClass:"app-page__image"},[a("img",{attrs:{src:"/images/app-download/mockup-"+i+"@2x.png",alt:e.name}})])]),t._v(" "),a("bbt-col",{attrs:{span:{xs:12}}},[a("div",[a("div",{staticClass:"app-page__title"},[a("img",{attrs:{src:"/images/app-download/"+i+"@2x.png",alt:e.name}}),t._v(" "),a("h2",[t._v(t._s(e.name))]),t._v(" "),a("p",[t._v(t._s(e.desc))])]),t._v(" "),a("x-download")],1)])],1)],1)])})),t._v(" "),a("div",{staticClass:"app-footer"},[a("div",{staticClass:"bbt-container"},[a("img",{attrs:{src:"/images/common/ChainNode.svg",height:"95px",alt:""}}),t._v(" "),t._m(2),t._v(" "),a("x-download",{attrs:{skin:"primary"}}),t._v(" "),a("div",{staticClass:"app-copyright"},[t._v("\n        Copyright © 1998- "+t._s(t.currentYear)+" ChainNode. All Rights Reserved."),a("br"),t._v("ChainNode\n        版权所有\n      ")])],1)])],2)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app-launch"},[e("img",{attrs:{src:"/images/app-download/launch@2x.png"}}),this._v("链节点 APP\n      ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app-slogan"},[this._v("一链一宇宙"),e("br"),this._v("一星一节点")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app-slogan"},[this._v("一链一宇宙"),e("br"),this._v("一星一节点")])}],!1,null,"a245a786",null));e.default=o.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6);var i=a(1),r=(a(4),a(3),a(19),a(2)),n=a(103),s=a(41),o=a(14),c={components:{XCropper:a(83).a},props:{data:{type:Object},isLoading:{type:Boolean}},data:function(){return{isVisible:!1,isUpLoading:!1,typeOptions:["无","初中","高中","本科","研究生","博士"],option:{img:null,autoCropWidth:200,autoCropHeight:200,fixedNumber:[1,1]},iptValue:null,ruleForm:{avatar:this.data&&this.data.avatar?'<img src="'.concat(this.data.avatar,'">'):null,avatarUrl:this.data&&this.data.avatar||null,display_name:this.data&&this.data.display_name||null,graduateschool:this.data&&this.data.graduateschool||null,education:this.data&&this.data.education||null,company:this.data&&this.data.company||null,position:this.data&&this.data.position||null,desc:this.data&&this.data.desc||null},rules:{display_name:[{max:10,message:"昵称长度在 1 到 10 个字符",trigger:["blur","change"]}],graduateschool:[{max:20,message:"毕业院校长度在 1 到 20 个字符",trigger:["blur","change"]}],company:[{max:10,message:"公司名称长度在 1 到 10 个字符",trigger:["blur","change"]}],position:[{max:10,message:"公司职位长度在 1 到 10 个字符",trigger:["blur","change"]}],desc:[{max:100,message:"个人简介长度在 1 到 100 个字符",trigger:["blur","change"]}]}}},watch:{data:function(t){this.ruleForm={avatar:t&&t.avatar?'<img src="'.concat(t.avatar,'">'):null,avatarUrl:t&&t.avatar||null,display_name:t&&t.display_name||null,graduateschool:t&&t.graduateschool||null,education:t&&t.education||null,company:t&&t.company||null,position:t&&t.position||null,desc:t&&t.desc||null}}},methods:{closeDialog:function(){this.isVisible=!1},uploadPhoto:function(t){var e=this,a=t.target.files[0];if(a){var i=new FileReader;i.onload=function(t){var a;a="object"===Object(s.a)(t.target.result)?window.URL.createObjectURL(new Blob([t.target.result])):t.target.result,e.option.img=a,e.isVisible=!0,e.iptValue=null},i.readAsArrayBuffer(a)}},changeType:function(t){this.isShow=!1,this.ruleForm.education=t},cropImage:function(t){var e=this;this.isUpLoading=!0,Object(o.l)(t,"avatar",!0,this.$store.$api).then((function(t){e.isUpLoading=!1,e.ruleForm.avatarUrl=t.data,e.ruleForm.avatar='<img src="'.concat(t.data,'">'),e.isVisible=!1,e.savaInfo("头像已更新")})).catch((function(t){e.isUpLoading=!1,e.$message({type:"danger",message:t.message})}))},savaInfo:function(t){var e=this;this.$refs.ruleForm.validate((function(a){a&&e.$emit("sava",e.ruleForm,t)}))}}},l=(a(1427),a(1428),a(0)),u=Object(l.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"info-module"},[a("div",{staticClass:"info-module__header"},[t._v("\n    基本信息\n  ")]),t._v(" "),a("div",{staticClass:"info-module__body"},[a("div",{staticClass:"info-module__avatar bbt-clearfix"},[a("div",{staticClass:"info-module__upload"},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:t.ruleForm.avatarUrl,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n            src: ruleForm.avatarUrl,\n            error: '/images/default/avatar.gif',\n            loading: '/images/default/avatar.gif',\n          }",arg:"background-image"}],staticClass:"bbt-avatar"}),t._v(" "),a("div",{staticClass:"upload-mask"},[a("el-input",{staticClass:"file-ipt",attrs:{type:"file",accept:"image/gif,image/jpeg,image/jpg,image/png"},nativeOn:{change:function(e){return t.uploadPhoto(e)}},model:{value:t.iptValue,callback:function(e){t.iptValue=e},expression:"iptValue"}}),t._v(" "),a("bbt-icon",{staticStyle:{"font-size":"40px"},attrs:{type:"camera"}}),a("br"),t._v("\n          修改头像\n        ")],1)]),t._v(" "),a("div",{staticClass:"info-module__username"},[a("p",[t._v("\n          "+t._s(t.data&&t.data.username)),a("span",[t._v("请前往"),a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"app-download"},target:"_blank"}},[a("bbt-icon",{attrs:{type:"Mobile"}}),t._v("App")],1),t._v("修改用户名")],1)])])]),t._v(" "),a("el-form",{ref:"ruleForm",attrs:{model:t.ruleForm,rules:t.rules}},[a("el-form-item",{attrs:{label:"昵称",prop:"display_name"}},[a("el-input",{attrs:{placeholder:"请输入您的昵称"},model:{value:t.ruleForm.display_name,callback:function(e){t.$set(t.ruleForm,"display_name",e)},expression:"ruleForm.display_name"}})],1),t._v(" "),a("el-form-item",[a("bbt-row",[a("bbt-col",{attrs:{span:{xs:16}}},[a("el-form-item",{attrs:{label:"毕业院校",prop:"graduateschool"}},[a("el-input",{attrs:{placeholder:"请输入您的毕业院校"},model:{value:t.ruleForm.graduateschool,callback:function(e){t.$set(t.ruleForm,"graduateschool",e)},expression:"ruleForm.graduateschool"}})],1)],1),t._v(" "),a("bbt-col",{attrs:{span:{xs:8}}},[a("el-form-item",{attrs:{label:"学历",prop:"education"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择学历"},model:{value:t.ruleForm.education,callback:function(e){t.$set(t.ruleForm,"education",e)},expression:"ruleForm.education"}},t._l(t.typeOptions,(function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})})),1)],1)],1)],1)],1),t._v(" "),a("el-form-item",[a("bbt-row",[a("bbt-col",{attrs:{span:{xs:16}}},[a("el-form-item",{attrs:{label:"公司",prop:"company"}},[a("el-input",{attrs:{placeholder:"请输入您的公司"},model:{value:t.ruleForm.company,callback:function(e){t.$set(t.ruleForm,"company",e)},expression:"ruleForm.company"}})],1)],1),t._v(" "),a("bbt-col",{attrs:{span:{xs:8}}},[a("el-form-item",{attrs:{label:"职位",prop:"position"}},[a("el-input",{attrs:{placeholder:"请输入您的职位"},model:{value:t.ruleForm.position,callback:function(e){t.$set(t.ruleForm,"position",e)},expression:"ruleForm.position"}})],1)],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"个人简介",prop:"desc"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入您的个人简介"},model:{value:t.ruleForm.desc,callback:function(e){t.$set(t.ruleForm,"desc",e)},expression:"ruleForm.desc"}})],1)],1),t._v(" "),t.isLoading?a("bbt-btn",{attrs:{type:"primary",size:"lg",disabled:""}},[t._v("\n      保存中...\n    ")]):a("bbt-btn",{attrs:{type:"primary",size:"lg"},on:{click:function(e){return t.savaInfo(null)}}},[t._v("\n      保存信息\n    ")])],1),t._v(" "),a("x-cropper",{attrs:{title:"修改头像",option:t.option,isVisible:t.isVisible,isLoading:t.isUpLoading},on:{close:t.closeDialog,crop:t.cropImage}})],1)}),[],!1,null,"186aae6a",null).exports;function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var m={middleware:"login",components:{XSetting:n.a,XUserInfoModule:u},fetch:function(t){var e=t.store;t.cookies;return Promise.all([e.dispatch("user/FETCH_SINGLE",{params:{uid:e.state.userinfo.uid},type:"items"})]).catch((function(t){}))},data:function(){return{isLoading:!1}},computed:p({},Object(r.c)({user:function(t){return t.user},userinfo:function(t){return t.userinfo}}),{uid:function(){return this.userinfo.uid},userinfoData:function(){return this.user.items[this.uid]}}),methods:{saveInfo:function(t,e){var a=this;this.isLoading||(this.isLoading=!0,this.$store.dispatch("user/FETCH_SAVE_INFO",{params:p({},t,{uid:this.uid})}).then((function(t){a.$refs.info.ruleForm.edit_avatar=0,a.$store.dispatch("user/FETCH_SINGLE",{params:{uid:a.uid},type:"items"}).then((function(t){a.isLoading=!1})).catch((function(t){a.isLoading=!1})),a.$message({type:"success",message:e||"信息更新成功"})})).catch((function(t){a.isLoading=!1,a.$message({type:"danger",message:t.message})})))}},head:function(){return{title:"基本信息 - 个人设置"}}},f=Object(l.a)(m,(function(){var t=this.$createElement,e=this._self._c||t;return e("x-setting",[e("x-user-info-module",{ref:"info",attrs:{data:this.userinfoData,isLoading:this.isLoading},on:{sava:this.saveInfo}})],1)}),[],!1,null,null,null);e.default=f.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(4),a(3),a(6);var i=a(1),r=a(2),n=a(103),s=a(15),o={props:{data:{type:Object}},data:function(){return{isVisible:!1,wechat:{appid:"wx0f8cd6cfc49cde29",redirect_uri:encodeURIComponent("".concat(s.e.host,"/user_auth?type=weixin&back_url=").concat(encodeURIComponent(this.$route.path),"&isBind=true")),scope:"snsapi_login"},qq:{appid:"101557088",redirect_uri:encodeURIComponent("".concat(s.e.host,"/user_auth?type=qq&back_url=").concat(encodeURIComponent(this.$route.path),"&isBind=true"))}}},computed:{wechatUrl:function(){return"https://open.weixin.qq.com/connect/qrconnect?appid=".concat(this.wechat.appid,"&redirect_uri=").concat(this.wechat.redirect_uri,"&response_type=code&scope=").concat(this.wechat.scope,"#wechat_redirect")},qqUrl:function(){return"https://graph.qq.com/oauth2.0/show?which=Login&display=pc&response_type=code&client_id=".concat(this.qq.appid,"&redirect_uri=").concat(this.qq.redirect_uri)}}},c=(a(1426),a(0)),l=Object(c.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bind-module"},[a("div",{staticClass:"bind-module__header"},[t._v("\n    第三方绑定\n  ")]),t._v(" "),a("div",{staticClass:"bind-module__body"},[t.data.bind_info&&t.data.bind_info.weixin&&t.data.bind_info.weixin.openid?a("div",{staticClass:"bind-module__item"},[a("span",{staticClass:"label"},[a("bbt-icon",{staticStyle:{"font-size":"22px",color:"#14954B"},attrs:{type:"wechat"}}),t._v("微信绑定")],1),t._v(" "),a("span",{staticClass:"val"},[t._v("已绑定")]),t._v(" "),a("bbt-btn",{attrs:{type:"primary",size:"lg",ghost:""},on:{click:function(e){t.isVisible=!0}}},[t._v("修改")])],1):a("div",{staticClass:"bind-module__item"},[a("span",{staticClass:"label"},[a("bbt-icon",{staticStyle:{"font-size":"22px",color:"#14954B"},attrs:{type:"wechat"}}),t._v("微信绑定")],1),t._v(" "),a("span",{staticClass:"val"},[t._v("未绑定")]),t._v(" "),a("bbt-btn",{attrs:{type:"primary",size:"lg"},on:{click:function(e){t.isVisible=!0}}},[t._v("立即绑定")])],1),t._v(" "),t.data.bind_info&&t.data.bind_info.qq&&t.data.bind_info.qq.openid?a("div",{staticClass:"bind-module__item"},[a("span",{staticClass:"label"},[a("bbt-icon",{staticStyle:{"font-size":"22px",color:"#0076FF"},attrs:{type:"qq"}}),t._v("QQ 绑定")],1),t._v(" "),a("span",{staticClass:"val"},[t._v("已绑定")]),t._v(" "),a("bbt-btn",{attrs:{type:"primary",ghost:"",size:"lg",href:t.qqUrl,rel:"nofollow noopener"}},[t._v("修改")])],1):a("div",{staticClass:"bind-module__item"},[a("span",{staticClass:"label"},[a("bbt-icon",{staticStyle:{"font-size":"22px",color:"#0076FF"},attrs:{type:"qq"}}),t._v("QQ 绑定")],1),t._v(" "),a("span",{staticClass:"val"},[t._v("未绑定")]),t._v(" "),a("bbt-btn",{attrs:{type:"primary",size:"lg",href:t.qqUrl,rel:"nofollow noopener"}},[t._v("立即绑定")])],1)]),t._v(" "),a("el-dialog",{attrs:{visible:t.isVisible,"close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":!0,width:"500px",center:""},on:{"update:visible":function(e){t.isVisible=e}}},[a("iframe",{staticStyle:{width:"100%",height:"420px"},attrs:{src:t.wechatUrl,frameborder:"0"}})])],1)}),[],!1,null,"003ee796",null).exports;function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var d={middleware:"login",components:{XSetting:n.a,XBindModule:l},data:function(){return{isLoading:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(r.c)({userinfo:function(t){return t.userinfo}})),methods:{},head:function(){return{title:"第三方绑定 - 个人设置"}}},p=Object(c.a)(d,(function(){var t=this.$createElement,e=this._self._c||t;return e("x-setting",[e("x-bind-module",{attrs:{data:this.userinfo}})],1)}),[],!1,null,null,null);e.default=p.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6);var i=a(1),r=(a(4),a(3),a(19),a(2)),n=a(103),s={components:{XHelpCoin:a(176).a},props:{data:{type:Object},userinfoData:{type:Object}}},o=(a(1425),a(0)),c=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"power-module"},[a("div",{staticClass:"power-module__header"},[t._v("\n    社区权限\n  ")]),t._v(" "),a("div",{staticClass:"power-module__body"},[t.userinfoData?a("div",{staticClass:"power-module__item"},[t.userinfoData.admin?a("span",{staticClass:"label"},[t._v("管理组")]):a("span",{staticClass:"label"},[t._v("用户组")]),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.userinfoData.grouptitle))])]):t._e(),t._v(" "),a("div",{staticClass:"power-module__item"},[a("span",{staticClass:"label"},[t._v("积分 "),a("x-help-coin",[t._v("总积分=金币")])],1),t._v(" "),a("span",{staticClass:"val"},[t._v(t._s(t.data.curr_group.credit))])]),t._v(" "),a("div",{staticClass:"power-module__table"},[a("div",{staticClass:"power-module__th"},[a("div",{staticStyle:{width:"24%"}},[t._v("权限")]),t._v(" "),a("div",{style:t.data.next_group.grouptitle?"width: 30%;":"width: 76%;"},[t._v("\n          我的用户组 - "+t._s(t.data.curr_group.grouptitle)+"\n        ")]),t._v(" "),t.data.next_group.grouptitle?a("div",{staticStyle:{width:"46%"}},[t._v("\n          晋级用户组 - "+t._s(t.data.next_group.grouptitle)+"\n        ")]):t._e()]),t._v(" "),t._l(t.data.column,(function(e,i){return a("div",{key:i,staticClass:"power-module__tr"},[a("div",{staticStyle:{width:"24%"}},[t._v(t._s(e))]),t._v(" "),a("div",{style:t.data.next_group[i]?"width: 30%;":"width: 76%;"},["credit"==i?a("span",[t._v("积分：")]):t._e(),t._v(t._s(t.data.curr_group[i])+"\n        ")]),t._v(" "),t.data.next_group[i]?a("div",{staticStyle:{width:"46%"}},["credit"==i?a("span",[t._v("您升级到此用户组还需积分 ")]):t._e(),t._v(t._s(t.data.next_group[i])+"\n        ")]):t._e()])}))],2)])])}),[],!1,null,"3b02430e",null).exports;function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var u={middleware:"login",components:{XSetting:n.a,XAuthorityModule:c},fetch:function(t){var e=t.store;t.cookie;return Promise.all([e.dispatch("user/FTECH_USER_GROUP",{id:e.state.userinfo.uid})]).catch((function(t){}))},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(r.c)({user:function(t){return t.user},userinfo:function(t){return t.userinfo}}),{uid:function(){return this.userinfo.uid},groupData:function(){return this.user.group[this.uid]}}),head:function(){return{title:"社区权限 - 个人设置"}}},d=Object(o.a)(u,(function(){var t=this.$createElement,e=this._self._c||t;return e("x-setting",[e("x-authority-module",{attrs:{data:this.groupData,userinfoData:this.userinfo}})],1)}),[],!1,null,null,null);e.default=d.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6),a(12);var i=a(1),r=(a(4),a(3),a(19),a(2)),n={props:{data:Array},data:function(){return{swiperOption:{loop:!!(this.data&&this.data.length>1),slidesPerView:"auto",centeredSlides:!0,lazy:!0,effect:"fade",autoplay:{delay:4e3},pagination:{el:".swiper-pagination"},navigation:{nextEl:"#banner-swiper-button-next",prevEl:"#banner-swiper-button-prev"}}}},computed:{isFromQkl:function(){return"V8VMS3"==this.$route.query.c}}},s=(a(1158),a(1159),a(0)),o=Object(s.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"swiper",rawName:"v-swiper:mySwiper",value:t.swiperOption,expression:"swiperOption",arg:"mySwiper"}],staticClass:"mall-banner"},[a("div",{staticClass:"swiper-wrapper"},t._l(t.data,(function(e,i){return a("div",{key:i,staticClass:"swiper-slide"},[a("a",{attrs:{href:e.outer_url+(t.isFromQkl?"?c=V8VMS3":""),target:"_blank"}},[a("img",{staticStyle:{display:"block"},attrs:{src:e.img_url,width:"100%"}})])])})),0),t._v(" "),t.data&&t.data.length>1?a("div",{staticClass:"swiper-pagination swiper-pagination-bullets"}):t._e(),t._v(" "),t.data&&t.data.length>1?a("div",{staticClass:"swiper-button-prev swiper-button-white",attrs:{id:"banner-swiper-button-prev"}}):t._e(),t._v(" "),t.data&&t.data.length>1?a("div",{staticClass:"swiper-button-next swiper-button-white",attrs:{id:"banner-swiper-button-next"}}):t._e()])}),[],!1,null,"6e4a6952",null).exports,c=a(529),l=a(62);function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var d={components:{XBanner:o,XItem:c.a,XMore:l.a},data:function(){return{isLoading:!1,page:1,count:18}},fetch:function(t){var e=t.store;t.cookie,t.res,t.error,t.redirect;return Promise.all([e.dispatch("mall/FETCH_CATEGORY"),e.dispatch("mall/FETCH_LISTS"),e.dispatch("ad/FETCH_MALL_BANNER",{params:{},type:"mall"})]).catch((function(t){}))},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(r.c)({mall:function(t){return t.mall},ad:function(t){return t.ad}}),{bannerData:function(){return this.ad.mall},listsData:function(){return this.mall.lists},totalNum:function(){return this.listsData.length&&this.listsData[this.listsData.length-1]&&this.listsData[this.listsData.length-1].item_data&&Number(this.listsData[this.listsData.length-1].item_data.total_count)||0}}),methods:{toNext:function(){var t=this;this.isLoading||(this.isLoading=!0,this.page++,this.$store.dispatch("mall/FETCH_NEXT_LIST",{params:{category_id:this.listsData[this.listsData.length-1].id,page_num:this.page,page_size:this.count,sortType:1},type:"lists"}).then((function(e){t.isLoading=!1})))}},head:function(){return{title:"链作商城 - 区块链文化新视野",titleTemplate:null,meta:[{hid:"description",name:"description",content:"链作是巴比特旗下的新锐文创品牌，「链作」解释为基于区块链文化的设计与创作。我们以全新视野向更多人传递区块链文化，并让区块链流行起来。"},{hid:"keywords",name:"keywords",content:"链作,链作商城,区块链文化,比特币文化,区块链周边,硬件钱包,比特币钱包"}]}}},p=(a(1161),Object(s.a)(d,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"bbt-container"},[t.bannerData&&t.bannerData.length?a("x-banner",{attrs:{data:t.bannerData}}):t._e(),t._v(" "),t._l(t.listsData,(function(t,e){return a("x-item",{key:e,attrs:{title:t.name,catId:""+t.id,data:t.item_data.list,id:"cat"+t.id}})})),t._v(" "),t.totalNum>t.page*t.count?a("x-more",{attrs:{isLoading:t.isLoading},on:{next:t.toNext}}):a("div",{staticClass:"bottom-line"},[t._v("更多链作商品，敬请期待～")])],2)])}),[],!1,null,"4e6f45c4",null));e.default=p.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6),a(12);var i=a(1),r=(a(4),a(3),a(19),a(2)),n=a(521),s=a(8),o={props:{data:{type:Array}},methods:{getRouteName:function(t,e){return Object(s.e)(t,e)}}},c=(a(1509),a(1510),a(0)),l=Object(c.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"margin-bottom":"24px","margin-top":"-8px"}},t._l(t.data,(function(e,i){return a("div",{key:i,staticClass:"article-item-warp"},["post"==e.video_type?a("div",{staticClass:"article-item bbt-clearfix"},[a("div",{staticClass:"article-item__thumb"},[a("a",{attrs:{href:"https://www.8btc.com/"+t.getRouteName(e.post_type,e.non_original)+"/"+e.id,target:"_blank",rel:"noopener"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.images[0]||e.images[1],error:"/images/default/news.jpg",loading:"/images/default/news.jpg"},expression:"{\n              src: item.images[0] || item.images[1],\n              error: '/images/default/news.jpg',\n              loading: '/images/default/news.jpg',\n            }"}],key:e.id||e.post_id,attrs:{src:"/images/default/news.jpg",alt:e.title}}),t._v(" "),"video"===t.getRouteName(e.post_type,e.non_original)?a("div",{staticClass:"article-item__thumb-mask"}):t._e()]),t._v(" "),e.extra&&e.extra.amount?a("span",{staticClass:"bbt-label bbt-label--top bbt-label--rose"},[t._v("\n           "+t._s(e.extra.amount)+"\n        ")]):e.country?a("span",{staticClass:"bbt-label bbt-label--top bbt-label--rose"},[t._v("\n           "+t._s(e.country)+"\n        ")]):t._e()]),t._v(" "),a("div",{staticClass:"article-item__body"},[a("h3",{staticClass:"article-item__title"},[a("a",{staticClass:"link-dark-major font-bold bbt-block",attrs:{href:"https://www.8btc.com/"+t.getRouteName(e.post_type,e.non_original)+"/"+e.id,target:"_blank",rel:"nofollow noopener"},domProps:{innerHTML:t._s(e.title)}})]),t._v(" "),a("div",{staticClass:"article-item__content",domProps:{innerHTML:t._s(e.desc)}}),t._v(" "),a("div",{staticClass:"article-item__info bbt-clearfix"},[e.author_info?a("div",{staticClass:"article-item__author"},[a("a",{attrs:{href:"https://www.8btc.com/author/"+e.author_info.id,target:"_blank",rel:"noopener"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.author_info.avatar||"/images/default/avatar.gif",error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                  src: item.author_info.avatar || '/images/default/avatar.gif',\n                  error: '/images/default/avatar.gif',\n                  loading: '/images/default/avatar.gif'\n                }"}],key:e.author_info.id,staticClass:"bbt-avatar bbt-avatar--xs",staticStyle:{"margin-right":"4px"},attrs:{src:"/images/default/avatar.gif"}})]),t._v(" "),a("a",{staticClass:"link-dark-major article-item__author-name",attrs:{href:"https://www.8btc.com/author/"+e.author_info.id,target:"_blank",rel:"noopener"}},[t._v(t._s(e.author_info.display_name))]),t._v(" "),a("span",{staticClass:"bbt-dot"}),t._v(t._s(t._f("timeAgo")(e.post_date))+"\n            "),e.tags&&e.tags.length?a("span",{staticClass:"bbt-dot"}):t._e(),t._v(" "),e.tags&&e.tags.length?a("span",t._l(e.tags.slice(0,3),(function(e,i){return a("a",{key:i,staticClass:"bbt-tag bbt-tag--flame  bbt-tag--sm",attrs:{href:"object"!==e.type?"https://www.8btc.com/tag/"+(e.slug||e.id):"https://www.8btc.com/p/"+e.slug,target:"_blank",rel:"noopener"}},[t._v(t._s(e.name))])})),0):t._e()]):t._e(),t._v(" "),e.views||e.replies?a("div",{staticClass:"article-item__data"},[a("span",[a("bbt-icon",{attrs:{type:"eye"}}),t._v(" "+t._s(e.views))],1)]):t._e()])])]):a("div",{staticClass:"article-item bbt-clearfix"},[a("div",{staticClass:"article-item__thumb"},[a("nuxt-link",{attrs:{to:{name:"post-id",params:{id:""+e.tid}},target:"_blank"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.cover_img,error:"/images/default/news.jpg",loading:"/images/default/news.jpg"},expression:"{\n              src: item.cover_img,\n              error: '/images/default/news.jpg',\n              loading: '/images/default/news.jpg',\n            }"}],key:e.tid,attrs:{src:"/images/default/news.jpg",alt:e.title}}),t._v(" "),a("div",{staticClass:"article-item__thumb-mask"})])],1),t._v(" "),a("div",{staticClass:"article-item__body"},[a("h3",{staticClass:"article-item__title"},[a("nuxt-link",{staticClass:"link-dark-major font-bold bbt-block",attrs:{to:{name:"post-id",params:{id:""+e.tid}},target:"_blank"},domProps:{innerHTML:t._s(e.title)}})],1),t._v(" "),a("div",{staticClass:"article-item__content"},[t._v("\n          "+t._s(e.content)+"\n        ")]),t._v(" "),a("div",{staticClass:"article-item__info bbt-clearfix"},[e.author_info?a("div",{staticClass:"article-item__author"},[a("a",{attrs:{href:"https://www.8btc.com/author/"+e.author_info.id,target:"_blank",rel:"noopener"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.author_info.avatar||"/images/default/avatar.gif",error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                  src: item.author_info.avatar || '/images/default/avatar.gif',\n                  error: '/images/default/avatar.gif',\n                  loading: '/images/default/avatar.gif'\n                }"}],key:e.author_info.id,staticClass:"bbt-avatar bbt-avatar--xs",staticStyle:{"margin-right":"4px"},attrs:{src:"/images/default/avatar.gif"}})]),t._v(" "),a("nuxt-link",{staticClass:"link-dark-major article-item__author-name",attrs:{to:"/user/"+e.author_info.id,target:"_blank"}},[t._v(t._s(e.author_info.name))]),t._v(" "),a("span",{staticClass:"bbt-dot"}),t._v(t._s(t._f("timeAgo")(e.post_date))+"\n          ")],1):t._e(),t._v(" "),e.views||e.replies?a("div",{staticClass:"article-item__data"},[a("span",[a("bbt-icon",{attrs:{type:"eye"}}),t._v(" "+t._s(e.views))],1)]):t._e()])])])])})),0)}),[],!1,null,"24e0890a",null).exports,u=a(62);function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var p={components:{XLibraryListModule:n.a,XStudyListModule:l,XMore:u.a},fetch:function(t){var e=t.store,a=(t.cookie,t.res,t.error,t.redirect,t.route.params.id);return Promise.all([e.dispatch("topic/FETCH_VIDEO_SINGLE",{params:{chainnode_topic_id:a,page_size:5,page:1}}),e.dispatch("topic/FETCH_LIBRARY_SINGLE",{params:{chainnode_topic_id:a,page_size:5,page:1}})]).catch((function(t){}))},data:function(){return{isLoading:!1,pageSize:5,currentVideoPage:1,currentLibraryPage:1,isVideoLoading:!1,isLibraryLoading:!1}},watch:{$route:function(){this.isLoading=!1,this.currentVideoPage=1,this.currentLibraryPage=1,this.isVideoLoading=!1,this.isLibraryLoading=!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(r.c)({videoItems:function(t){return t.topic.videoItems},libraryItems:function(t){return t.topic.libraryItems}}),{id:function(){return this.$route.params.id},videoData:function(){return this.videoItems[this.id]},totalVideoNum:function(){return Number(this.videoItems[this.id].total)||0},libraryData:function(){return this.libraryItems[this.id]},totalLibraryNum:function(){return Number(this.libraryItems[this.id].total)||0}}),methods:{toVideoNext:function(){var t=this;this.isVideoLoading||(this.isVideoLoading=!0,this.currentVideoPage++,this.$store.dispatch("topic/FETCH_VIDEO_NEXT",{params:{chainnode_topic_id:this.id,page_size:this.pageSize,page:this.currentVideoPage}}).then((function(){t.isVideoLoading=!1})))},toLibraryNext:function(){var t=this;this.isLibraryLoading||(this.isLibraryLoading=!0,this.currentLibraryPage++,this.$store.dispatch("topic/FETCH_LIBRARY_NEXT",{params:{chainnode_topic_id:this.id,page_size:this.pageSize,page:this.currentLibraryPage}}).then((function(){t.isLibraryLoading=!1})))}}},m=(a(1511),Object(c.a)(p,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.videoData.list&&t.videoData.list.length?a("div",{staticClass:"study-item"},[a("h3",[a("bbt-icon",{attrs:{type:"video"}}),t._v(" 视频")],1),t._v(" "),a("x-study-list-module",{attrs:{data:t.videoData.list}}),t._v(" "),t.totalVideoNum>t.currentVideoPage*t.pageSize?a("x-more",{attrs:{isLoading:t.isVideoLoading},on:{next:t.toVideoNext}}):t._e()],1):t._e(),t._v(" "),t.libraryData.list&&t.libraryData.list.length?a("div",{staticClass:"study-item"},[a("h3",[a("bbt-icon",{attrs:{type:"library"}}),t._v(" 文库")],1),t._v(" "),a("x-library-list-module",{attrs:{data:t.libraryData.list}}),t._v(" "),t.totalLibraryNum>t.currentLibraryPage*t.pageSize?a("x-more",{attrs:{isLoading:t.isLibraryLoading},on:{next:t.toLibraryNext}}):t._e()],1):t._e()])}),[],!1,null,"5a68da1b",null));e.default=m.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(4),a(3),a(6);var i=a(1),r=(a(31),a(39),a(22)),n=a.n(r),s=a(90),o=(a(25),a(12),a(782),{props:{data:{type:Object},params:{type:Object}},data:function(){var t=this;return{taxPrice:this.data&&this.data.reward&&this.data.reward.price?Math.ceil((Number.parseFloat(this.params.creditstax)+1)*Number.parseInt(this.data.reward.price)):0,ruleForm:{title:this.data&&this.data.title||null,num:this.data&&this.data.reward&&this.data.reward.price||0},rules:{title:[{required:!0,message:"请输入提问标题",trigger:["blur","change"]},{min:1,max:35,message:"提问标题长度在 1 到 35 个字符",trigger:["blur","change"]}],num:[{required:!0,message:"请输入悬赏数量",trigger:["blur","change"]},{validator:function(e,a,i){return a?(t.taxPrice=Math.ceil((Number.parseFloat(t.params.creditstax)+1)*Number.parseInt(a)),Number.parseInt(a)<t.params.minrewardprice?i(new Error("悬赏数量不能低于".concat(t.params.minrewardprice,"金币"))):Math.ceil((Number.parseFloat(t.params.creditstax)+1)*Number.parseInt(a))>t.params.totalmoney?i(new Error("税后金币不能高于总金币")):t.params.maxrewardprice&&Number.parseInt(a)>t.params.maxrewardprice?i(new Error("悬赏数量不能高于".concat(t.params.maxrewardprice,"金币"))):void i()):i(new Error("请输入悬赏数量"))},trigger:["blur","change"]}]}}},methods:{validatorForm:function(){var t=this;return new Promise((function(e,a){t.$refs.ruleForm.validate((function(t,i){t?e(t):a(i)}))}))}}}),c=(a(1411),a(0)),l=Object(c.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    问答信息\n  ")]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[a("el-form",{ref:"ruleForm",staticClass:"bbt-clearfix",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"104px"}},[a("el-form-item",{attrs:{label:"提问标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请在此填写提问标题",maxlength:"35","show-word-limit":""},model:{value:t.ruleForm.title,callback:function(e){t.$set(t.ruleForm,"title",e)},expression:"ruleForm.title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"悬赏数量",prop:"num"}},[a("el-input",{staticStyle:{width:"90px"},attrs:{type:"number",disabled:!(!t.data.reward||!t.data.reward.status),placeholder:"悬赏数量"},model:{value:t.ruleForm.num,callback:function(e){t.$set(t.ruleForm,"num",e)},expression:"ruleForm.num"}}),t._v("\n        金币，税后需支付 "),a("span",[t._v(t._s(t.taxPrice))]),t._v(" 金币\n        "+t._s(t.params.maxrewardprice?"（悬赏数量在"+t.params.minrewardprice+"-"+t.params.maxrewardprice+"金币之间":"（悬赏数量不能低于 "+t.params.minrewardprice+" 金币")+"，您当前有 "),a("span",[t._v(t._s(t.params.totalmoney))]),t._v(" 金币）\n      ")],1)],1)],1)])}),[],!1,null,"98ea31ba",null).exports,u=a(526);function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var m={middleware:"login",mixins:[s.a],components:{XWendaInfo:l,XPostSet:u.a},data:function(){return{isShowRush:!1,currentPostType:"3"}},methods:{showSet:function(t,e){4==t&&(this.isShowRush=e)},submitPost:function(t){var e=this,a={};this.$refs.wendaset.ruleForm.set.includes(2)&&(a={hiddenreplies:1}),this.$refs.wendainfo.validatorForm().then((function(){return e.$refs.editor.validatorText()})).then((function(i){var r=p({},e.$refs.editor.getContent(),{uid:e.uid,special:"3",fid:"42",rewardprice:e.$refs.wendainfo.ruleForm.num,subject:n()(e.$refs.wendainfo.ruleForm.title)},a);t&&e.tid&&(r=p({},r,{action:t,tid:e.tid,submit:"1",price:e.postData.price})),e.postData&&e.postData.reward&&e.postData.reward.status&&(r=p({},r,{rewardprice:e.postData.price})),e.submit(r)})).catch((function(t){for(var a in t)return void e.$message({message:t[a][0].message,type:"danger"})}))}},head:function(){return{title:this.postData.title?"编辑".concat(this.postData.title):"发布问答"}}},f=(a(1412),Object(c.a)(m,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-main bbt-main--gray bbt-main--margin"},[a("div",{staticClass:"bbt-container"},["edit"!=t.action?a("x-tab",{attrs:{size:"lg",menu:t.menuData,currentId:t.currentId,currentIndex:t.currentIndex},on:{switch:t.switchTab}}):t._e(),t._v(" "),a("div",{staticClass:"release-wrap"},[a("bbt-loading",{style:t.isSwitchLoading?"min-height: 1000px;":"",attrs:{loading:t.isSwitchLoading}},[a("x-wenda-info",{ref:"wendainfo",attrs:{data:t.postData,params:t.userParams}}),t._v(" "),a("x-editor-module",{ref:"editor",attrs:{minLen:15,maxLen:t.userParams.maxpostsize||-1,data:t.postData,transfromContent:t.transfromContent,placeholder:t.placeholder,action:t.action,uploadType:"post",draft:!0,title:"问题描述"},on:{switch:t.switchEditor}}),t._v(" "),a("x-post-set",{ref:"wendaset",attrs:{data:t.postData,params:t.userParams,type:t.currentPostType},on:{show:t.showSet}}),t._v(" "),a("div",{staticClass:"btn-box"},["edit"===t.action||t.isLoading?"edit"!==t.action&&t.isLoading?a("bbt-btn",{attrs:{type:"primary",size:"lg",disalbed:""}},[a("bbt-icon",{attrs:{type:"report"}}),t._v("发布中...")],1):t._e():a("bbt-btn",{attrs:{type:"primary",size:"lg"},on:{click:t.submitPost}},[a("bbt-icon",{attrs:{type:"report"}}),t._v("发布悬赏")],1),t._v(" "),"edit"!==t.action||t.isLoading?"edit"===t.action&&t.isLoading?a("bbt-btn",{attrs:{type:"primary",size:"lg",disalbed:""}},[a("bbt-icon",{attrs:{type:"report"}}),t._v("保存中...")],1):t._e():a("bbt-btn",{attrs:{type:"primary",size:"lg"},on:{click:function(e){return t.submitPost("edit")}}},[a("bbt-icon",{attrs:{type:"report"}}),t._v("保存修改")],1)],1)],1)],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"第三方图片提交",visible:t.isShowDialog,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":!0,width:"500px"},on:{"update:visible":function(e){t.isShowDialog=e}}},[t._v("\n    "+t._s(t.totalCount)+"张图片正在提交中...\n  ")])],1)}),[],!1,null,"e2c3ab34",null));e.default=f.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(4),a(3),a(6);var i=a(1),r=a(22),n=a.n(r),s=a(90),o={props:{data:{type:Object}},data:function(){return{objectOptions:[],isLoading:!1,typeOptions:["漏洞预警","威胁情报","攻击事件","数据泄漏"],levelOptions:["高危","中危","低危"],ruleForm:{title:this.data.title||null,subject:this.data.safe_info&&"".concat(this.data.safe_info.label_cn?"".concat(this.data.safe_info.label_cn,"/"):"").concat(this.data.safe_info.label_name?"".concat(this.data.safe_info.label_name,"/"):"").concat(this.data.safe_info.safeobject)||"",subject_id:this.data.safe_info&&this.data.safe_info.safeobject_id||"",type:this.data.safe_info&&this.data.safe_info.safetype||null,level:this.data.safe_info&&this.data.safe_info.safelevel||null,referer:this.data.safe_info&&this.data.safe_info.safesource||null,cve:this.data.safe_info&&this.data.safe_info.cve_no||null},rules:{title:[{required:!0,message:"请输入情报标题",trigger:["blur","change"]},{min:1,max:35,message:"情报标题长度在 1 到 35 个字符",trigger:["blur","change"]}],subject:[{required:!0,message:"请输入所属项目",trigger:["blur","change"]}],type:[{required:!0,message:"请选择情报类型",trigger:"change"}],level:[{required:!0,message:"请选择严重等级",trigger:"change"}],referer:[{required:!1,message:"请输入来源引用",trigger:["blur","change"]},{validator:function(t,e,a){/^((ht|f)tps?):\/\/([\w\-]+(\.[\w\-]+)*\/)*[\w\-]+(\.[\w\-]+)*\/?(\?([\w\-\.,@?^=%&:\/~\+#]*)+)?/.test(e)||!e?a():a(new Error("请输入正确的URL"))},trigger:["blur","change"]}],cve:[{required:!1,message:"请输入CVE编号",trigger:["blur","change"]},{validator:function(t,e,a){e?/^CVE-[0-9]{4}-[0-9]{4,}$/.test(e)?a():a(new Error("请输入正确格式的CVE编号")):a()},trigger:["blur","change"]}]}}},methods:{validatorForm:function(){var t=this;return new Promise((function(e,a){t.$refs.ruleForm.validate((function(t,i){t?e(t):a(i)}))}))},remoteMethod:function(t){var e=this;t&&!this.isLoading&&(this.isLoading=!0,this.$store.dispatch("release/FETCH_OBJECT",{params:{keyword:t}}).then((function(t){e.isLoading=!1,e.objectOptions=t})).catch((function(){e.isLoading=!1,e.objectOptions=[]})))},changeObject:function(t){this.ruleForm.subject_id=t}}},c=(a(1397),a(0)),l=Object(c.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    情报信息\n  ")]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[a("el-form",{ref:"ruleForm",staticClass:"bbt-clearfix",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"104px"}},[a("el-form-item",{attrs:{label:"情报标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请在此填写标题",maxlength:"35","show-word-limit":""},model:{value:t.ruleForm.title,callback:function(e){t.$set(t.ruleForm,"title",e)},expression:"ruleForm.title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"所属项目",prop:"subject"}},[a("el-select",{staticClass:"object-select",staticStyle:{width:"100%"},attrs:{"popper-append-to-body":!1,filterable:"",remote:"","remote-method":t.remoteMethod,placeholder:"请输入所属项目"},on:{change:t.changeObject},model:{value:t.ruleForm.subject,callback:function(e){t.$set(t.ruleForm,"subject",e)},expression:"ruleForm.subject"}},t._l(t.objectOptions,(function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,(function(t){return a("el-option",{key:t.value,attrs:{label:(t.label_cn?t.label_cn+"/":"")+(t.label_name?t.label_name+"/":"")+t.label,value:t.value}})})),1)})),1)],1),t._v(" "),a("bbt-row",[a("bbt-col",{attrs:{span:{xs:12}}},[a("el-form-item",{attrs:{label:"情报类型",prop:"type"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择情报类型"},model:{value:t.ruleForm.type,callback:function(e){t.$set(t.ruleForm,"type",e)},expression:"ruleForm.type"}},t._l(t.typeOptions,(function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})})),1)],1)],1),t._v(" "),a("bbt-col",{attrs:{span:{xs:12}}},[a("el-form-item",{attrs:{label:"严重等级",prop:"level"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择严重等级"},model:{value:t.ruleForm.level,callback:function(e){t.$set(t.ruleForm,"level",e)},expression:"ruleForm.level"}},t._l(t.levelOptions,(function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})})),1)],1)],1)],1),t._v(" "),a("bbt-row",[a("bbt-col",{attrs:{span:{xs:12}}},[a("el-form-item",{attrs:{label:"来源引用",prop:"referer"}},[a("el-input",{attrs:{placeholder:"请在此填写来源引用"},model:{value:t.ruleForm.referer,callback:function(e){t.$set(t.ruleForm,"referer",e)},expression:"ruleForm.referer"}})],1)],1),t._v(" "),a("bbt-col",{attrs:{span:{xs:12}}},[a("el-form-item",{attrs:{label:"CVE编号",prop:"cve",for:"cve"}},[a("el-input",{attrs:{placeholder:"请在此填写CVE编号，例如CVE-1234-5678"},model:{value:t.ruleForm.cve,callback:function(e){t.$set(t.ruleForm,"cve",e)},expression:"ruleForm.cve"}})],1)],1)],1)],1)],1)])}),[],!1,null,"45c1f148",null).exports;function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function d(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var p={middleware:"login",mixins:[s.a],components:{XFlawInfo:l},methods:{submitPost:function(t){var e=this;this.$refs.flawinfo.validatorForm().then((function(){return e.$refs.editor.validatorText()})).then((function(a){var i=d({},e.$refs.editor.getContent(),{special:"0",fid:328,subject:n()(e.$refs.flawinfo.ruleForm.title),uid:e.uid,safetype:e.$refs.flawinfo.ruleForm.type,safelevel:e.$refs.flawinfo.ruleForm.level,safesource:e.$refs.flawinfo.ruleForm.referer,cve_no:e.$refs.flawinfo.ruleForm.cve});i=t&&e.tid?d({},i,{action:t,tid:e.tid,submit:"1",safeobject:e.$refs.flawinfo.ruleForm.subject_id}):d({},i,{safeobject:e.$refs.flawinfo.ruleForm.subject}),e.submit(i)})).catch((function(t){for(var a in t)return void e.$message({message:t[a][0].message,type:"danger"})}))}},head:function(){return{title:this.postData.title?"编辑".concat(this.postData.title):"提交情报"}}},m=(a(1398),Object(c.a)(p,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-main bbt-main--gray bbt-main--margin"},[a("div",{staticClass:"bbt-container"},[a("div",{staticClass:"release-wrap"},[a("bbt-loading",{style:t.isSwitchLoading?"min-height: 1000px;":"",attrs:{loading:t.isSwitchLoading}},[a("x-flaw-info",{ref:"flawinfo",attrs:{data:t.postData}}),t._v(" "),a("x-editor-module",{ref:"editor",attrs:{minLen:15,maxLen:t.userParams.maxpostsize||-1,data:t.postData,transfromContent:t.transfromContent,placeholder:t.placeholder,action:t.action,uploadType:"post",draft:!0,title:"情报详情"},on:{switch:t.switchEditor}}),t._v(" "),a("div",{staticClass:"btn-box"},["edit"===t.action||t.isLoading?"edit"!==t.action&&t.isLoading?a("bbt-btn",{attrs:{type:"primary",size:"lg",disalbed:""}},[a("bbt-icon",{attrs:{type:"report"}}),t._v("提交中...")],1):t._e():a("bbt-btn",{attrs:{type:"primary",size:"lg"},on:{click:t.submitPost}},[a("bbt-icon",{attrs:{type:"report"}}),t._v("提交情报")],1),t._v(" "),"edit"!==t.action||t.isLoading?"edit"===t.action&&t.isLoading?a("bbt-btn",{attrs:{type:"primary",size:"lg",disalbed:""}},[a("bbt-icon",{attrs:{type:"report"}}),t._v("保存中...")],1):t._e():a("bbt-btn",{attrs:{type:"primary",size:"lg"},on:{click:function(e){return t.submitPost("edit")}}},[a("bbt-icon",{attrs:{type:"report"}}),t._v("保存修改")],1)],1)],1)],1)]),t._v(" "),a("el-dialog",{attrs:{title:"第三方图片提交",visible:t.isShowDialog,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":!0,width:"500px"},on:{"update:visible":function(e){t.isShowDialog=e}}},[t._v("\n    "+t._s(t.totalCount)+"张图片正在提交中...\n  ")])],1)}),[],!1,null,"15f8e4a2",null));e.default=m.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(4),a(3),a(6),a(23);var i=a(1),r=a(8),n=a(22),s=a.n(n),o=a(2),c=a(90),l={props:{data:{type:Object},type:{type:String}},data:function(){return{ruleForm:{title:("comment"==this.type?"【投诉评论】":"post"==this.type&&this.data&&this.data.title&&"【投诉帖子】".concat(this.data.title))||null},rules:{title:[{required:!0,message:"请输入帖子标题",trigger:["blur","change"]},{min:1,max:50,message:"帖子标题长度在 1 到 50 个字符",trigger:["blur","change"]}]}}},methods:{validatorForm:function(){var t=this;return new Promise((function(e,a){t.$refs.ruleForm.validate((function(t,i){t?e(t):a(i)}))}))}}},u=(a(1384),a(0)),d=Object(u.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n    帖子信息\n    "),a("div",{staticClass:"bbt-module__more"},[a("nuxt-link",{staticClass:"link-dark-minor",attrs:{to:{name:"forum-rules",query:{id:"274"}},target:"_blank"}},[t._v("本版积分规则")]),t._v(" "),a("nuxt-link",{staticClass:"link-dark-minor",attrs:{to:{name:"post-id",params:{id:"15508"}},target:"_blank"}},[t._v("发帖须知")])],1)]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[a("el-form",{ref:"ruleForm",staticClass:"bbt-clearfix",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"104px"}},[a("el-form-item",{attrs:{label:"帖子标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请在此填写标题",maxlength:"50","show-word-limit":""},model:{value:t.ruleForm.title,callback:function(e){t.$set(t.ruleForm,"title",e)},expression:"ruleForm.title"}})],1)],1)],1)])}),[],!1,null,"024f7ed9",null).exports;function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var f={middleware:"login",mixins:[c.a],components:{XComplaintInfo:d},computed:m({},Object(o.c)({release:function(t){return t.release}}),{complaintType:function(){return this.$route.query&&this.$route.query.type},pid:function(){return this.$route.query&&this.$route.query.pid},page:function(){return this.$route.query&&this.$route.query.page||1},commentData:function(){return this.release.comment[this.pid]||{}},complaintplaceholder:function(){return"post"==this.complaintType&&this.postData.id?"<p>论坛账号：".concat(this.postData.author_info.name||this.postData.author_info.display_name,"</p><p>事件发生时间：").concat(Object(r.m)(this.postData.post_date),'</p><p>帖子地址：<a href="https://www.chainnode.com/').concat(this.type_to_route(this.postData.type,this.postData.category&&this.postData.category.id),"/").concat(this.postData.id,'" target="_blank">https://www.chainnode.com/').concat(this.type_to_route(this.postData.type,this.postData.category&&this.postData.category.id),"/").concat(this.postData.id,"</a></p><p>投诉理由：</p>"):"comment"==this.complaintType&&this.commentData.tid?"<p>论坛账号：".concat(this.commentData.author_info.username||this.commentData.author_info.display_name,"</p><p>事件发生时间：").concat(Object(r.m)(this.commentData.dateline),'</p><p>帖子地址：<a href="https://www.chainnode.com/').concat(this.type_to_route(this.commentData.special,this.commentData.fid),"/").concat(this.commentData.tid,"-").concat(this.page,"#pid").concat(this.commentData.pid,'" target="_blank">https://www.chainnode.com/').concat(this.type_to_route(this.commentData.special,this.commentData.fid),"/").concat(this.commentData.tid,"</a></p><p>投诉理由：</p>"):void 0}}),mounted:function(){},methods:{submitPost:function(t){var e=this;this.$refs.postinfo.validatorForm().then((function(){return e.$refs.editor.validatorText()})).then((function(){var t=m({},e.$refs.editor.getContent(),{special:"0",fid:274,subject:s()(e.$refs.postinfo.ruleForm.title),uid:e.uid});e.submit(t)})).catch((function(t){for(var a in t)return void e.$message({message:t[a][0].message,type:"danger"})}))},type_to_route:function(t,e){return"0"==t||"1"==t||"5"==t?"post":"3"==t?"question":"4"==t?"121"==e?"ama":"event":"post"}},head:function(){return{title:"投诉"}}},h=(a(1385),Object(u.a)(f,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-main bbt-main--gray bbt-main--margin"},[a("div",{staticClass:"bbt-container"},[a("div",{staticClass:"release-wrap"},[a("bbt-loading",{style:t.isSwitchLoading?"min-height: 1000px;":"",attrs:{loading:t.isSwitchLoading}},[t.postData&&t.postData.id?a("x-complaint-info",{ref:"postinfo",attrs:{data:t.postData,type:t.complaintType}}):t.commentData.tid?a("x-complaint-info",{ref:"postinfo",attrs:{data:t.commentData,type:t.complaintType}}):a("x-complaint-info",{ref:"postinfo"}),t._v(" "),a("x-editor-module",{ref:"editor",attrs:{minLen:15,maxLen:t.userParams.maxpostsize||-1,placeholder:t.complaintplaceholder,uploadType:"post",draft:!1,title:"投诉详情"}}),t._v(" "),a("div",{staticClass:"btn-box"},["edit"===t.action||t.isLoading?"edit"!==t.action&&t.isLoading?a("bbt-btn",{attrs:{type:"primary",size:"lg",disalbed:""}},[a("bbt-icon",{attrs:{type:"report"}}),t._v("提交中...")],1):t._e():a("bbt-btn",{attrs:{type:"primary",size:"lg"},on:{click:t.submitPost}},[a("bbt-icon",{attrs:{type:"report"}}),t._v("立即投诉")],1)],1)],1)],1)]),t._v(" "),a("el-dialog",{attrs:{title:"第三方图片提交",visible:t.isShowDialog,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":!0,width:"500px"},on:{"update:visible":function(e){t.isShowDialog=e}}},[t._v("\n    "+t._s(t.totalCount)+"张图片正在提交中...\n  ")])],1)}),[],!1,null,"0892d21b",null));e.default=h.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6);var i=a(1),r=(a(12),a(4),a(3),a(19),a(2)),n=a(27),s=a(8),o={props:{data:{type:Array}},methods:{filterHtml:function(t,e){return Object(s.d)(t,e)}}},c=(a(1505),a(1506),a(0)),l=Object(c.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"weibo-module"},t._l(t.data,(function(e,i){return a("div",{key:i,staticClass:"weibo-item"},[a("div",{staticClass:"list-info"},[a("div",{staticClass:"nick-logo"},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:e.logo,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n            src: item.logo,\n            error: '/images/default/avatar.gif',\n            loading: '/images/default/avatar.gif',\n          }",arg:"background-image"}],key:i,staticClass:"nick-logo__avatar",style:{"backgroun-image":"url('/images/default/avatar.gif')"}})]),t._v(" "),a("div",{staticClass:"nick-name"},[a("p",[t._v(t._s(e.nickname))]),t._v(" "),a("p",[a("span",[t._v(t._s(t._f("timeAgo")(e.post_time)))]),a("span",{staticClass:"bbt-dot"}),a("span",[t._v("来自 "+t._s(e.from))])])])]),t._v(" "),a("div",{staticClass:"list-content"},[a("p",{domProps:{innerHTML:t._s(t.filterHtml(e.content,e.source_link))}})])])})),0)}),[],!1,null,"e5abbb98",null).exports;function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var d={components:{XEmpty:n.a,XWeiboListModule:l},fetch:function(t){var e=t.store,a=(t.cookie,t.res,t.error,t.redirect,t.route),i=a.params.id,r=a.query.page;return Promise.all([e.dispatch("topic/FETCH_VIEWPIONT_SINGLE",{params:{chainnode_topic_id:i,page:Number(r)||1}})]).catch((function(t){}))},data:function(){return{isLoading:!1,pageSize:20}},watch:{$route:function(){this.isLoading=!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(r.c)({viewpointItems:function(t){return t.topic.viewpointItems}}),{currentPage:function(){return Number(this.$route.query.page)||1},id:function(){return this.$route.params.id},viewpointData:function(){return this.viewpointItems[this.id].topic_about},totalNum:function(){return Number(this.viewpointItems[this.id].topic_about.total)||0}}),methods:{changePage:function(t){this.isLoading||t==this.currentPage||(this.isLoading=!0,document.getElementById("topic-main").scrollIntoView(),this.$router.push({path:"/hot/".concat(this.id,"/opinion"),query:{page:t}}))}}},p=Object(c.a)(d,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("bbt-loading",{style:t.isLoading?"min-height: 1000px;":"",attrs:{loading:t.isLoading}},[t.viewpointData.list&&t.viewpointData.list.length?a("x-weibo-list-module",{attrs:{data:t.viewpointData.list}}):a("x-empty",[t._v("暂无数据")]),t._v(" "),t.totalNum>t.pageSize?a("el-pagination",{staticStyle:{margin:"24px 0"},attrs:{layout:"prev, pager, next, jumper","current-page":Number.parseInt(t.currentPage),"page-size":t.pageSize,total:Number.parseInt(t.totalNum)},on:{"current-change":t.changePage}}):t._e()],1)}),[],!1,null,null,null);e.default=p.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6);var i=a(1),r=(a(4),a(3),a(19),a(2)),n=a(125),s={props:["banners","height"],data:function(){var t=this;return{isShow:!1,swiperOption:{loop:!0,autoplay:{delay:5e3,stopOnLastSlide:!1,disableOnInteraction:!0},effect:"coverflow",centeredSlides:!0,slidesPerView:2,coverflowEffect:{rotate:0,stretch:155,depth:280,modifier:1,slideShadows:!0},pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:"#banner-swiper-button-next",prevEl:"#banner-swiper-button-prev"},on:{init:function(){t.isShow=!0}}}}},computed:{swiper:function(){return this.$refs.swiper.swiper}},methods:{pause:function(){this.swiper.autoplay&&this.swiper.autoplay.stop()},start:function(){this.swiper.autoplay&&this.swiper.autoplay.start()}}},o=(a(1311),a(1312),a(0));function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var l={components:{XBanner:Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{position:"relative"}},[a("div",{directives:[{name:"swiper",rawName:"v-swiper:mySwiper",value:t.swiperOption,expression:"swiperOption",arg:"mySwiper"}],ref:"swiper",staticStyle:{overflow:"hidden","margin-bottom":"46px",position:"relative"},style:{opacity:t.isShow?"1":"0"},on:{mouseover:t.pause,mouseout:t.start}},[a("div",{staticClass:"swiper-wrapper video-banner"},t._l(t.banners,(function(e,i){return a("div",{key:i,staticClass:"swiper-slide"},[/[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+\.?/.test(e.url)?a("a",{attrs:{href:e.url,target:"_blank"}},[a("div",{staticClass:"video-banner__thumb"},[a("img",{attrs:{src:e.image,height:"346px",alt:e.title}})]),t._v(" "),e.title?a("div",{staticClass:"video-banner__title"},[t._v("\n            "+t._s(e.title)+"\n          ")]):t._e()]):a("nuxt-link",{attrs:{target:"_blank",to:{name:"videos",params:e.url?{id:e.url}:{id:"1"}}}},[a("div",{staticClass:"video-banner__thumb"},[a("img",{attrs:{src:e.image,height:"346px",alt:e.title}})]),t._v(" "),e.title?a("div",{staticClass:"video-banner__title"},[t._v("\n            "+t._s(e.title)+"\n          ")]):t._e()])],1)})),0),t._v(" "),a("div",{staticClass:"swiper-pagination video-banner__pagination"}),t._v(" "),a("div",{staticClass:"swiper-button-prev swiper-button-white",attrs:{slot:"button-prev",id:"banner-swiper-button-prev"},slot:"button-prev"}),t._v(" "),a("div",{staticClass:"swiper-button-next swiper-button-white",attrs:{slot:"button-next",id:"banner-swiper-button-next"},slot:"button-next"})]),t._v(" "),a("bbt-loading",{staticClass:"loading",attrs:{loading:!t.isShow}})],1)}),[],!1,null,"bc351434",null).exports,XVideoListModule:n.a},fetch:function(t){var e=t.store;t.cookie;return Promise.all([e.dispatch("video/FETCH_CAROUSEL",{}),e.dispatch("video/FETCH_LIST",{params:{num:10,cat_id:4530},type:"chainge"}),e.dispatch("video/FETCH_LIST",{params:{num:10,cat_id:4624},type:"btcwen"}),e.dispatch("video/FETCH_LIST",{params:{num:10,cat_id:4627},type:"live"}),e.dispatch("video/FETCH_LIST",{params:{num:10,cat_id:1526},type:"review"}),e.dispatch("video/FETCH_LIST",{params:{num:10,cat_id:4937},type:"miao"}),e.dispatch("video/FETCH_LIST",{params:{num:10,cat_id:7471},type:"market"})]).catch((function(t){}))},data:function(){return{bannerCount:4,count:12}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(r.c)({video:function(t){return t.video}}),{bannerData:function(){return this.video.carousel},chaingeData:function(){return this.video.chainge.list},wenData:function(){return this.video.btcwen.list},miaoData:function(){return this.video.miao.list},liveData:function(){return this.video.live.list},reviewData:function(){return this.video.review.list},marketData:function(){return this.video.market.list}}),head:function(){return{title:"区块链视频",link:[{hid:"canonical",rel:"canonical",href:"https://www.8btc.com/video"}],meta:[{hid:"description",name:"description",content:"比特币视频,巴比特视频致力于普及数字货币知识，为广大比特币推广者提供知识分享平台。以比特币公开课、教学视频、人物访谈、新闻节目、MV、微电影等多种形式，生动直观的介绍比特币相关知识与文化。我们与可汗学院、Udemy课程、Knewcoin、通天译等国内外知名教育资源、字幕组建立了长期合作关系，如果您有意为传播比特币理念贡献自己的力量，欢迎加入我们！"}]}}},u=(a(1313),Object(o.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-main bbt-main--margin"},[a("div",{staticClass:"bbt-container"},[a("x-banner",{attrs:{banners:t.bannerData}}),t._v(" "),a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"video-wrap"},[a("div",{staticClass:"video-title"},[t._m(0),t._v(" "),a("div",{staticClass:"bbt-module__more"},[a("nuxt-link",{staticClass:"link-dark-minor",attrs:{to:{name:"videos-id",params:{id:"4937"}},target:"_blank"}},[t._v("\n              更多"),a("bbt-icon",{attrs:{type:"right"}})],1)],1)]),t._v(" "),a("x-video-list-module",{attrs:{data:t.miaoData,count:t.count}})],1),t._v(" "),a("div",{staticClass:"video-wrap"},[a("div",{staticClass:"video-title"},[t._m(1),t._v(" "),a("div",{staticClass:"bbt-module__more"},[a("nuxt-link",{staticClass:"link-dark-minor",attrs:{to:{name:"videos-id",params:{id:"4627"}},target:"_blank"}},[t._v("\n              更多"),a("bbt-icon",{attrs:{type:"right"}})],1)],1)]),t._v(" "),a("x-video-list-module",{attrs:{data:t.liveData,count:t.count}})],1),t._v(" "),a("div",{staticClass:"video-wrap"},[a("div",{staticClass:"video-title"},[t._m(2),t._v(" "),a("div",{staticClass:"bbt-module__more"},[a("nuxt-link",{staticClass:"link-dark-minor",attrs:{to:{name:"videos-id",params:{id:"7471"}},target:"_blank"}},[t._v("\n              更多"),a("bbt-icon",{attrs:{type:"right"}})],1)],1)]),t._v(" "),a("x-video-list-module",{attrs:{data:t.marketData,count:t.count}})],1),t._v(" "),a("div",{staticClass:"video-wrap"},[a("div",{staticClass:"video-title"},[t._m(3),t._v(" "),a("div",{staticClass:"bbt-module__more"},[a("nuxt-link",{staticClass:"link-dark-minor",attrs:{to:{name:"videos-id",params:{id:"4530"}},target:"_blank"}},[t._v("\n              更多"),a("bbt-icon",{attrs:{type:"right"}})],1)],1)]),t._v(" "),a("x-video-list-module",{attrs:{data:t.chaingeData,count:t.count}})],1),t._v(" "),a("div",{staticClass:"video-wrap"},[a("div",{staticClass:"video-title"},[t._m(4),t._v(" "),a("div",{staticClass:"bbt-module__more"},[a("nuxt-link",{staticClass:"link-dark-minor",attrs:{to:{name:"videos-id",params:{id:"4624"}},target:"_blank"}},[t._v("\n              更多"),a("bbt-icon",{attrs:{type:"right"}})],1)],1)]),t._v(" "),a("x-video-list-module",{attrs:{data:t.wenData,count:t.count}})],1),t._v(" "),a("div",{staticClass:"video-wrap"},[a("div",{staticClass:"video-title"},[t._m(5),t._v(" "),a("div",{staticClass:"bbt-module__more"},[a("nuxt-link",{staticClass:"link-dark-minor",attrs:{to:{name:"videos-id",params:{id:"1526"}},target:"_blank"}},[t._v("\n              更多"),a("bbt-icon",{attrs:{type:"right"}})],1)],1)]),t._v(" "),a("x-video-list-module",{attrs:{data:t.reviewData,count:t.count}})],1)])],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{staticClass:"typo-h4"},[this._v("\n            喵懂区块链"),e("span",[this._v("你与区块链，只差一只“喵”的距离")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{staticClass:"typo-h4"},[this._v("\n            ChainNode 直播间"),e("span",[this._v("币圈话题引爆器")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{staticClass:"typo-h4"},[this._v("\n            今晚很关键"),e("span",[this._v("圈内首档视频行情分析类栏目")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{staticClass:"typo-h4"},[this._v("\n            Chainge 技术沙龙"),e("span",[this._v("专注于区块链领域行业交流")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{staticClass:"typo-h4"},[this._v("\n            8 问"),e("span",[this._v("穿心 8 问，听见区块链的声音")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{staticClass:"typo-h4"},[this._v("硬件测评"),e("span",[this._v("数字货币硬件评测最前线")])])}],!1,null,"600e2680",null));e.default=u.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6);var i=a(1),r=(a(12),a(4),a(3),a(19),a(2)),n=a(27),s=a(8),o={props:{data:{type:Array}},methods:{getRouteName:function(t,e){return Object(s.e)(t,e)}}},c=(a(1503),a(1504),a(0)),l=Object(c.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"margin-bottom":"24px","margin-top":"-8px"}},t._l(t.data,(function(e,i){return a("div",{key:i,staticClass:"article-item-warp"},[a("div",{staticClass:"article-item bbt-clearfix"},[a("div",{staticClass:"article-item__thumb"},[a("a",{attrs:{href:"https://www.8btc.com/"+t.getRouteName(e.post_type,e.non_original)+"/"+e.id,target:"_blank"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.images[0]||e.images[1],error:"/images/default/news.jpg",loading:"/images/default/news.jpg"},expression:"{\n              src: item.images[0] || item.images[1],\n              error: '/images/default/news.jpg',\n              loading: '/images/default/news.jpg',\n            }"}],key:e.id||e.post_id,attrs:{src:"/images/default/news.jpg",alt:e.title}}),t._v(" "),"video"===t.getRouteName(e.post_type,e.non_original)?a("div",{staticClass:"article-item__thumb-mask"}):t._e()]),t._v(" "),e.extra&&e.extra.amount?a("span",{staticClass:"bbt-label bbt-label--top bbt-label--rose"},[t._v("\n          "+t._s(e.extra.amount)+"\n        ")]):e.country?a("span",{staticClass:"bbt-label bbt-label--top bbt-label--rose"},[t._v("\n          "+t._s(e.country)+"\n        ")]):t._e()]),t._v(" "),a("div",{staticClass:"article-item__body"},[a("h3",{staticClass:"article-item__title"},[a("a",{staticClass:"link-dark-major font-bold bbt-block",attrs:{href:"https://www.8btc.com/"+t.getRouteName(e.post_type,e.non_original)+"/"+e.id,target:"_blank"},domProps:{innerHTML:t._s(e.title)}})]),t._v(" "),a("div",{staticClass:"article-item__content",domProps:{innerHTML:t._s(e.desc)}}),t._v(" "),a("div",{staticClass:"article-item__info bbt-clearfix"},[e.author_info?a("div",{staticClass:"article-item__author"},[a("a",{attrs:{href:"https://www.8btc.com/author/"+e.author_info.id,target:"_blank"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.author_info.avatar||"/images/default/avatar.gif",error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n                  src:\n                    item.author_info.avatar || '/images/default/avatar.gif',\n                  error: '/images/default/avatar.gif',\n                  loading: '/images/default/avatar.gif',\n                }"}],key:e.author_info.id,staticClass:"bbt-avatar bbt-avatar--xs",staticStyle:{"margin-right":"4px"},attrs:{src:"/images/default/avatar.gif"}})]),t._v(" "),a("a",{staticClass:"link-dark-major article-item__author-name",attrs:{href:"https://www.8btc.com/author/"+e.author_info.id,target:"_blank"}},[t._v(t._s(e.author_info.display_name))]),t._v(" "),a("span",{staticClass:"bbt-dot"}),t._v(t._s(t._f("timeAgo")(e.post_date))+"\n            "),e.tags&&e.tags.length?a("span",{staticClass:"bbt-dot"}):t._e(),t._v(" "),e.tags&&e.tags.length?a("span",t._l(e.tags.slice(0,3),(function(e,i){return a("a",{key:i,staticClass:"bbt-tag bbt-tag--flame  bbt-tag--sm",attrs:{href:"object"!==e.type?"https://www.8btc.com/tag/"+(e.slug||e.id):"https://www.8btc.com/p/"+e.slug,target:"_blank"}},[t._v(t._s(e.name))])})),0):t._e()]):t._e(),t._v(" "),e.views||e.replies?a("div",{staticClass:"article-item__data"},[a("span",[a("bbt-icon",{attrs:{type:"eye"}}),t._v(" "+t._s(e.views))],1)]):t._e()])])])])})),0)}),[],!1,null,"5148d457",null).exports;function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var d={components:{XEmpty:n.a,XArticleListModule:l},fetch:function(t){var e=t.store,a=(t.cookie,t.res,t.error,t.redirect,t.route),i=a.params.id,r=a.query.page;return Promise.all([e.dispatch("topic/FETCH_ARTICLE_SINGLE",{params:{chainnode_topic_id:i,page:Number(r)||1}})]).catch((function(t){}))},data:function(){return{isLoading:!1,pageSize:20}},watch:{$route:function(){this.isLoading=!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(r.c)({articleItems:function(t){return t.topic.articleItems}}),{currentPage:function(){return Number(this.$route.query.page)||1},id:function(){return this.$route.params.id},articleData:function(){return this.articleItems[this.id]},totalNum:function(){return Number(this.articleItems[this.id].total)||0}}),methods:{changePage:function(t){this.isLoading||t==this.currentPage||(this.isLoading=!0,document.getElementById("topic-main").scrollIntoView(),this.$router.push({path:"/hot/".concat(this.id,"/news"),query:{page:t}}))}}},p=Object(c.a)(d,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("bbt-loading",{style:t.isLoading?"min-height: 1000px;":"",attrs:{loading:t.isLoading}},[t.articleData.list&&t.articleData.list.length?a("x-article-list-module",{attrs:{data:t.articleData.list}}):a("x-empty",[t._v("暂无数据")]),t._v(" "),t.totalNum>t.pageSize?a("el-pagination",{staticStyle:{margin:"24px 0"},attrs:{layout:"prev, pager, next, jumper","current-page":Number.parseInt(t.currentPage),"page-size":t.pageSize,total:Number.parseInt(t.totalNum)},on:{"current-change":t.changePage}}):t._e()],1)}),[],!1,null,null,null);e.default=p.exports},function(t,e,a){"use strict";a.r(e);a(33),a(94),a(95),a(3);var i=a(173),r=a(46),n=a.n(r),s=a(14),o={layout:"login",components:{XLogin:i.a},data:function(){return{formData:{username:"",password:""},back_url:this.$route.query.back_url,back_name:this.$route.query.back_name,redirect_url:this.$route.query.redirect_url,isLoading:!1,rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{onSubmit:function(){var t=this;this.$refs.form.validate((function(e){e&&(t.isLoading=!0,t.$store.dispatch("FETCH_LOGIN_ACCOUNT",{params:{username:t.formData.username,password:n.a.MD5(t.formData.password).toString(),source:"web",product_code:"chainnode",device_id:Object(s.k)(20,20)}}).then((function(e){t.isLoading=!1,t.back_name?t.$router.replace({name:t.back_name}):t.back_url?t.$router.replace({path:t.back_url}):t.redirect_url?location.replace(t.redirect_url):t.$router.replace({name:"index"})}),(function(e){t.isLoading=!1,t.$message({type:"danger",message:e&&e.message||"服务器内部错误"})})))}))}}},c=a(0),l=Object(c.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-main bbt-main--gray"},[a("x-login",[a("el-form",{ref:"form",staticClass:"login-form",attrs:{"label-position":"top",model:t.formData,rules:t.rules}},[a("el-form-item",{attrs:{label:"账号",prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入账号"},model:{value:t.formData.username,callback:function(e){t.$set(t.formData,"username",e)},expression:"formData.username"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{"show-password":"",placeholder:"请输入密码",type:"password"},model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1),t._v(" "),a("el-form-item",[a("div",{staticClass:"login-form__remark"},[a("nuxt-link",{staticClass:"link-primary",attrs:{to:{name:"login-captcha",query:{back_url:t.back_url,back_name:t.back_name,redirect_url:t.redirect_url}}}},[t._v("手机快捷登录")]),t._v(" "),a("span",[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"reset-password",query:{back_url:t.back_url,back_name:t.back_name,redirect_url:t.redirect_url}}}},[t._v("忘记密码？")])],1)],1)]),t._v(" "),a("el-form-item",[t.isLoading?a("bbt-btn",{attrs:{type:"assist",block:"",disabled:""}},[t._v("登录中")]):a("bbt-btn",{attrs:{type:"assist",block:""},on:{click:t.onSubmit}},[t._v("登录")])],1),t._v(" "),a("p",{staticStyle:{"text-align":"center"}},[t._v("\n        还没有账号？"),a("nuxt-link",{staticClass:"link-primary",attrs:{to:{name:"register",query:{back_url:t.back_url,back_name:t.back_name,redirect_url:t.redirect_url}}}},[t._v("立即注册")])],1)],1)],1)],1)}),[],!1,null,null,null);e.default=l.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6);var i=a(1),r=(a(4),a(3),a(19),a(2));function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var s={middleware:"login",validate:function(t){var e=t.params;return/^[1-9]+[0-9]*]*$/.test(e.id)},fetch:function(t){var e=t.store,a=(t.cookie,t.res,t.error),i=(t.redirect,t.route.params.id);return Promise.all([e.dispatch("order/FETCH_ORDER_SINGLE",{params:{order_sn:i},id:i})]).catch((function(t){return t&&404===t.code?a({statusCode:404}):a({statusCode:500})}))},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(r.c)({order:function(t){return t.order},userinfo:function(t){return t.userinfo}}),{uid:function(){return this.userinfo.uid},ordersn:function(){return this.$route.params.id},orderData:function(){return this.order.items[this.ordersn].order_info},orderField:function(){return this.order.items[this.ordersn].user_field.filter((function(t){return"realname"==t.key||"mobile"==t.key}))}}),data:function(){return{isLoading:!1}},methods:{toAlipay:function(){var t=this;this.isLoading||(this.isLoading=!0,this.$store.dispatch("order/FETCH_ALIPAY_URL",{params:{order_sn:this.ordersn,uid:this.uid}}).then((function(e){location.href=e.url,t.isLoading=!1})).catch((function(e){t.$message({message:e.message,type:"danger"}),t.isLoading=!1})))}},head:function(){return{title:"订单支付"}}},o=(a(1437),a(0)),c=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-main bbt-main--margin bbt-main--gray"},[a("div",{staticClass:"bbt-container"},[a("h2",[t._v("请核对订单信息")]),t._v(" "),a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n        联系方式（用于接受电子票）\n      ")]),t._v(" "),a("div",{staticClass:"bbt-module__body"},t._l(t.orderField,(function(e,i){return a("p",{key:i},[a("span",[t._v(t._s(e.name)+"：")]),t._v(t._s(e.val)+"\n        ")])})),0)]),t._v(" "),a("div",{staticClass:"bbt-module"},[a("div",{staticClass:"bbt-module__header"},[t._v("\n        交易信息\n      ")]),t._v(" "),a("div",{staticClass:"bbt-module__body"},[a("div",{staticClass:"activity-table"},[t._m(0),t._v(" "),a("div",{staticClass:"activity-table__td bbt-clearfix"},[a("div",[a("div",{staticClass:"activity-info bbt-clearfix"},[a("div",{staticClass:"activity-thumb"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:t.orderData.activity_thumbimg,error:"/images/default/news.jpg",loading:"/images/default/news.jpg"},expression:"{\n                      src: orderData.activity_thumbimg,\n                      error: '/images/default/news.jpg',\n                      loading: '/images/default/news.jpg',\n                    }"}],attrs:{src:"/images/default/news.jpg"}})]),t._v(" "),a("div",{staticClass:"activity-title"},[a("h5",[t._v(t._s(t.orderData.subject))]),t._v(" "),a("p",[t._v("\n                    时间："+t._s(t._f("timeGMT")(t.orderData.starttimefrom))+"至"+t._s(t._f("timeGMT")(t.orderData.starttimeto))+"\n                  ")]),t._v(" "),a("p",[t._v("地址："+t._s(t.orderData.place))])])])]),t._v(" "),a("div",[t._v(t._s(t.orderData.name))]),t._v(" "),a("div",[t._v("¥"+t._s(t.orderData.cost)+"元")]),t._v(" "),a("div",[t._v(t._s(t.orderData.count))]),t._v(" "),a("div",[t._v("¥"+t._s(t.orderData.total_cost)+"元")]),t._v(" "),t.orderData.is_pay?a("div",[t._v("已付款")]):a("div",[t._v("未付款")])])]),t._v(" "),a("div",{staticClass:"activity-sum"},[a("p",[t._v("温馨提示：请尽快完成付款，系统会自动取消15分钟内尚未付款票券!")]),t._v(" "),a("p",[t._v("\n            应付金额："),a("span",[t._v("¥"+t._s(t.orderData.total_cost)+"元")])])]),t._v(" "),a("div",{staticClass:"ticket-desc"},[t._m(1),t._v(" "),a("dl",[a("dt",[t._v("退款说明")]),t._v(" "),t.orderData.refund_status?a("dd",[t._v("\n              1、本活动由主办方委托【链节点】代为处理退款事宜"),a("br"),t._v("2、如需退款，请请于活动开始前的24小时之前提交申请，活动开始前的24小时内不接受退款"),a("br"),t._v("3、退款时，将收取票价的10%作为手续费\n            ")]):a("dd",[t._v("\n              由于本活动各项资源需提前采购，一经售出不接受退款，请确认后购买。\n            ")])])])])]),t._v(" "),t._m(2),t._v(" "),t.orderData.is_pay||t.isLoading?!t.orderData.is_pay&&t.isLoading?a("bbt-btn",{staticStyle:{float:"right"},attrs:{type:"primary",size:"lg",disabled:""}},[t._v("支付中...")]):a("bbt-btn",{staticStyle:{float:"right"},attrs:{type:"default",size:"lg",disabled:""}},[t._v("立即支付")]):a("bbt-btn",{staticStyle:{float:"right"},attrs:{type:"primary",size:"lg"},on:{click:t.toAlipay}},[t._v("立即支付")])],1)])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"activity-table__th bbt-clearfix"},[a("div",[t._v("活动名称")]),t._v(" "),a("div",[t._v("票种")]),t._v(" "),a("div",[t._v("票价")]),t._v(" "),a("div",[t._v("数量")]),t._v(" "),a("div",[t._v("小计")]),t._v(" "),a("div",[t._v("状态")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("dl",[e("dt",[this._v("付款说明")]),this._v(" "),e("dd",[this._v("\n              1.付款完成后您将收到【链节点】的电子票短信，参加活动时请出示短信二维码\n            ")]),this._v(" "),e("dd",[this._v("\n              2.如果您需要支付电子票的发票，您可以联系链节点客服QQ 3570172588\n              / 微信 leipengbtc\n            ")]),this._v(" "),e("dd",[this._v("\n              3.付款完成后如果没有收到电子票短信，您可以联系链节点客服QQ\n              3570172588 / 微信 leipengbtc\n            ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bbt-module"},[e("div",{staticClass:"bbt-module__header"},[this._v("\n        支付方式\n      ")]),this._v(" "),e("div",{staticClass:"bbt-module__body"},[e("img",{attrs:{src:"/images/common/alipay.png",height:"36",alt:""}})])])}],!1,null,"1fbf8034",null);e.default=c.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6);var i=a(20),r=(a(33),a(206),a(12),a(25),a(54),a(31),a(39),a(23),a(1)),n=(a(4),a(3),a(19),a(2)),s=a(517),o=a(524),c=a(8),l=a(14);function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var d={components:{XCrumbs:o.a,QrcodeVue:s.a},validate:function(t){var e=t.params;return/^[1-9]+[0-9]*]*$/.test(e.id)},fetch:function(t){var e=t.store,a=(t.cookie,t.res,t.error),i=(t.redirect,t.route),r=i.params,n=r.id,s=(r.page,i.query);s.sort,s.authorid,s.checkrush;return Promise.all([e.state.token&&e.state.userinfo.uid?e.dispatch("mall/FETCH_DEFAULT_ADDRESS",{}):"",e.dispatch("mall/FETCH_CATEGORY"),e.dispatch("mall/FETCH_SINGLE",{params:{item_id:n},id:n}),e.dispatch("mall/FETCH_LIST",{params:{category_id:6},type:"catList"})]).catch((function(t){return t&&404===t.code?a({statusCode:404}):a({statusCode:500})}))},data:function(){return{swiperOption:{loop:!1,slidesPerView:"auto",centeredSlides:!0,lazy:!0,autoplay:{delay:4e3},pagination:{el:".swiper-pagination"}},skuId:"",maxPrice:0,minPrice:0,skuImage:"",skuName:"skuId",skuNames:["skuId","price","stock","image"],keys:[],list:{},spliter:",",result:{},unselectKeys:{},selectText:"",unSelectText:"",number:1}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){Object(r.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(n.c)({mall:function(t){return t.mall}}),{itemId:function(){return this.$route.params.id},itemData:function(){return this.mall.items[this.$route.params.id]},skuListData:function(){var t=[];return this.itemData.sku_list.forEach((function(e){var a={};e.spec_list.forEach((function(t){a[t.name]=t.property})),a.skuId=e.sku_id,a.stock=e.sale_stock_num,a.price=e.price,a.image=e.image,t.push(a)})),t},selectCategory:function(){var t=this;return this.mall.category.filter((function(e){return e.id==t.$route.query.cat_id}))[0]},hotData:function(){var t=this;return this.mall.catList.list.filter((function(e){return e.item_id!=t.itemId}))},qrcodeUrl:function(){return this.unSelectText&&this.unSelectText.length?"https://m.chainnode.com/mall/item/".concat(this.itemId).concat(this.isFromQkl?"?c=V8VMS3":""):this.mall.defaultAddrId?"https://m.chainnode.com/mall/checkout?type=buy&aid=".concat(this.mall.defaultAddrId,"&order=").concat(Object(l.d)(JSON.stringify([{item_id:this.itemId,sku_id:this.skuId,num:this.number}]),"WTAHAPPYACTIVITY")).concat(this.isFromQkl?"&c=V8VMS3":""):"https://m.chainnode.com/mall/checkout?type=buy&order=".concat(Object(l.d)(JSON.stringify([{item_id:this.itemId,sku_id:this.skuId,num:this.number}]),"WTAHAPPYACTIVITY")).concat(this.isFromQkl?"&c=V8VMS3":"")},isFromQkl:function(){return"V8VMS3"==this.$route.query.c}}),created:function(){this.initData()},methods:{initData:function(){this.result={},this.keys=this.getAllKeys();for(var t=0;t<this.keys.length;t++)this.unselectKeys[this.keys[t]]=!0;this.list=this.combineAttr(this.skuListData,this.keys),this.buildResult(this.list.items),this.updateStatus(this.getSelectedItem()),this.showResult(),this.minPrice=this.itemData.price},combineAttr:function(t,e){for(var a=[],i={},r=0;r<t.length;r++){for(var n=t[r],s=[],o=0;o<e.length;o++){var c=e[o];i[c]||(i[c]={}),i[c][n[c]]||(i[c][n[c]]={name:n[c],active:!1,disabled:!1}),s.push(n[c])}a.push({path:s.join(this.spliter),sku:n.skuId,stock:n.stock,price:n.price,image:n.image})}return{result:i,items:a}},getAllKeys:function(){var t=[];for(var e in this.skuListData[0])this.skuListData[0].hasOwnProperty(e)&&(this.skuNames.includes(e)||t.push(e));return t},getAttruites:function(t){for(var e=[],a=0;a<t.length;a++)e.push(t[a].path);return e},buildResult:function(t){for(var e=this.getAttruites(t),a=0;a<e.length;a++)for(var i=e[a],r=t[a].sku,n=t[a].stock,s=t[a].price,o=t[a].image,c=i.split(this.spliter),l=this.powerset(c),u=0;u<l.length;u++){var d=l[u].join(this.spliter);this.result[d]?(this.result[d].skus.push(r),this.result[d].stocks.push(n),this.result[d].images.push(o),this.result[d].prices.push(s)):this.result[d]={skus:[r],stocks:[n],prices:[s],images:[o]}}},getSelectedItem:function(){var t=[];for(var e in this.list.result){var a="";for(var i in this.list.result[e])!0===this.list.result[e][i].active&&(a=i);t.push(a)}return t},updateStatus:function(t){for(var e=0;e<this.keys.length;e++){var a=this.keys[e],i=this.list.result[a],r=(t[e],t.slice());for(var n in i){var s=i[n].name;if(t[e]!=s){r[e]=s;var o=this.trimSpliter(r.join(this.spliter),this.spliter);this.list.result[a][n].disabled=!this.result[o]||!this.hasStock(this.result[o])}}}},hasStock:function(t){return t.stocks.length>1?!!Number.parseInt(t.stocks.join("")):t.stocks[0]&&t.stocks[0]>0},trimSpliter:function(t,e){var a=new RegExp("^"+e+"+","g"),i=new RegExp(e+"+$","g"),r=new RegExp(e+"+","g");return t.replace(a,"").replace(i,"").replace(r,e)},powerset:function(t){for(var e=[[]],a=0;a<t.length;a++)for(var i=0,r=e.length;i<r;i++)e.push(e[i].concat(t[a]));return e},handleActive:function(t,e){this.handleNormalClick(t,e),this.updateStatus(this.getSelectedItem()),this.unabledAttributes(),this.showResult()},handleNormalClick:function(t,e){if(!e.disabled)for(var a in this.list.result[t])a!=e.name?this.list.result[t][a].active=!1:this.list.result[t][a].active=!this.list.result[t][a].active},showResult:function(){var t=this.getSelectedItem(),e=this.result[this.trimSpliter(t.join(this.spliter),this.spliter)];this.maxPrice=Math.max.apply(Math,Object(i.a)(e.prices)),this.minPrice=Math.min.apply(Math,Object(i.a)(e.prices)),this.skuImage=e.images[0];var a=[],r=[];this.unSelectText="",this.selectText="";for(var n=0;n<t.length;n++){var s=t[n];s&&a.push(s)}if(a.length==this.keys.length){var o=this.result[a.join(this.spliter)];o&&(this.skuId=o.skus[0]),this.unSelectText="",this.selectText="已选择".concat(a.join("、"))}else{for(var c in this.skuId="",this.unselectKeys)this.unselectKeys[c]&&r.push(c);r.length&&r.length==this.keys.length?(this.selectText="",this.unSelectText="请选择".concat(r.join("、"),"  ")):this.unSelectText="请选择".concat(r.join("、"),"  "),a.length&&(this.selectText+="已选择".concat(a.join("、")))}},unabledAttributes:function(){for(var t in this.list.result)for(var e in this.unselectKeys[t]=!0,this.list.result[t])if(this.list.result[t][e].active){this.unselectKeys[t]=!1;break}},setImgLazyoad:function(t){return Object(c.l)(t)}},head:function(){return{title:"".concat(this.itemData.item_name," - 链作商城"),meta:[{hid:"description",name:"description",content:this.itemData.content}]}}},p=(a(1435),a(1436),a(0)),m=Object(p.a)(d,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main",staticStyle:{"margin-top":"24px"}},[a("div",{staticClass:"bbt-container"},[a("x-crumbs",{attrs:{data:[{name:"链作商城"},t.selectCategory,{name:t.itemData.item_name}]}}),t._v(" "),a("div",{staticClass:"product-item"},[a("bbt-row",[a("bbt-col",{attrs:{span:{xs:10}}},[a("div",{staticClass:"product-item__thumb"},[a("div",{directives:[{name:"swiper",rawName:"v-swiper:mySwiper",value:t.swiperOption,expression:"swiperOption",arg:"mySwiper"}]},[a("div",{staticClass:"swiper-wrapper"},t._l(t.itemData.image_list,(function(t,e){return a("div",{key:e,staticClass:"swiper-slide"},[a("img",{staticClass:"swiper-lazy",staticStyle:{display:"block"},attrs:{"data-src":t.url,src:"/images/default/item_lg.png",width:"100%",height:"100%"}})])})),0),t._v(" "),t.itemData.image_list.length>1?a("div",{staticClass:"swiper-pagination swiper-pagination-bullets"}):t._e()]),t._v(" "),t.skuId&&t.skuImage?a("div",{staticClass:"product-item__thumb--select"},[a("img",{attrs:{src:t.skuImage}})]):t._e()])]),t._v(" "),a("bbt-col",{attrs:{span:{xs:13},offset:1}},[a("div",{staticClass:"product-item__info"},[a("h4",[t._v(t._s(t.itemData.item_name))]),t._v(" "),a("p",[t._v(t._s(t.itemData.description))]),t._v(" "),a("div",{staticClass:"product-item__config"},[a("p",[a("em",[t._v("价格")]),a("span",{staticClass:"color-primary handle_price"},[t._v("¥"+t._s(t._f("handlePrice")(t.minPrice/100)))]),t.itemData.show_price?a("span",{staticClass:"color-primary handle_price"},[t._v("¥"+t._s(t._f("handlePrice")(t.itemData.show_price/100)))]):t._e()]),t._v(" "),t.itemData.back_gold_coin?a("p",[a("em",[t._v("金币")]),a("span",[t._v("确认收货赠送"+t._s(t.itemData.back_gold_coin)+"金币")])]):t._e(),t._v(" "),a("p",[a("em",[t._v("服务")]),t.itemData.gold_coin_limit&&t.itemData.gold_coin_limit>0?a("span",[a("input",{staticClass:"checkbox-ipt",attrs:{type:"checkbox",disabled:"",checked:""}}),t._v("\n                  最高可用"+t._s(t.itemData.gold_coin_limit)+"金币抵扣")]):t._e(),a("span",[a("input",{staticClass:"checkbox-ipt",attrs:{type:"checkbox",disabled:"",checked:""}}),t._v("\n                  满99包邮")])]),t._v(" "),t._l(t.list.result,(function(e,i){return a("p",{key:i},[a("em",{staticStyle:{padding:"5px 0"}},[t._v(t._s(i||"规格"))]),t._v(" "),a("span",t._l(e,(function(e,r){return a("bbt-btn",{key:r,class:{active:e.active},attrs:{type:"default",disabled:!e.active&&e.disabled},on:{click:function(a){return t.handleActive(i,e)}}},[t._v(t._s(e.name))])})),1)])}))],2),t._v(" "),a("div",{staticClass:"procuct-button"},[a("bbt-btn",{attrs:{type:"teal",size:"lg"}},[t._v("立即购买")]),t._v(" "),a("div",{staticClass:"qrcode-pop"},[a("qrcode-vue",{attrs:{value:t.qrcodeUrl,size:136}}),t._v(" "),a("div",{staticClass:"qrcode-logo"},[a("img",{attrs:{src:"/images/common/favicon.png",alt:""}})]),t._v(" "),a("p",[t._v("打开手机扫码购买")])],1)],1)])])],1)],1),t._v(" "),a("bbt-row",[a("bbt-col",{attrs:{span:{xs:17}}},[a("div",{staticClass:"product-module"},[a("div",{staticClass:"product-module__title"},[t._v("商品详情")]),t._v(" "),a("div",{staticClass:"product-module__body"},[a("div",{directives:[{name:"viewer",rawName:"v-viewer"},{name:"lazy-container",rawName:"v-lazy-container",value:{selector:"img"},expression:"{ selector: 'img' }"}],staticClass:"bbt-editor-text bbt-html",domProps:{innerHTML:t._s(t.setImgLazyoad(t.itemData.content))}})])])]),t._v(" "),a("bbt-col",{attrs:{span:{xs:7}}},[t.hotData.length?a("div",{staticClass:"product-module"},[a("div",{staticClass:"product-module__title"},[t._v("热销推荐")]),t._v(" "),a("div",{staticClass:"product-module__body"},t._l(t.hotData,(function(e,i){return a("div",{key:i,staticClass:"product-module__item"},[a("nuxt-link",{attrs:{to:{name:"mall-item-id",params:{id:""+e.item_id},query:t.isFromQkl?{cat_id:"6",c:"V8VMS3"}:{cat_id:"6"}},target:"_blank"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.image_list[0].url,error:"/images/default/item_sm.png",loading:"/images/default/item_sm.png"},expression:"{\n                    src: item.image_list[0].url,\n                    error: '/images/default/item_sm.png',\n                    loading: '/images/default/item_sm.png',\n                  }"}],attrs:{src:"/images/default/item_sm.png"}}),t._v(" "),a("h5",[t._v(t._s(e.item_name))]),t._v(" "),a("p",{staticClass:"product-module__price"},[a("span",{staticClass:"color-primary handle_price"},[t._v("¥"+t._s(t._f("handlePrice")(e.price/100)))]),t._v(" "),e.show_price?a("span",{staticClass:"color-primary handle_price"},[t._v("¥"+t._s(t._f("handlePrice")(e.show_price/100)))]):t._e()])])],1)})),0)]):t._e()])],1)],1)])}),[],!1,null,"ec567c86",null);e.default=m.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6),a(23),a(12);var i=a(1),r=(a(4),a(3),a(19),a(2)),n=a(77),s=a(169),o=a(168),c=a(78),l=a(62),u=a(27);function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var p={mixins:[a(183).a],components:{XPostListModule:n.a,XRecommendBlock:s.a,XHotPostList:o.a,XHotPostComment:c.a,XMore:l.a,XEmpty:u.a},data:function(){return{isLoading:!1,type:"tagPost",page_num:{tagPost:1},maxCount:20,count:20}},fetch:function(t){var e=t.store,a=(t.cookie,t.res,t.error,t.redirect,t.route.params.id);return Promise.all([e.dispatch("tag/FETCH_SINGLE_TAG",{params:{tag_id:a}}),e.dispatch("post/FETCH_LIST",{params:{tag_id:a,num:20},type:"tagPost"}),e.dispatch("block/FETCH_RECOMMEND_LIST",{params:{},type:"recommend"})]).catch((function(t){}))},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(r.c)({block:function(t){return t.block},post:function(t){return t.post},comment:function(t){return t.comment},tag:function(t){return t.tag}}),{id:function(){return this.$route.params.id},tagData:function(){return this.tag.items[this.id]},postData:function(){return this.post.tagPost},totalNum:function(){return Number(this.post[this.type].total)||0},recommendData:function(){return this.block.recommend.list||[]},hotPostData:function(){return this.post.hotPost.list||[]},hotComment:function(){return this.comment.hotComment.list||[]}}),methods:{toNext:function(){var t=this;this.isLoading||(this.page_num[this.type]=(this.page_num[this.type]||1)+1,this.isLoading=!0,this.$store.dispatch("post/FETCH_NEXT_PAGE",{params:{num:this.count,page:this.page_num[this.type],tag_id:this.id},type:this.type}).then((function(e){e.list&&(t.maxCount=t.maxCount+t.count),t.isLoading=!1})))}},head:function(){return{title:this.tagData.name?"".concat(this.tagData.name," - 标签"):"标签",meta:[{hid:"description",name:"description",content:this.tagData.desc||"标签"}]}}},m=(a(1553),a(0)),f=Object(m.a)(p,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main bbt-main--margin bbt-main"},[a("div",{staticClass:"bbt-container"},[t.tagData.name?a("div",{staticClass:"tag-bar"},[a("div",{staticClass:"tag-bar__title"},[t._v("\n        标签："),a("span",[t._v(t._s(t.tagData.name))])]),t._v(" "),t.tagData.desc?a("div",{staticClass:"tag-bar__desc"},[t._v("\n        "+t._s(t.tagData.desc)+"\n      ")]):t._e()]):t._e(),t._v(" "),a("div",{staticClass:"bbt-row"},[a("bbt-col",{attrs:{span:{xs:16}}},[t.postData.list&&t.postData.list.length?a("div",{staticClass:"tagposts-module"},[a("x-post-list-module",{staticStyle:{"margin-bottom":"24px"},attrs:{data:t.postData.list,count:t.maxCount}}),t._v(" "),t.totalNum>t.page_num[t.type]*t.count?a("x-more",{attrs:{isLoading:t.isLoading},on:{next:t.toNext}}):t._e()],1):a("x-empty",[t._v("暂无数据")])],1),t._v(" "),a("bbt-col",{attrs:{span:{xs:7},offset:1}},[a("x-recommend-block",{attrs:{data:t.recommendData,needLazy:!1}}),t._v(" "),t.marketData&&t.prevMarketData&&t.isOpenMarket?a("x-market-module",{attrs:{type:t.market_type,data:t.marketData,prevData:t.prevMarketData},on:{switch:t.switchMarket}}):t._e(),t._v(" "),a("x-hot-post-comment",{attrs:{data:t.hotComment,needLazy:!0}}),t._v(" "),a("x-hot-post-list",{attrs:{data:t.hotPostData,needLazy:!0}})],1)],1)])])}),[],!1,null,"3ae2b16c",null);e.default=f.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6);var i=a(1),r=(a(4),a(3),a(19),a(12),a(2)),n=a(15);function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var o={watchQuery:["page"],fetch:function(t){var e=t.store,a=(t.res,t.error,t.redirect),i=t.route.query.page;return Number(i)>1e3?a(301,{path:"/sitemap"}):Promise.all([e.dispatch("post/FETCH_LIST",{type:"sitemap",params:{num:20,order:"dateline",page:Number(i)||1}})]).catch((function(t){}))},data:function(){return{pageSize:20}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(r.c)({sitemap:function(t){return t.post.sitemap}}),{currentPage:function(){return Number(this.$route.query.page)||1},data:function(){return this.sitemap.list},totalNum:function(){return Number(this.sitemap.total)||0}}),methods:{changePage:function(t){this.$router.push({name:"sitemap",query:{page:t}})}},head:function(){return{title:"每日比特币行情讨论",link:[{hid:"canonical",rel:"canonical",href:"".concat(n.e.host,"/sitemap")}]}}},c=(a(1307),a(0)),l=Object(c.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-main"},[a("div",{staticClass:"bbt-container"},[a("bbt-row",[a("bbt-col",{attrs:{span:{xs:"16"},offset:{xs:"4"}}},[a("ul",{staticClass:"bbt-list"},t._l(t.data,(function(e,i){return a("li",{key:i},[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"post-id",params:{id:""+e.tid}},target:"_blank"}},[t._v("\n              "+t._s(e.title)+"\n              "),a("span",{staticStyle:{color:"rgba(0, 0, 0, .56)","font-size":"12px",float:"right"}},[t._v("\n                "+t._s(t._f("timeGMT")(e.post_date))+"\n              ")])])],1)})),0),t._v(" "),t.totalNum>t.pageSize?a("el-pagination",{staticStyle:{"margin-top":"24px"},attrs:{layout:"prev, pager, next","current-page":t.currentPage,"page-size":t.pageSize,total:t.totalNum>1e3*t.pageSize?1e3*t.pageSize:t.totalNum},on:{"current-change":t.changePage}}):t._e()],1)],1)],1)])}),[],!1,null,"6a503f70",null);e.default=l.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6),a(12);var i=a(1),r=(a(4),a(3),a(19),a(22)),n=a.n(r),s=a(2),o=a(42),c=a(27),l=a(62);function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var d={middleware:"login",components:{XEmpty:c.a,XTab:o.a,XMore:l.a},data:function(){return{currentId:0,pageSize:10,page:1,isLoading:!1}},fetch:function(t){var e=t.store;t.cookie;return Promise.all([e.dispatch("notice/FETCH_LIST",{params:{},type:"lists"})]).catch((function(t){}))},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(s.c)({notice:function(t){return t.notice},menu:function(t){return t.menu}}),{menuData:function(){return this.menu.notice},noticeData:function(){return this.notice.lists},totalNum:function(){return Number(this.notice.lists.total)||0},currentIndex:function(){var t=this,e=0;return this.menuData.map((function(a,i){a.id===t.currentId&&(e=i)})),e}}),methods:{switchTab:function(t){this.currentId=t.id},read:function(t,e){var a=this;this.$store.dispatch("notice/FETCH_READ",{params:{id:t}}).then((function(t){a.$store.commit("notice/SET_CLEAR_NEW_NOTICE",{index:e})})).catch((function(){}))},toNext:function(){var t=this;if(!this.isLoading){this.isLoading=!0;var e=this.page+1;e<=Math.ceil(this.totalNum/this.pageSize)&&this.$store.dispatch("notice/FETCH_NEXT_PAGE",{params:{page:e},type:"lists"}).then((function(e){t.isLoading=!1,t.page++})).catch((function(){t.isLoading=!1}))}},readAll:function(){var t=this;this.$store.dispatch("notice/FETCH_READ",{}).then((function(e){t.$store.dispatch("notice/FETCH_LIST",{params:{},type:"lists"})})).catch((function(){}))},xss:function(t){return n()(t,{whiteList:[],stripIgnoreTag:!0})}},head:function(){return{title:"通知中心"}}},p=(a(1423),a(0)),m=Object(p.a)(d,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-main bbt-main--margin"},[a("div",{staticClass:"bbt-container"},[a("div",{staticClass:"notice-module"},[a("x-tab",{attrs:{size:"lg",menu:t.menuData,currentId:t.currentId,currentIndex:t.currentIndex},on:{switch:t.switchTab}}),t._v(" "),t.noticeData.list&&t.noticeData.list.length?a("div",[a("bbt-btn",{attrs:{type:"primary"},on:{click:t.readAll}},[a("bbt-icon",{attrs:{type:"mail"}}),t._v(" 全部已读")],1),t._v(" "),t._l(t.noticeData.list,(function(e,i){return a("div",{key:i,staticClass:"notice-module__item",class:{is_new:e.new},on:{click:function(a){return t.read(e.id,i)}}},["banspeak"==e.from_idtype?a("nuxt-link",{staticClass:"font-medium",class:e.new?"link-dark-major":"link-dark-minor",attrs:{to:{name:"post-id",params:{id:"354327"}},target:"_blank"}},[a("div",{staticClass:"item-icon"},[a("bbt-icon",{attrs:{type:"comment"}})],1),t._v(" "),a("div",{staticClass:"item-content"},[t._v("\n              "+t._s(t.xss(e.note))+"\n            ")]),t._v(" "),a("div",{staticClass:"item-date"},[t._v("\n              "+t._s(t._f("timeAgo")(e.dateline))+"\n            ")])]):"del_post"==e.from_idtype||"del_thread"==e.from_idtype?a("nuxt-link",{staticClass:"font-medium",class:e.new?"link-dark-major":"link-dark-minor",attrs:{to:{name:"post-id",params:{id:"15508"}},target:"_blank"}},[a("div",{staticClass:"item-icon"},[a("bbt-icon",{attrs:{type:"comment"}})],1),t._v(" "),a("div",{staticClass:"item-content"},[t._v("\n              "+t._s(t.xss(e.note))+"\n            ")]),t._v(" "),a("div",{staticClass:"item-date"},[t._v("\n              "+t._s(t._f("timeAgo")(e.dateline))+"\n            ")])]):a("nuxt-link",{class:e.new?"link-dark-major":"link-dark-minor",attrs:{to:{name:"notice",query:{mod:e.from_idtype,pid:e.pid,tid:e.tid}},target:"_blank"}},[a("div",{staticClass:"item-icon"},[a("bbt-icon",{attrs:{type:"comment"}})],1),t._v(" "),a("div",{staticClass:"item-content"},[t._v("\n              "+t._s(t.xss(e.note))+"\n            ")]),t._v(" "),a("div",{staticClass:"item-date"},[t._v("\n              "+t._s(t._f("timeAgo")(e.dateline))+"\n            ")])])],1)})),t._v(" "),t.totalNum>t.pageSize*t.page?a("x-more",{attrs:{isLoading:t.isLoading},on:{next:t.toNext}}):t._e()],2):a("x-empty",[t._v("暂无消息")])],1)])])}),[],!1,null,"50ceb036",null);e.default=m.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6),a(94),a(95);var i=a(1),r=(a(4),a(3),a(19),a(2)),n=a(46),s=a.n(n),o=a(14);function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u={layout:"login",middleware:"global",watchQuery:["client_id","redirect_uri"],fetch:function(t){var e=t.store,a=(t.cookie,t.route.query),i=a.client_id,r=a.redirect_uri;return Promise.all([e.dispatch("FETCH_AUTHCODE",{params:{client_id:i,redirect_url:r}})]).catch((function(t){}))},data:function(){return{isExpire:!1,formData:{username:"",password:""},timer:null,rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},isLoading:!1,currentId:0,checklogin:!1}},computed:l({},Object(r.c)({auth:function(t){return t.auth},userinfo:function(t){return t.userinfo},token:function(t){return t.token}}),{uid:function(){return this.userinfo.uid}}),mounted:function(){var t=this;this.timer=setInterval((function(){t.$store.dispatch("FETCH_QRCODE_AUTHBIND",{params:{authcode:t.auth.authcode}}).then((function(e){e.status&&(t.$route.query&&t.$route.query.redirect_uri?(clearInterval(t.timer),location.href="".concat(decodeURIComponent(t.$route.query.redirect_uri),"?code=").concat(e.authcode,"&state=").concat(t.$route.query.state)):(t.$message({type:"danger",message:"缺少redirect_uri"}),location.reload()))})).catch((function(e){t.isExpire=!0,t.$message({type:"danger",message:e.message||e.msg})}))}),2e3)},beforeDestroy:function(){clearInterval(this.timer)},methods:{switchTab:function(t){this.currentId==t||this.isLoading||(this.currentId=t)},onSubmit:function(){var t=this;!this.checklogin&&this.uid&&this.token?this.onBindAuth({uid:this.uid,token:this.token}):this.$refs.form.validate((function(e){e&&(t.isLoading=!0,t.$store.dispatch("FETCH_LOGIN_ACCOUNT",{params:{username:t.formData.username,password:s.a.MD5(t.formData.password).toString(),source:"web",product_code:"chainnode",device_id:Object(o.k)(20,20)}}).then((function(e){t.onBindAuth({uid:e.user_info.uid,token:e.token})})).catch((function(e){t.isLoading=!1,t.$message({type:"danger",message:e&&e.message||"服务器内部错误"})})))}))},onBindAuth:function(t){var e=this;this.$store.dispatch("FETCH_AUTHBIND",{params:l({authcode:this.auth.authcode},t)}).then((function(t){e.isLoading=!1,e.$route.query&&e.$route.query.redirect_uri?location.href="".concat(decodeURIComponent(e.$route.query.redirect_uri),"?code=").concat(e.auth.authcode,"&state=").concat(e.$route.query.state):e.$message({type:"danger",message:"缺少redirect_uri"})})).catch((function(t){e.isLoading=!1,e.$message({type:"danger",message:t&&t.message||"服务器内部错误"})}))},refresh:function(){location.reload()}},head:function(){return{title:"ChainNode 链节点安全登录"}}},d=(a(1421),a(1422),a(0)),p=Object(d.a)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-main bbt-main--gray"},[a("div",{staticClass:"login-main"},[a("div",{staticClass:"login-logo"},[a("nuxt-link",{attrs:{to:{name:"index"}}},[a("img",{attrs:{src:"/images/common/ChainNode.svg",height:"96px",alt:""}})])],1),t._v(" "),a("div",{staticClass:"login-section"},[a("ul",{staticClass:"login-tab"},[a("li",{class:{active:0==t.currentId},on:{click:function(e){return t.switchTab(0)}}},[t._v("\n          快速扫码登录\n        ")]),t._v(" "),a("li",{class:{active:1==t.currentId},on:{click:function(e){return t.switchTab(1)}}},[t._v("\n          账号密码登录\n        ")])]),t._v(" "),0==t.currentId?a("div",{staticClass:"login-section__qrcode"},[a("div",{staticClass:"qrcode"},[t.auth.qrcode_img?a("img",{staticStyle:{width:"210px",height:"210px"},attrs:{src:t.auth.qrcode_img}}):a("div",{staticClass:"expire-mask",on:{click:t.refresh}},[t._m(0)]),t._v(" "),t.isExpire?a("div",{staticClass:"expire-mask",on:{click:t.refresh}},[a("img",{attrs:{src:"/images/common/refresh.png",height:"44px",alt:""}}),t._v(" "),t._m(1)]):t._e()]),t._v(" "),t._m(2),t._v(" "),a("p",[t._v("打开App - 我的 - 右上角")])]):a("div",{staticClass:"login-section__passward"},[!t.checklogin&&t.uid?a("div",[a("p",[t._v("您有已登录账号，可直接授权登录")]),t._v(" "),a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:{src:t.userinfo.avatar,error:"/images/default/avatar.gif",loading:"/images/default/avatar.gif"},expression:"{\n              src: userinfo.avatar,\n              error: '/images/default/avatar.gif',\n              loading: '/images/default/avatar.gif',\n            }",arg:"background-image"}],staticClass:"user-avatar"}),t._v(" "),a("div",[t._v(t._s(t.userinfo.username))]),t._v(" "),a("p",[a("a",{staticClass:"link-primary",attrs:{href:"javascript:;"},on:{click:function(e){t.checklogin=!0}}},[t._v("切换使用账号密码授权登录")])]),t._v(" "),t.isLoading?a("bbt-btn",{attrs:{type:"assist",block:"",disabled:""}},[t._v("登录中")]):a("bbt-btn",{attrs:{type:"assist",block:""},on:{click:t.onSubmit}},[t._v("授权并登录")]),t._v(" "),a("p",{staticStyle:{"text-align":"center"}},[t._v("\n            使用你的链节点账号登录"),a("span",{staticClass:"link-primary"},[t._v(t._s(t.auth.name))])])],1):a("el-form",{ref:"form",staticClass:"login-form",attrs:{"label-position":"top",model:t.formData,rules:t.rules}},[a("el-form-item",{attrs:{label:"账号",prop:"username"}},[a("el-input",{model:{value:t.formData.username,callback:function(e){t.$set(t.formData,"username",e)},expression:"formData.username"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password"},model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1),t._v(" "),a("el-form-item",[a("div",{staticClass:"login-form__remark"},[a("span",[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"reset-password"}}},[t._v("忘记密码？")])],1),t._v(" "),a("span",[t._v("还没有账号？"),a("nuxt-link",{staticClass:"link-primary",attrs:{to:{name:"register"}}},[t._v("立即注册")])],1)])]),t._v(" "),a("el-form-item",[t.isLoading?a("bbt-btn",{attrs:{type:"assist",block:"",disabled:""}},[t._v("登录中")]):a("bbt-btn",{attrs:{type:"assist",block:""},on:{click:t.onSubmit}},[t._v("授权并登录")])],1),t._v(" "),a("p",{staticStyle:{"text-align":"center"}},[t._v("\n            使用你的链节点账号登录"),a("span",{staticClass:"link-primary"},[t._v(t._s(t.auth.name))])])],1)],1)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("redirect_uri和client_id"),e("br"),this._v("不匹配，请确认")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("二维码已过期"),e("br"),this._v("请点击刷新")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("使用"),e("span",{staticClass:"link-primary"},[this._v("链节点App")]),this._v("扫描二维码登录")])}],!1,null,"1ef044f0",null);e.default=p.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6);var i=a(1),r=(a(4),a(3),a(19),a(29),a(16)),n=a(2);function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var o={components:{XDocument:a(61).a},fetch:function(t){var e=t.store,a=(t.cookie,t.res,t.error);t.redirect;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all([e.dispatch("post/FETCH_POST_SINGLE",{params:{tid:"478294"},id:"478294",type:"items"})]).catch((function(t){return t&&404===t.code?a({statusCode:404}):a({statusCode:500})})));case 1:case"end":return t.stop()}}),t)})))()},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(n.c)({post:function(t){return t.post}}),{postData:function(){return this.post.items[478294]}})},c=a(0),l=Object(c.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("x-document",{attrs:{title:"ChainNode 链节点使用协议"}},[this.postData.content?e("div",{domProps:{innerHTML:this._s(this.postData.content)}}):this._e()])}),[],!1,null,null,null);e.default=l.exports},function(t,e,a){"use strict";a.r(e);a(2);var i={components:{XDocument:a(61).a},data:function(){return{sitemapData:[{title:"ChainNode 链节点",list:[{name:"链节点社区",url:"https://www.chainnode.com/"},{name:"区块链社区排行榜",url:"https://www.chainnode.com/nodes"},{name:"区块链视频",url:"https://www.chainnode.com/videos"},{name:"区块链文库",url:"https://www.chainnode.com/library"},{name:"区块链教程",url:"https://www.chainnode.com/tutorials"},{name:"区块链活动沙龙",url:"https://www.chainnode.com/events"}]},{title:"项目社区",list:[{name:"比特币社区",url:"https://www.chainnode.com/forum/2"},{name:"以太坊社区",url:"https://www.chainnode.com/forum/72"},{name:"比原链社区",url:"https://www.chainnode.com/forum/143"},{name:"EOS柚子社区",url:"https://www.chainnode.com/forum/186"},{name:"ONT本体社区",url:"https://www.chainnode.com/forum/188"},{name:"Aeternity社区",url:"https://www.chainnode.com/forum/235"},{name:"LTC莱特币社区",url:"https://www.chainnode.com/forum/44"},{name:"BCH社区",url:"https://www.chainnode.com/forum/147"},{name:"NEO小蚁社区",url:"https://www.chainnode.com/forum/117"},{name:"PlatON社区",url:"https://www.chainnode.com/forum/267"},{name:"GXC公信宝社区",url:"https://www.chainnode.com/forum/149"},{name:"BTS比特股社区",url:"https://www.chainnode.com/forum/66"},{name:"Grin古灵币社区",url:"https://www.chainnode.com/forum/271"},{name:"QTUM量子链社区",url:"https://www.chainnode.com/forum/130"},{name:"狗狗币社区",url:"https://www.chainnode.com/forum/75"},{name:"IOST社区",url:"https://www.chainnode.com/forum/190"}]},{title:"技术社区",list:[{name:"区块链技术文档",url:"https://www.chainnode.com/forum/255"},{name:"区块链疑难解答",url:"https://www.chainnode.com/forum/256"},{name:"超级账本中文社区",url:"https://www.chainnode.com/forum/134"},{name:"PPk/对等可信开发协议",url:"https://www.chainnode.com/forum/268"},{name:"闪电网络中文社区",url:"https://www.chainnode.com/forum/299"}]},{title:"钱包社区",list:[{name:"比特派钱包社区",url:"https://www.chainnode.com/forum/95"},{name:"imToken社区",url:"https://www.chainnode.com/forum/216"},{name:"Cobo钱包社区",url:"https://www.chainnode.com/forum/220"},{name:"火币钱包社区",url:"https://www.chainnode.com/forum/296"},{name:"Bepal/币派官方社区",url:"https://www.chainnode.com/forum/282"}]},{title:"综合社区",list:[{name:"区块链社区",url:"https://www.chainnode.com/forum/1"},{name:"糖果空投",url:"https://www.chainnode.com/forum/176"},{name:"挖矿",url:"https://www.chainnode.com/forum/39"},{name:"生活漫谈",url:"https://www.chainnode.com/forum/65"},{name:"新手入门",url:"https://www.chainnode.com/forum/187"}]},{title:"区块链文库",list:[{name:"研究报告",url:"https://www.chainnode.com/library/1"},{name:"会议演讲",url:"https://www.chainnode.com/library/6"},{name:"电子图书",url:"https://www.chainnode.com/library/11"},{name:"白皮书",url:"https://www.chainnode.com/library/15"},{name:"指南手册",url:"https://www.chainnode.com/library/19"},{name:"政策文件",url:"https://www.chainnode.com/library/23"}]},{title:"区块链教程",list:[{name:"投资指南",url:"https://www.chainnode.com/tutorials/32"},{name:"大咖分享",url:"https://www.chainnode.com/tutorials/35"},{name:"技术进阶",url:"https://www.chainnode.com/tutorials/36"}]}]}}},r=(a(1420),a(0)),n=Object(r.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("x-document",{attrs:{title:"网站地图"}},t._l(t.sitemapData,(function(e,i){return a("div",{key:i,staticClass:"sitemap-item"},[a("div",{staticClass:"sitemap-item__title"},[t._v("\n      "+t._s(e.title)+"\n    ")]),t._v(" "),a("ul",{staticClass:"sitemap-item__list"},t._l(e.list,(function(e,i){return a("li",{key:i},[a("a",{staticClass:"link-dark-minor",attrs:{href:e.url,target:"_blank",rel:"noopener"}},[t._v("\n          "+t._s(e.name)+"\n        ")])])})),0)])})),0)}),[],!1,null,"4bafc492",null);e.default=n.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6);var i=a(1),r=(a(4),a(3),a(19),a(29),a(16)),n=a(2);function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var o={components:{XDocument:a(61).a},fetch:function(t){var e=t.store,a=(t.cookie,t.res,t.error);t.redirect;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all([e.dispatch("post/FETCH_POST_SINGLE",{params:{tid:"337517"},id:"337517",type:"items"})]).catch((function(t){return t&&404===t.code?a({statusCode:404}):a({statusCode:500})})));case 1:case"end":return t.stop()}}),t)})))()},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(n.c)({post:function(t){return t.post}}),{postData:function(){return this.post.items[337517]}})},c=a(0),l=Object(c.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("x-document",{attrs:{title:"社区公约"}},[this.postData.content?e("div",{domProps:{innerHTML:this._s(this.postData.content)}}):this._e()])}),[],!1,null,null,null);e.default=l.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6);var i=a(1),r=(a(4),a(3),a(19),a(29),a(16)),n=a(2);function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var o={components:{XDocument:a(61).a},fetch:function(t){var e=t.store,a=(t.cookie,t.res,t.error);t.redirect;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all([e.dispatch("post/FETCH_POST_SINGLE",{params:{tid:"478354"},id:"478354",type:"items"})]).catch((function(t){return t&&404===t.code?a({statusCode:404}):a({statusCode:500})})));case 1:case"end":return t.stop()}}),t)})))()},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(n.c)({post:function(t){return t.post}}),{postData:function(){return this.post.items[478354]}})},c=a(0),l=Object(c.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("x-document",{attrs:{title:"隐私权政策"}},[this.postData.content?e("div",{domProps:{innerHTML:this._s(this.postData.content)}}):this._e()])}),[],!1,null,null,null);e.default=l.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6),a(33);var i=a(1),r=(a(4),a(3),a(19),a(2)),n=a(72),s=a(635),o=a(8);function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u={middleware:"login",validate:function(t){var e=t.params;return/^[1-9]+[0-9]*]*$/.test(e.id)},components:{XEditorModule:s.a,XCrumbs:n.a},data:function(){return{isLoading:!1}},fetch:function(t){var e=t.store,a=(t.cookie,t.res,t.error),i=(t.redirect,t.route),r=i.params.id;i.query.page;return Promise.all([e.dispatch("post/FETCH_POST_SINGLE",{params:{tid:r},id:r,type:"items"})]).catch((function(t){return t&&404===t.code?a({statusCode:404}):a({statusCode:500})}))},computed:l({},Object(r.c)({post:function(t){return t.post},userinfo:function(t){return t.userinfo}}),{uid:function(){return this.userinfo.uid},tid:function(){return this.$route.params.id},pid:function(){return this.$route.query&&this.$route.query.pid},singlePostData:function(){return this.post.items[this.tid]},contentData:function(){return this.$route.query.content&&this.$route.query.content.replace(/\n/g,"<br>")||""},page:function(){return this.$route.query&&this.$route.query.page||1},currentStand:function(){return this.singlePostData.user_stand}}),methods:{onSubmit:function(){var t=this;this.isLoading||this.$refs.editor.isUpLoading()||this.$refs.editor.validatorText().then((function(e){t.isLoading=!0,t.fetchComment(t.$refs.editor.getContent(),t.tid,t.pid||t.singlePostData.pid,t.currentStand).then((function(e){t.isLoading=!1,e.credits&&t.$message({message:"回帖奖励 +".concat(e.credits),type:"success"}),t.$router.push({name:Object(o.n)(t.singlePostData.type,t.singlePostData.category&&t.singlePostData.category.id,t.page),params:{id:t.tid,page:t.page},hash:t.pid?"#pid".concat(t.pid):"#comment"})})).catch((function(e){t.isLoading=!1,t.$message({message:e.message,type:"danger"})}))})).catch((function(){t.isLoading=!1}))},fetchComment:function(t,e,a,i){var r={};return i&&(r.stand=i),this.$store.dispatch("comment/ADD_COMMENT",{params:l({parent_id:a,author_id:this.uid,tid:e},t,{},r)})}},head:function(){return{title:"参与/回复主题".concat(this.singlePostData.title)}}},d=a(0),p=Object(d.a)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-main bbt-main--margin"},[a("div",{staticClass:"bbt-container"},[t.singlePostData&&t.singlePostData.nav?a("x-crumbs",{attrs:{data:t.singlePostData.nav}}):t._e(),t._v(" "),a("x-editor-module",{ref:"editor",staticStyle:{padding:"24px 0 0 0","margin-bottom":"0"},attrs:{title:"RE: "+t.singlePostData.title,placeholder:t.contentData,minLen:5,uploadType:"post",draft:!1}}),t._v(" "),a("bbt-btn",{attrs:{type:"primary",size:"lg",disabled:t.isLoading},on:{click:t.onSubmit}},[t.isLoading?a("span",[t._v("回帖发表中...")]):a("span",[a("bbt-icon",{attrs:{type:"report"}}),t._v("发表回帖")],1)])],1)])}),[],!1,null,null,null);e.default=p.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6),a(217);var i=a(1),r=(a(4),a(3),a(19),a(29),a(16)),n=a(2);function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var o={components:{XDocument:a(61).a},fetch:function(t){var e=t.store;t.cookie,t.res,t.error,t.redirect;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all([e.dispatch("FETCH_LINK_LIST",{type:"more",params:{type:1}})]).catch((function(t){})));case 1:case"end":return t.stop()}}),t)})))()},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(n.c)({data:function(t){return t.link.more}}))},c=(a(1419),a(0)),l=Object(c.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("x-document",{attrs:{title:"友情链接"}},[a("div",{staticClass:"friend-module"},[a("ul",{staticClass:"friend-link"},t._l(t.data,(function(e,i){return a("li",{key:i},[a("a",{staticClass:"link-dark-minor",attrs:{href:e.link_url,target:"_blank",rel:"nofollow noopener"}},[t._v(t._s(e.link_name))])])})),0)])])}),[],!1,null,"231cb3c8",null);e.default=l.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6);var i=a(1),r=(a(4),a(3),a(19),a(29),a(16)),n=a(2);function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var o={components:{XDocument:a(61).a},fetch:function(t){var e=t.store,a=(t.cookie,t.res,t.error);t.redirect;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all([e.dispatch("post/FETCH_POST_SINGLE",{params:{tid:"354327"},id:"354327",type:"items"})]).catch((function(t){return t&&404===t.code?a({statusCode:404}):a({statusCode:500})})));case 1:case"end":return t.stop()}}),t)})))()},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(n.c)({post:function(t){return t.post}}),{postData:function(){return this.post.items[354327]}})},c=a(0),l=Object(c.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("x-document",{attrs:{title:"联系我们"}},[this.postData.content?e("div",{domProps:{innerHTML:this._s(this.postData.content)}}):this._e()])}),[],!1,null,null,null);e.default=l.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6);var i=a(20),r=(a(23),a(1)),n=(a(4),a(3),a(19),a(50)),s=(a(29),a(16)),o=a(2),c=a(528),l=a(527),u=a(534);function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var p={components:{XBanner:c.a,XBlockListModule:l.a,XNavbar:u.a},data:function(){return{timer:null}},asyncData:function(t){t.store;var e=t.app;return Object(s.a)(regeneratorRuntime.mark((function t(){var a,i,r,s,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$api,t.next=3,Promise.all([a.get("/api/php/forum/forum-forum/list"),a.get("/api/php/forum/forum-forum/chainnode-list",{num:8,order_by:"threads"}),a.get("/api/php/forum/forum-forum/chainnode-header",{first:1})]);case 3:return i=t.sent,r=Object(n.a)(i,3),s=r[0],o=r[1],c=r[2],t.abrupt("return",{blockData:s.data&&s.data.data&&s.data.data.data||[],hotData:o.data&&o.data.data&&o.data.data.list||[],bannerData:c.data&&c.data.data&&c.data.data||{}});case 9:case"end":return t.stop()}}),t)})))()},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){Object(r.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(o.c)({menu:function(t){return t.menu},block:function(t){return t.block}}),{barList:function(){var t=[];return this.blockData.forEach((function(e,a){t.push({name:e.name,target:"nodes-section".concat(a+1)})})),t},navOption:function(){return{showHeight:500,targetType:"id",barList:this.hotData.length?[{name:"热门节点",target:"nodes-section0"}].concat(Object(i.a)(this.barList)):this.barList}}}),mounted:function(){var t=this;this.timer=setInterval((function(){t.$api.get("/api/php/forum/forum-forum/chainnode-header",{first:1}).then((function(e){t.bannerData=e.data.data}),(function(){}))}),2e4)},beforeDestroy:function(){clearInterval(this.timer)},head:function(){return{title:"节点列表 - 区块链节点分类"}}},m=(a(1164),a(0)),f=Object(m.a)(p,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("x-navbar",{attrs:{navOption:t.navOption}}),t._v(" "),a("x-banner",{attrs:{data:t.bannerData}}),t._v(" "),a("div",{staticClass:"bbt-container"},[t.hotData&&t.hotData.length?a("div",{staticClass:"block-wrap",attrs:{id:"nodes-section0"}},[t._m(0),t._v(" "),a("div",{staticClass:"block-wrap__body"},[a("x-block-list-module",{attrs:{data:t.hotData}})],1)]):t._e(),t._v(" "),t._l(t.blockData,(function(e,i){return a("div",{key:i,staticClass:"block-wrap",attrs:{id:"nodes-section"+(i+1)}},[a("div",{staticClass:"block-wrap__header"},[a("h2",[t._v(t._s(e.name))])]),t._v(" "),a("div",{staticClass:"block-wrap__body"},[e.sub&&e.sub.length?a("x-block-list-module",{attrs:{data:e.sub}}):t._e()],1)])}))],2)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"block-wrap__header"},[e("h2",[this._v("热门节点")])])}],!1,null,"76a5f719",null);e.default=f.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6);var i=a(1),r=(a(4),a(3),a(19),a(29),a(16)),n=a(2);function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var o={components:{XDocument:a(61).a},fetch:function(t){var e=t.store,a=(t.cookie,t.res,t.error);t.redirect;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all([e.dispatch("post/FETCH_POST_SINGLE",{params:{tid:"354329"},id:"354329",type:"items"})]).catch((function(t){return t&&404===t.code?a({statusCode:404}):a({statusCode:500})})));case 1:case"end":return t.stop()}}),t)})))()},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(n.c)({post:function(t){return t.post}}),{postData:function(){return this.post.items[354329]}})},c=a(0),l=Object(c.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("x-document",{attrs:{title:"商务合作"}},[this.postData.content?e("div",{domProps:{innerHTML:this._s(this.postData.content)}}):this._e()])}),[],!1,null,null,null);e.default=l.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6);var i=a(1),r=(a(4),a(3),a(19),a(29),a(16)),n=a(2);function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var o={components:{XDocument:a(61).a},fetch:function(t){var e=t.store,a=(t.cookie,t.res,t.error);t.redirect;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all([e.dispatch("post/FETCH_POST_SINGLE",{params:{tid:"354310"},id:"354310",type:"items"})]).catch((function(t){return t&&404===t.code?a({statusCode:404}):a({statusCode:500})})));case 1:case"end":return t.stop()}}),t)})))()},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(n.c)({post:function(t){return t.post}}),{postData:function(){return this.post.items[354310]}})},c=a(0),l=Object(c.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("x-document",{attrs:{title:"关于我们"}},[this.postData.content?e("div",{domProps:{innerHTML:this._s(this.postData.content)}}):this._e()])}),[],!1,null,null,null);e.default=l.exports},function(t,e,a){"use strict";a.r(e);var i={post:"post",question:"question",ama:"ama",activity:"event"},r={asyncData:function(t){var e=t.error,a=t.redirect,r=t.app,n=t.route.query,s=n.mod,o=n.tid,c=n.pid;try{var l={tid:o,type:s};return c&&(l.pid=c),r.$api.get("/api/php/forum/forum-related/notify-jump",l).then((function(t){return t.data.data.pid&&t.data.data.pid>1?a(301,{path:t.data.data.page&&t.data.data.page>1?"/".concat(i[t.data.data.type],"/").concat(t.data.data.tid,"-").concat(t.data.data.page,"#pid").concat(t.data.data.pid):"/".concat(i[t.data.data.type],"/").concat(t.data.data.tid,"#pid").concat(t.data.data.pid)}):a(301,{path:t.data.data.page&&t.data.data.page>1?"/".concat(i[t.data.data.type],"/").concat(t.data.data.tid,"-").concat(t.data.data.page):"/".concat(i[t.data.data.type],"/").concat(t.data.data.tid)})}))}catch(t){return t&&t.redirect&&t.url?a(301,{path:t.url}):t&&404===t.code?e({statusCode:404}):e({statusCode:500})}}},n=a(0),s=Object(n.a)(r,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticStyle:{display:"none"}})}),[],!1,null,null,null);e.default=s.exports},function(t,e,a){"use strict";a.r(e);var i={head:function(){return{title:"系统维护中"}}},r=(a(1418),a(0)),n=Object(r.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticStyle:{padding:"48px 0"}},[e("div",{staticClass:"bbt-container"},[e("div",{staticClass:"error-main",style:"background: url(/images/error/500-other-bg.svg)"},[e("div",{staticClass:"error-info"},[e("div",{staticClass:"error-code"},[e("bbt-icon",{attrs:{type:"chuizi"}})],1),this._v(" "),e("div",{staticClass:"error-message"},[this._v("\n          系统正在维护中...\n        ")]),this._v(" "),e("div",{staticClass:"error-btn"},[e("nuxt-link",{staticClass:"bbt-btn bbt-btn--primary bbt-btn--lg",attrs:{to:"/"}},[this._v("\n            返回首页\n          ")])],1)])])])])}),[],!1,null,"7ecf5174",null);e.default=n.exports},function(t,e,a){"use strict";a.r(e);a(94),a(95),a(3);var i=a(46),r=a.n(i),n={layout:"login",data:function(){var t=this;return{back_url:this.$route.query.back_url,back_name:this.$route.query.back_name,redirect_url:this.$route.query.redirect_url,isCountdown:!1,countdown:60,timer:null,isLoading:!1,ruleForm:{account:null,password:null,checkPassword:null,captcha:null},rules:{account:[{required:!0,message:"请输入手机号或邮箱",trigger:"blur"},{validator:function(t,e,a){""===e?a(new Error("请输入手机号或邮箱")):/^1(1|2|3|4|5|6|7|8|9|0)\d{9}$/.test(e)||/[a-zA-Z0-9]{1,10}@[a-zA-Z0-9]{1,5}\.[a-zA-Z0-9]{1,5}/.test(e)?a():a(new Error("请输入正确的手机号或邮箱"))},trigger:"blur"}],password:[{validator:function(e,a,i){""===a?i(new Error("请输入密码")):(""!==t.ruleForm.checkPassword&&t.$refs.ruleForm.validateField("checkPassword"),i())},trigger:"blur"}],checkPassword:[{validator:function(e,a,i){""===a?i(new Error("请再次输入密码")):a!==t.ruleForm.password?i(new Error("两次输入密码不一致!")):i()},trigger:"blur"}],captcha:[{required:!0,message:"请输入验证码",trigger:"blur"}]}}},mounted:function(){a(1601);var t=this;new YpRiddler({expired:10,mode:"dialog",noButton:!0,winWidth:400,lang:"zh-cn",container:document.getElementById("get-captcha"),appId:"0e790ca2c37d4b3c9aaab7ac0032ea06",version:"v1",onError:function(e){e.code&&(5==parseInt(e.code/100)||(429==e.code?t.$message({type:"danger",message:"请求过于频繁，请稍后再试"}):t.$message({type:"danger",message:"验证失败，请重试"})))},onSuccess:function(e,a){t.getCaptcha(e),a()},onFail:function(t,e,a){a()},beforeStart:function(e){t.$refs.ruleForm.validateField("account",(function(a){a||t.isCountdown||e()}))}})},methods:{getCaptcha:function(t){var e=this;this.$refs.ruleForm.validateField("account",(function(a){if(!a){/[a-zA-Z0-9]{1,10}@[a-zA-Z0-9]{1,5}\.[a-zA-Z0-9]{1,5}/.test(e.ruleForm.account)?e.$store.dispatch("user/FETCH_EMAIL_CAPTCHA",{params:{email:e.ruleForm.account,type:"resetpassword"}}).then((function(t){e.isCountdown=!0,e.timer=setInterval((function(){e.countdown>1?e.countdown=e.countdown-1:(clearInterval(e.timer),e.isCountdown=!1,e.countdown=60)}),1e3)})).catch((function(t){e.$message({message:t.msg||t.message||"发送验证码失败，请重试",type:"danger"})})):e.$store.dispatch("FETCH_CAPTCHA",{params:{mobile:e.ruleForm.account,type:"resetpassword",source_site:"chainnode",token:t.token,authenticate:t.authenticate}}).then((function(t){e.isCountdown=!0,e.timer=setInterval((function(){e.countdown>1?e.countdown=e.countdown-1:(clearInterval(e.timer),e.isCountdown=!1,e.countdown=60)}),1e3)})).catch((function(t){e.$message({message:t.msg||t.message||"发送验证码失败，请重试",type:"danger"})}))}}))},onSubmit:function(){var t=this;this.$refs.ruleForm.validate((function(e){e&&(t.isLoading=!0,t.$store.dispatch("FETCH_RESET_PASSWORD",{params:{account:t.ruleForm.account,code:t.ruleForm.captcha,password:r.a.MD5(t.ruleForm.password).toString(),confirmpassword:r.a.MD5(t.ruleForm.checkPassword).toString()}}).then((function(e){if("200"===e.code&&e.data.status){t.$message({message:"密码重置成功",type:"success"});var a={};t.back_url?a.back_url=t.back_url:t.back_name?a.back_name=t.back_name:t.redirect_url&&(a.redirect_url=t.redirect_url),t.$router.push({name:"login-password",query:a})}})).catch((function(e){t.$message({message:e&&e.message||"重置失败，请重试",type:"danger"}),t.isLoading=!1})))}))}},head:function(){return{title:"重置密码"}}},s=(a(1416),a(1417),a(0)),o=Object(s.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-main"},[a("div",{staticClass:"login-logo"},[a("nuxt-link",{attrs:{to:{name:"index"}}},[a("img",{attrs:{src:"/images/common/ChainNode.svg",height:"96px",alt:""}})])],1),t._v(" "),a("div",{staticClass:"login-section"},[t._m(0),t._v(" "),a("el-form",{ref:"ruleForm",staticClass:"login-form",attrs:{model:t.ruleForm,rules:t.rules}},[a("el-form-item",{attrs:{prop:"account"}},[a("el-input",{attrs:{placeholder:"请输入手机号或邮箱"},model:{value:t.ruleForm.account,callback:function(e){t.$set(t.ruleForm,"account",e)},expression:"ruleForm.account"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{"show-password":"",placeholder:"请输入新密码",type:"password"},model:{value:t.ruleForm.password,callback:function(e){t.$set(t.ruleForm,"password",e)},expression:"ruleForm.password"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"checkPassword"}},[a("el-input",{attrs:{"show-password":"",placeholder:"请再次输入密码",type:"password"},model:{value:t.ruleForm.checkPassword,callback:function(e){t.$set(t.ruleForm,"checkPassword",e)},expression:"ruleForm.checkPassword"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"captcha"}},[a("el-input",{staticStyle:{width:"60%","padding-right":"15px",float:"left"},attrs:{placeholder:"请输入验证码"},model:{value:t.ruleForm.captcha,callback:function(e){t.$set(t.ruleForm,"captcha",e)},expression:"ruleForm.captcha"}}),t._v(" "),a("span",{attrs:{id:"get-captcha"}},[t.isCountdown?a("bbt-btn",{staticStyle:{width:"40%","font-size":"14px",cursor:"not-allowed",opacity:"0.5"},attrs:{type:"primary",ghost:""}},[t._v(t._s(t.countdown)+"秒后重新获取")]):a("bbt-btn",{staticStyle:{width:"40%","font-size":"14px"},attrs:{type:"primary",ghost:""}},[t._v("获取验证码")])],1)],1),t._v(" "),a("el-form-item",[t.isLoading?a("bbt-btn",{attrs:{type:"assist",block:"",disabled:""}},[t._v("重置中")]):a("bbt-btn",{attrs:{type:"assist",block:""},on:{click:t.onSubmit}},[t._v("立即重置")])],1),t._v(" "),a("div",[a("span",[t._v("已有账号，")]),a("nuxt-link",{staticClass:"link-primary",attrs:{to:{name:"login-password",query:{back_url:t.back_url,back_name:t.back_name,redirect_url:t.redirect_url}}}},[t._v("马上登录")])],1)],1)],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"login-tab"},[e("li",{staticClass:"active"},[this._v("重置密码")])])}],!1,null,"31762f42",null);e.default=o.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6);var i=a(1),r=(a(12),a(4),a(3),a(19),a(2)),n=a(27),s=a(535);function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var c={components:{XEmpty:n.a,XActivityListModule:s.a},fetch:function(t){var e=t.store,a=(t.cookie,t.res,t.error,t.redirect,t.route),i=a.params.id,r=a.query.page;return Promise.all([e.dispatch("topic/FETCH_ACTIVITY_SINGLE",{params:{chainnode_topic_id:i,page:Number(r)||1}})]).catch((function(t){}))},data:function(){return{isLoading:!1,pageSize:20}},watch:{$route:function(){this.isLoading=!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(r.c)({eventItems:function(t){return t.topic.eventItems}}),{currentPage:function(){return Number(this.$route.query.page)||1},id:function(){return this.$route.params.id},activityData:function(){return this.eventItems[this.id]},totalNum:function(){return Number(this.eventItems[this.id].total)||0}}),methods:{changePage:function(t){this.isLoading||t==this.currentPage||(this.isLoading=!0,document.getElementById("topic-main").scrollIntoView(),this.$router.push({path:"/hot/".concat(this.id,"/event"),query:{page:t}}))}}},l=a(0),u=Object(l.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("bbt-loading",{style:t.isLoading?"min-height: 1000px;":"",attrs:{loading:t.isLoading}},[t.activityData.list&&t.activityData.list.length?a("x-activity-list-module",{attrs:{data:t.activityData.list,size:"small"}}):a("x-empty",[t._v("暂无数据")]),t._v(" "),t.totalNum>t.pageSize?a("el-pagination",{staticStyle:{margin:"24px 0"},attrs:{layout:"prev, pager, next, jumper","current-page":Number.parseInt(t.currentPage),"page-size":t.pageSize,total:Number.parseInt(t.totalNum)},on:{"current-change":t.changePage}}):t._e()],1)}),[],!1,null,null,null);e.default=u.exports},function(t,e,a){"use strict";a.r(e);var i={data:function(){return{items:[{title:"【区块链】新手入门",icon:"/images/new/bbs@2x.png",list:[{name:"01 什么是区块链？",url:"https://www.chainnode.com/post/408249"},{name:"02 区块链是如何运作的？",url:"https://www.chainnode.com/post/408253"},{name:"03 区块链有什么价值？",url:"https://www.chainnode.com/post/408257"},{name:"04 区块链怎么分类？",url:"https://www.chainnode.com/post/408259"},{name:"05 区块链有什么优缺点？",url:"https://www.chainnode.com/post/408262"},{name:"06 区块链与传统数据库有什么区别？",url:"https://www.chainnode.com/post/408263"},{name:"07 区块链和比特币的关系？",url:"https://www.chainnode.com/post/408426"}]},{title:"【比特币】新手入门",icon:"/images/new/bitcoin@2x.png",list:[{name:"01 什么是比特币？",url:"https://www.chainnode.com/post/407627"},{name:"02 比特币有什么价值？",url:"https://www.chainnode.com/post/408044"},{name:"03 比特币是如何运作的？",url:"https://www.chainnode.com/post/408060"},{name:"04 谁创造了比特币？",url:"https://www.chainnode.com/post/408046"},{name:"05 比特币与日元或美元有什么区别？",url:"https://www.chainnode.com/post/408057"},{name:"06 比特币与Q币有什么区别？",url:"https://www.chainnode.com/post/408092"},{name:"07 如何使用比特币？",url:"https://www.chainnode.com/post/408129"},{name:"08 比特币有什么优缺点？",url:"https://www.chainnode.com/post/408237"},{name:"09 什么是闪电网络？",url:"https://www.chainnode.com/post/408243"}]},{title:"【以太坊】新手入门",icon:"/images/new/eth@2x.png",list:[{name:"01 什么是以太坊？",url:"https://www.chainnode.com/post/408429"},{name:"02 以太坊有什么价值？",url:"https://www.chainnode.com/post/408430"},{name:"03 以太坊是如何运作的？",url:"https://www.chainnode.com/post/408431"},{name:"04 谁创造了以太坊？",url:"https://www.chainnode.com/post/408433"},{name:"05 什么是DApp？",url:"https://www.chainnode.com/post/408435"},{name:"06 什么是智能合约？",url:"https://www.chainnode.com/post/408452"},{name:"07 以太坊与比特币有什么区别？",url:"https://www.chainnode.com/post/408455"},{name:"08 如何使用以太坊？",url:"https://www.chainnode.com/post/408457"},{name:"09 以太坊有什么优缺点？",url:"https://www.chainnode.com/post/408462"}]}]}},head:function(){return{title:"新手入门 - 快速了解区块链是什么",meta:[{hid:"description",name:"description",content:"在这里30分钟快速了解比特币是什么、以太坊的基本原理，以及区块链的应用和发展前景。区块链小白入门遇到的常见疑问，都能够在这里找到答案。"},{hid:"keywords",name:"keywords",content:"区块链入门,区块链是什么,比特币是什么,以太坊是什么"}]}}},r=(a(1128),a(0)),n=Object(r.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main bbt-main",staticStyle:{"padding-bottom":"0"}},[a("div",{staticClass:"bbt-container"},[a("div",{staticClass:"new-wrap"},[a("div",{staticClass:"new-items"},t._l(t.items,(function(e,i){return a("div",{key:i,staticClass:"new-item",style:"background-image: url("+e.icon+")"},[a("div",{staticClass:"item-arrow"}),t._v(" "),a("h6",[t._v(t._s(e.title))]),t._v(" "),a("ul",t._l(e.list,(function(e,i){return a("li",{key:i},[a("a",{staticClass:"link-dark-major",attrs:{href:e.url,target:"_blank"}},[t._v(t._s(e.name))])])})),0)])})),0)])])])}),[],!1,null,"2d4295fc",null);e.default=n.exports},function(t,e,a){"use strict";a.r(e);a(94),a(95),a(3);var i=a(588),r=a(173),n=a(46),s=a.n(n),o=a(14),c={layout:"login",mixins:[i.a],components:{XLogin:r.a},methods:{onSubmit:function(){var t=this;this.$refs.form.validate((function(e){e&&(t.isLoading=!0,t.$store.dispatch("FETCH_REGISTER",{params:{mobile:t.formData.mobile,code:t.formData.code,password:s.a.MD5(t.formData.password).toString(),source:"web",product_code:"chainnode",device_id:Object(o.k)(20,20)}}).then((function(e){t.$router.push({name:"index"})}),(function(e){t.isLoading=!1,t.$message({type:"danger",message:e.message})})))}))}}},l=(a(1180),a(0)),u=Object(l.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-main bbt-main--gray"},[a("x-login",[a("el-form",{ref:"form",staticClass:"login-form",attrs:{"label-position":"top",model:t.formData,rules:t.rules}},[a("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[a("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:t.formData.mobile,callback:function(e){t.$set(t.formData,"mobile",e)},expression:"formData.mobile"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"验证码",prop:"code"}},[a("el-input",{staticStyle:{width:"60%","padding-right":"15px",float:"left"},attrs:{placeholder:"请输入验证码"},model:{value:t.formData.code,callback:function(e){t.$set(t.formData,"code",e)},expression:"formData.code"}}),t._v(" "),a("span",{attrs:{id:"get-captcha"}},[t.isCountdown?a("bbt-btn",{staticStyle:{width:"40%","font-size":"14px",cursor:"not-allowed",opacity:"0.5"},attrs:{type:"primary",ghost:""}},[t._v(t._s(t.countdown)+"秒后重新获取")]):a("bbt-btn",{staticStyle:{width:"40%","font-size":"14px"},attrs:{type:"primary",ghost:""}},[t._v("获取验证码")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password","show-password":"",placeholder:"请输入密码"},model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"确认密码"}},[a("el-input",{attrs:{type:"password","show-password":"",placeholder:"请再次输入密码",prop:"checkPassword"},model:{value:t.formData.checkPassword,callback:function(e){t.$set(t.formData,"checkPassword",e)},expression:"formData.checkPassword"}})],1),t._v(" "),a("el-form-item",[a("div",{staticClass:"login-form__remark"},[t._v("\n          已有账号？"),a("nuxt-link",{staticClass:"link-primary",attrs:{to:{name:"login-password",query:{back_url:t.back_url,back_name:t.back_name,redirect_url:t.redirect_url}}}},[t._v("密码登录")])],1)]),t._v(" "),a("el-form-item",[t.isLoading?a("bbt-btn",{attrs:{type:"assist",block:"",disabled:""}},[t._v("注册中")]):a("bbt-btn",{attrs:{type:"assist",block:""},on:{click:t.onSubmit}},[t._v("立即注册")]),t._v(" "),a("div",{staticClass:"login-form__remark",staticStyle:{"margin-top":"12px"}},[t._v("\n          注册即代表您同意并遵守"),a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"us-terms"},target:"_blank"}},[t._v("《用户协议》")]),t._v("和\n          "),a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"us-privacy"},target:"_blank"}},[t._v("《隐私政策》")])],1)],1)],1)],1)],1)}),[],!1,null,"4cf89f4a",null);e.default=u.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6);var i=a(1),r=(a(4),a(3),a(19),a(12),a(2)),n=a(15);function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var o={watchQuery:["page"],fetch:function(t){var e=t.store,a=(t.res,t.error,t.redirect),i=t.route.query.page;return Number(i)>1e3?a(301,{path:"/darkroom"}):Promise.all([e.dispatch("user/FETCH_DARK_ROOM",{type:"blacklist",params:{num:20,page:Number(i)||1}})]).catch((function(t){}))},data:function(){return{pageSize:20}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(r.c)({blacklist:function(t){return t.user.blacklist}}),{currentPage:function(){return Number(this.$route.query.page)||1},data:function(){return this.blacklist.list},totalNum:function(){return Number(this.blacklist.total)||0}}),methods:{changePage:function(t){this.$router.push({name:"darkroom",query:{page:t}})}},head:function(){return{title:"小黑屋",link:[{hid:"canonical",rel:"canonical",href:"".concat(n.e.host,"/darkroom")}]}}},c=(a(1129),a(0)),l=Object(c.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-main"},[a("div",{staticClass:"bbt-container"},[a("div",{staticClass:"darkroom-list"},[a("div",{staticClass:"darkroom-module__table"},[t._m(0),t._v(" "),t._l(t.data,(function(e,i){return a("div",{key:i,staticClass:"darkroom-module__tr"},[a("div",[a("nuxt-link",{staticClass:"link-dark-minor",attrs:{to:"/user/"+e.uid}},[t._v(t._s(e.username))])],1),t._v(" "),a("div",[t._v(t._s(e.action))]),t._v(" "),"永不过期"!==e.groupexpiry?a("div",[t._v("\n            "+t._s(t._f("timeGMT")(e.groupexpiry))+"\n          ")]):a("div",[t._v(t._s(e.groupexpiry))]),t._v(" "),a("div",[t._v(t._s(t._f("timeAgo")(e.dateline)))]),t._v(" "),a("div",[t._v(t._s(e.reason))])])}))],2),t._v(" "),t.totalNum>t.pageSize?a("el-pagination",{staticStyle:{"margin-top":"24px"},attrs:{layout:"prev, pager, next","current-page":t.currentPage,"page-size":t.pageSize,total:t.totalNum>1e3*t.pageSize?1e3*t.pageSize:t.totalNum},on:{"current-change":t.changePage}}):t._e()],1)])])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"darkroom-module__th"},[a("div",[t._v("用户名")]),t._v(" "),a("div",[t._v("操作行为")]),t._v(" "),a("div",[t._v("过期时间")]),t._v(" "),a("div",[t._v("操作时间")]),t._v(" "),a("div",[t._v("操作理由")])])}],!1,null,"e82282f2",null);e.default=l.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6);var i,r,n=a(18),s=(a(12),a(1)),o=(a(4),a(3),a(19),a(2)),c=a(636),l=a(77),u=a(27),d=a(17);function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var f={inject:["injectData"],components:{XForumFilter:c.a,XPostListModule:l.a,XEmpty:u.a},watchQuery:["page","orderby"],fetch:function(t){var e=t.store,a=(t.cookie,t.res,t.error,t.redirect,t.route),i=a.params.id,r=a.query,n=r.page,s=r.orderby,o={};return o.orderby=s||"heats",Promise.all([e.dispatch("topic/FETCH_POST_SINGLE",{params:m({chainnode_topic_id:i,page:Number(n)||1},o)})]).catch((function(t){}))},data:function(){return{isLoading:!1,pageSize:20}},watch:{$route:function(){this.isLoading=!1}},computed:m({},Object(o.c)({postItems:function(t){return t.topic.postItems},userinfo:function(t){return t.userinfo}}),{uid:function(){return this.userinfo.uid},topicId:function(){return this.$route.params.id},currentPage:function(){return Number(this.$route.query.page)||1},postsData:function(){return this.postItems[this.topicId]},totalNum:function(){return Number(this.postItems[this.topicId].total)||0},currentOrderby:function(){return this.$route.query&&this.$route.query.orderby||null},forumOrderby:function(){return[{name:"最热",id:0,type:null},{name:"最新",id:1,type:"dateline"}]}}),methods:(i=Object(d.a)("/login/password",{back_url:"/new/post?action=newthread"}),r={changePage:function(t){if(!this.isLoading&&t!=this.currentPage){this.isLoading=!0,document.getElementById("topic-main").scrollIntoView();var e={};t>1&&(e.page=t),this.currentOrderby&&(e.orderby=this.currentOrderby),this.$router.push({path:"/hot/".concat(this.topicId),query:e})}},switchPostTab:function(t,e){if(!this.isLoading){this.isLoading=!0;var a={};e&&(a.orderby=e),this.$router.push({path:"/hot/".concat(this.topicId),query:a})}},releasePost:function(){this.$router.push({name:"new-post",query:this.topicId?{action:"newthread",topicid:this.topicId}:{action:"newthread"}})}},Object(n.a)(r,"releasePost",[i],Object.getOwnPropertyDescriptor(r,"releasePost"),r),r)},h=a(0),v=Object(h.a)(f,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("x-forum-filter",{attrs:{forumType:[],forumOrderby:t.forumOrderby,currentType:null,currentOrderby:t.currentOrderby,topicId:t.topicId},on:{switch:t.switchPostTab}}),t._v(" "),a("bbt-loading",{style:t.isLoading?"min-height: 1000px;":"",attrs:{loading:t.isLoading}},[t.postsData.list&&t.postsData.list.length?a("x-post-list-module",{attrs:{data:t.postsData.list,topData:t.postsData.special_list,currentPage:Number.parseInt(t.currentPage),source:!0}}):a("x-empty",[t._v("暂无数据")]),t._v(" "),t.totalNum>t.pageSize?a("el-pagination",{staticStyle:{display:"inline-block",margin:"24px 0"},attrs:{layout:"prev, pager, next, jumper","current-page":Number.parseInt(t.currentPage),"page-size":t.pageSize,total:Number.parseInt(t.totalNum)},on:{"current-change":t.changePage}}):t._e(),t._v(" "),t.totalNum>t.pageSize?a("bbt-btn",{staticStyle:{float:"right",margin:"20px 0px"},attrs:{type:"primary",size:"lg"},on:{click:t.releasePost}},[a("bbt-icon",{attrs:{type:"report"}}),t._v(" 发布帖子")],1):t._e()],1)],1)}),[],!1,null,null,null);e.default=v.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6),a(23);var i=a(1),r=(a(31),a(4),a(3),a(19),a(2)),n=a(529),s=a(524),o=a(62);function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var l={components:{XItem:n.a,XCrumbs:s.a,XMore:o.a},data:function(){return{isLoading:!1,page:1,count:18}},watchQuery:["id"],fetch:function(t){var e=t.store,a=(t.cookie,t.res,t.error),i=(t.redirect,t.route.query.id);return Promise.all([e.dispatch("mall/FETCH_CATEGORY").then((function(t){var e=[];if(t.map((function(t){e.push("".concat(t.id))})),!e.includes(i)&&i)throw{code:404}})),e.dispatch("mall/FETCH_LIST",{params:{category_id:i},type:"catList"})]).catch((function(t){return t&&404===t.code?a({statusCode:404}):a({statusCode:500})}))},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(r.c)({mall:function(t){return t.mall}}),{id:function(){return this.$route.query.id},itemData:function(){return this.mall.catList},totalNum:function(){return this.mall.catList.total_count},category:function(){var t=this;return this.id?this.mall.category.filter((function(e){return e.id==t.id}))[0]:this.mall.category[0]}}),methods:{toNext:function(){var t=this;this.isLoading||(this.isLoading=!0,this.page++,this.$store.dispatch("mall/FETCH_CAT_NEXT_LIST",{params:{category_id:this.$route.query.id,page_num:this.page,page_size:this.count,sortType:1},type:"catList"}).then((function(e){t.isLoading=!1})))}},head:function(){return{title:this.category&&"".concat(this.category.name," - 链作商城")||"链作商城"}}},u=(a(1314),a(0)),d=Object(u.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main",staticStyle:{"margin-top":"24px"}},[a("div",{staticClass:"bbt-container"},[t.category&&t.category.id?a("x-crumbs",{attrs:{data:[t.category]}}):t._e(),t._v(" "),t.itemData.list&&t.itemData.list.length?a("x-item",{staticStyle:{"margin-top":"24px"},attrs:{data:t.itemData.list,catId:t.id}}):t._e(),t._v(" "),t.totalNum>t.page*t.count?a("x-more",{attrs:{isLoading:t.isLoading},on:{next:t.toNext}}):a("div",{staticClass:"bottom-line"},[t._v("更多链作商品，敬请期待～")])],1)])}),[],!1,null,"9e8bd788",null);e.default=d.exports},function(t,e,a){"use strict";a.r(e);a(33);var i=a(588),r=a(173),n=a(14),s={layout:"login",mixins:[i.a],components:{XLogin:r.a},methods:{onSubmit:function(){var t=this;this.$refs.form.validate((function(e){e&&(t.isLoading=!0,t.$store.dispatch("FETCH_LOGIN_MOBILE",{params:{mobile:t.formData.mobile,code:t.formData.code,source:"web",product_code:"chainnode",device_id:Object(n.k)(20,20)}}).then((function(e){t.back_name?t.$router.replace({name:t.back_name}):t.back_url?t.$router.replace({path:t.back_url}):t.redirect_url?location.replace(t.redirect_url):t.$router.replace({name:"index"})}),(function(e){t.isLoading=!1,t.$message({type:"danger",message:e.message})})))}))}}},o=a(0),c=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bbt-main bbt-main--gray"},[a("x-login",[a("el-form",{ref:"form",staticClass:"login-form",attrs:{"label-position":"top",model:t.formData,rules:t.rules}},[a("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[a("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:t.formData.mobile,callback:function(e){t.$set(t.formData,"mobile",e)},expression:"formData.mobile"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"验证码",prop:"code"}},[a("el-input",{staticStyle:{width:"60%","padding-right":"15px",float:"left"},attrs:{placeholder:"请输入验证码"},model:{value:t.formData.code,callback:function(e){t.$set(t.formData,"code",e)},expression:"formData.code"}}),t._v(" "),a("span",{attrs:{id:"get-captcha"}},[t.isCountdown?a("bbt-btn",{staticStyle:{width:"40%","font-size":"14px",cursor:"not-allowed",opacity:"0.5"},attrs:{type:"primary",ghost:""}},[t._v(t._s(t.countdown)+"秒后重新获取")]):a("bbt-btn",{staticStyle:{width:"40%","font-size":"14px"},attrs:{type:"primary",ghost:""}},[t._v("获取验证码")])],1)],1),t._v(" "),a("el-form-item",[a("div",{staticClass:"login-form__remark"},[a("nuxt-link",{staticClass:"link-primary",attrs:{to:{name:"login-password",query:{back_url:t.back_url,back_name:t.back_name,redirect_url:t.redirect_url}}}},[t._v("密码登录")]),t._v(" "),a("span",[a("nuxt-link",{staticClass:"link-dark-major",attrs:{to:{name:"reset-password",query:{back_url:t.back_url,back_name:t.back_name,redirect_url:t.redirect_url}}}},[t._v("忘记密码？")])],1)],1)]),t._v(" "),a("el-form-item",[t.isLoading?a("bbt-btn",{attrs:{type:"assist",block:"",disabled:""}},[t._v("登录中")]):a("bbt-btn",{attrs:{type:"assist",block:""},on:{click:t.onSubmit}},[t._v("登录")])],1),t._v(" "),a("p",{staticStyle:{"text-align":"center"}},[t._v("\n        还没有账号？"),a("nuxt-link",{staticClass:"link-primary",attrs:{to:{name:"register",query:{back_url:t.back_url,back_name:t.back_name,redirect_url:t.redirect_url}}}},[t._v("立即注册")])],1)],1)],1)],1)}),[],!1,null,null,null);e.default=c.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6);var i=a(1),r=(a(4),a(3),a(19),a(124)),n=a(2);function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var o={components:{XBanner:r.a},watchQuery:["id"],fetch:function(t){var e=t.store,a=t.error,i=(t.redirect,t.query.id);t.cookie;return Promise.all([e.dispatch("block/FETCH_BLOCK_RULE",{params:{fid:void 0!==i?i:61},type:"rules"})]).catch((function(t){return t&&404===t.code?a({statusCode:404}):a({statusCode:500})}))},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(n.c)({block:function(t){return t.block}}),{ruleData:function(){return this.block.rules[this.$route.query.id||61]}}),data:function(){return{bannerData:{bgPic:"/images/banner/document-bg@2x.jpg",holdHeight:"80",height:"400"}}},metaInfo:{title:"社区积分规则"}},c=a(0),l=Object(c.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main bbt-main"},[a("x-banner",{attrs:{banner:t.bannerData}}),t._v(" "),a("div",{staticClass:"bbt-container"},[a("div",{staticClass:"document-module"},[t._m(0),t._v(" "),a("div",{staticClass:"document-module__content"},[a("h2",[t._v("全局积分规则")]),t._v(" "),a("p",[t._v("\n          进行以下事件动作，会得到积分奖励。不过，在一个周期内，您最多得到的奖励次数有限制\n        ")]),t._v(" "),a("div",{staticClass:"document-module__table"},[t._m(1),t._v(" "),t._l(t.ruleData.global_rule,(function(e,i){return a("div",{key:i,staticClass:"document-module__tr"},[a("div",[t._v(t._s(e.rulename))]),t._v(" "),a("div",[t._v(t._s(e.cycletype))]),t._v(" "),Number.parseInt(e.cycletime)>0?a("div",[t._v("\n              "+t._s(e.cycletime)+"\n            ")]):a("div",[t._v("不限次数")]),t._v(" "),a("div",[t._v("+"+t._s(e.extcredits2))])])}))],2),t._v(" "),a("br"),t._v(" "),a("h2",[t._v(t._s(t.ruleData.name)+"积分规则")]),t._v(" "),a("p",[t._v("\n          进行以下事件动作，会得到积分奖励。不过，在一个周期内，您最多得到的奖励次数有限制\n        ")]),t._v(" "),a("div",{staticClass:"document-module__table"},[t._m(2),t._v(" "),t._l(t.ruleData.forum_rule,(function(e,i){return a("div",{key:i,staticClass:"document-module__tr"},[a("div",[t._v(t._s(e.rulename))]),t._v(" "),a("div",[t._v(t._s(e.cycletype))]),t._v(" "),Number.parseInt(e.cycletime)>0?a("div",[t._v("\n              "+t._s(e.cycletime)+"\n            ")]):a("div",[t._v("不限次数")]),t._v(" "),a("div",[t._v("+"+t._s(e.extcredits2))])])}))],2)])])])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"document-module__title typo-h3"},[e("span",{staticClass:"square"},[e("i"),e("i")]),this._v("论坛积分规则\n      ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"document-module__th"},[e("div",[this._v("动作名称")]),this._v(" "),e("div",[this._v("周期范围")]),this._v(" "),e("div",[this._v("周期内最多奖励次数")]),this._v(" "),e("div",[this._v("金币")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"document-module__th"},[e("div",[this._v("动作名称")]),this._v(" "),e("div",[this._v("周期范围")]),this._v(" "),e("div",[this._v("周期内最多奖励次数")]),this._v(" "),e("div",[this._v("金币")])])}],!1,null,null,null);e.default=l.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(4),a(3),a(6),a(23);var i=a(1),r=(a(54),a(33),a(2)),n=a(15),s=a(14);function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var l={layout:"login",data:function(){return{isBind:this.$route.query.isBind,type:this.$route.query.type}},fetch:function(t){var e=t.store,a=(t.cookie,t.route.query),i=a.code,r=a.type,s=a.isWeixinLogin;return"weixin"===r?e.dispatch("FETCH_WECHAT_ACCESS_TOKEN",{params:{code:i,appid:s?"wx8a9e39eb5caed6cb":"wx0f8cd6cfc49cde29",secret:s?"8ef122384b8e9696b5cfd37ded7f64bf":"2101c96bea24149bbacd654fc94c3c2b",grant_type:"authorization_code"}}).then((function(t){if(!t.errmsg)return e.dispatch("FETCH_WRCHAT_USERINFO",{params:{access_token:t.access_token,openid:t.openid}}).then((function(t){e.commit("SET_SOCIAL_INFO",t)}));e.commit("SET_SOCIAL_INFO",t)})):"qq"===r?e.dispatch("FETCH_QQ_ACCESS_TOKEN",{params:{code:i,client_id:"101557088",client_secret:"31e3797b62cd39b6c2402ccad8e445a7",grant_type:"authorization_code",redirect_uri:"".concat(n.e.host,"/user_auth?type=qq")}}).then((function(t){if(!(t.indexOf("callback")>0)){var a=t.split("&")[0].replace("access_token=","");return e.dispatch("FETCH_QQ_UNIONID",{params:{access_token:a,format:"json",unionid:1}}).then((function(t){var i=JSON.parse(t.replace("callback( ","").replace(" );",""));if(!i.error){var r=i.openid,n=i.unionid;return e.dispatch("FETCH_QQ_USERINFO",{params:{access_token:a,oauth_consumer_key:"101557088",openid:r,format:"json"}}).then((function(t){e.commit("SET_SOCIAL_INFO",c({openid:r,unionid:n},t))}))}e.commit("SET_SOCIAL_INFO",i)}))}var i=JSON.parse(t.replace("callback( ","").replace(" );",""));e.commit("SET_SOCIAL_INFO",i)})):void 0},computed:c({},Object(r.c)({social:function(t){return t.social},uid:function(t){return t.userinfo.uid}})),mounted:function(){var t=this;if(this.social.errmsg||this.social.error_description)return this.$message({type:"danger",message:this.social.errmsg||this.social.error_description}),void(location.href=decodeURIComponent(this.$route.query.back_url)||"/");this.uid&&this.isBind?this.$store.dispatch("FETCH_SOCIAL_BIND",{params:{openid:this.social.openid,unionid:this.social.unionid,nickname:this.social.nickname||this.social.name||this.social.screen_name,avatar:this.social.headimgurl||this.social.figureurl_2||this.social.avatar_large||this.social.profile_image_url,type:this.$route.query.type,uid:this.uid,bind_type:"1",source:"web",product_code:"chainnode",device_id:Object(s.k)(20,20)}}).then((function(e){location.href=t.$route.query.back_url?decodeURIComponent(t.$route.query.back_url):"/"})).catch((function(e){t.$message({type:"danger",message:e.message}),location.href=t.$route.query.back_url?decodeURIComponent(t.$route.query.back_url):"/"})):this.$store.dispatch("FETCH_LOGIN_SOCIAL",{params:{openid:this.social.openid,unionid:this.social.unionid,nickname:this.social.nickname||this.social.name||this.social.screen_name,avatar:this.social.headimgurl||this.social.figureurl_2||this.social.avatar_large||this.social.profile_image_url,type:this.$route.query.type,source:"web",product_code:"chainnode",device_id:Object(s.k)(20,20)}}).then((function(e){location.href=t.$route.query.back_url?decodeURIComponent(t.$route.query.back_url):"/"})).catch((function(e){t.$message({type:"danger",message:e.message}),location.href=t.$route.query.back_url?decodeURIComponent(t.$route.query.back_url):"/"}))},head:function(){return{title:"weixin"==this.type?"微信".concat(this.isBind?"绑定":"登录"):"QQ".concat(this.isBind?"绑定":"登录")}}},u=a(0),d=Object(u.a)(l,(function(){var t=this.$createElement;return(this._self._c||t)("bbt-loading",{attrs:{loading:!0}})}),[],!1,null,null,null);e.default=d.exports},function(t,e,a){"use strict";a.r(e);a(7),a(5),a(6),a(25);var i=a(1),r=(a(4),a(3),a(19),a(12),a(2)),n=a(53),s=a(126),o=a(27);function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){Object(i.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u={components:{XTagFilter:n.a,XActivityListModule:s.a,XEmpty:o.a},watchQuery:["tagid"],fetch:function(t){var e=t.store,a=(t.cookie,t.res,t.error,t.redirect),i=t.route,r=i.params.id,n=i.query.tagid;if(Number(n)>2)return a(301,{path:"/user/".concat(r,"/events")});var s={};return Number(n)?1==Number(n)?s.act_status="activity_before":s.act_status="activity_end":s.act_status="activity_in",Promise.all([e.dispatch("activity/FETCH_LIST",{params:l({module:"user",num:10,uid:r},s),type:"user"})]).catch((function(t){}))},data:function(){return{isLoading:!1,pageSize:10,currentPage:1}},computed:l({},Object(r.c)({menu:function(t){return t.menu},activity:function(t){return t.activity}}),{id:function(){return this.$route.params.id},currentId:function(){return Number(this.$route.query.tagid)||0},tagData:function(){return this.menu.activity_user_filter},activityData:function(){return this.activity.user},totalNum:function(){return Number.parseInt(this.activity.user.total)}}),watch:{$route:function(){this.isLoading=!1}},methods:{switchTab:function(t){if(!this.isLoading){this.isLoading=!0,this.currentPage=1;var e={};t.id&&(e={tagid:"".concat(t.id)}),this.$router.push({path:"/user/".concat(this.id,"/events"),query:e})}},changePage:function(t){var e=this;if(!this.isLoading){this.isLoading=!0;var a={};0==this.currentId?a.act_status="activity_in":1==this.currentId?a.act_status="activity_before":a.act_status="activity_end",this.$store.dispatch("activity/FETCH_LIST",{params:l({module:"user",page:t,num:this.pageSize,uid:this.id},a),type:"user"}).then((function(a){e.currentPage=t,e.isLoading=!1})).catch((function(t){e.isLoading=!1}))}}}},d=a(0),p=Object(d.a)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("x-tag-filter",{attrs:{menu:t.tagData,currentId:t.currentId,isNeedMore:!1},on:{switch:t.switchTab}}),t._v(" "),a("bbt-loading",{style:t.isLoading?"min-height: 1000px;":"",attrs:{loading:t.isLoading}},[t.activityData.list&&t.activityData.list.length?a("x-activity-list-module",{attrs:{data:t.activityData.list}}):a("x-empty",[t._v("暂无数据")]),t._v(" "),t.totalNum>t.pageSize?a("el-pagination",{staticStyle:{margin:"24px 0"},attrs:{layout:"prev, pager, next","current-page":t.currentPage,"page-size":t.pageSize,total:t.totalNum},on:{"current-change":t.changePage}}):t._e()],1)],1)}),[],!1,null,null,null);e.default=p.exports},function(t,e,a){"use strict";a.r(e);a(31);var i=["post","ama","question","event"],r={asyncData:function(t){var e=t.redirect,a=t.app,r=t.route.query,n=r.mod,s=r.tid,o=r.ptid,c=r.fid,l=void 0===c?61:c,u=r.page,d=void 0===u?1:u,p=t.error;if("redirect"==n||"viewthread"==n)return a.$api.get("/api/php/forum/thread-type/type",{tid:s||o}).then((function(t){if(200!=t.data.code)throw{code:404};i.includes(t.data.data.type)&&e(301,d>1?"/".concat(t.data.data.type,"/").concat(t.data.data.tid,"-").concat(d):"/".concat(t.data.data.type,"/").concat(t.data.data.tid))})).catch((function(t){return p({statusCode:t.code,message:"没有该帖子"})}));e(301,"forumdisplay"==n?d>1?"/forum/".concat(l,"-").concat(d):"/forum/".concat(l):"/nodes")}},n=a(0),s=Object(n.a)(r,void 0,void 0,!1,null,null,null);e.default=s.exports},function(t,e,a){"use strict";a.r(e);a(31),a(29);var i=a(16),r=["post","ama","question","event"],n={asyncData:function(t){var e=t.redirect,a=t.app,n=t.route.params,s=n.id,o=n.page,c=void 0===o?1:o,l=t.error;return Object(i.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",a.$api.get("/api/php/forum/thread-type/type",{tid:s}).then((function(t){if(200!=t.data.code)throw{code:404};r.includes(t.data.data.type)&&e(301,c>1?"/".concat(t.data.data.type,"/").concat(t.data.data.tid,"-").concat(c):"/".concat(t.data.data.type,"/").concat(t.data.data.tid))})).catch((function(t){return l({statusCode:t.code,message:"没有该帖子"})})));case 1:case"end":return t.stop()}}),t)})))()}},s=a(0),o=Object(s.a)(n,void 0,void 0,!1,null,null,null);e.default=o.exports},function(t,e,a){"use strict";a.r(e);var i=a(518).default,r=a(0),n=Object(r.a)(i,void 0,void 0,!1,null,null,null);e.default=n.exports},function(t,e,a){"use strict";a.r(e);var i=a(835).default,r=a(0),n=Object(r.a)(i,void 0,void 0,!1,null,null,null);e.default=n.exports},function(t,e,a){"use strict";a.r(e);a(29);var i=a(16),r={asyncData:function(t){var e=t.redirect,a=t.route;t.error;return Object(i.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.query.uid?e(301,"/user/".concat(a.query.uid)):e(301,"/");case 1:case"end":return t.stop()}}),t)})))()}},n=a(0),s=Object(n.a)(r,void 0,void 0,!1,null,null,null);e.default=s.exports},function(t,e,a){"use strict";a.r(e);var i=a(518).default,r=a(0),n=Object(r.a)(i,void 0,void 0,!1,null,null,null);e.default=n.exports},function(t,e,a){"use strict";a.r(e);var i=a(840).default,r=a(0),n=Object(r.a)(i,void 0,void 0,!1,null,null,null);e.default=n.exports},function(t,e,a){"use strict";a.r(e);var i={fetch:function(t){var e=t.redirect;t.params;e({path:"/login/password",query:t.query})}},r=a(0),n=Object(r.a)(i,void 0,void 0,!1,null,null,null);e.default=n.exports},function(t,e,a){"use strict";a.r(e);var i=a(834).default,r=a(0),n=Object(r.a)(i,void 0,void 0,!1,null,null,null);e.default=n.exports},function(t,e,a){"use strict";a.r(e);var i=a(832).default,r=a(0),n=Object(r.a)(i,void 0,void 0,!1,null,null,null);e.default=n.exports},function(t,e,a){"use strict";a.r(e);var i=a(837).default,r=a(0),n=Object(r.a)(i,void 0,void 0,!1,null,null,null);e.default=n.exports},function(t,e,a){"use strict";a.r(e);var i=a(836).default,r=a(0),n=Object(r.a)(i,void 0,void 0,!1,null,null,null);e.default=n.exports},function(t,e,a){"use strict";a.r(e);a(29);var i=a(16),r={asyncData:function(t){var e=t.redirect,a=t.route;t.error;return Object(i.a)(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=a.query.d,e(301,i?"/doc/".concat(i):"/library");case 3:case"end":return t.stop()}}),t)})))()}},n=a(0),s=Object(n.a)(r,void 0,void 0,!1,null,null,null);e.default=s.exports},function(t,e,a){"use strict";a.r(e);var i=a(831).default,r=a(0),n=Object(r.a)(i,void 0,void 0,!1,null,null,null);e.default=n.exports},function(t,e,a){"use strict";a.r(e);var i=a(838).default,r=a(0),n=Object(r.a)(i,void 0,void 0,!1,null,null,null);e.default=n.exports},function(t,e,a){"use strict";a.r(e);var i=a(830).default,r=a(0),n=Object(r.a)(i,void 0,void 0,!1,null,null,null);e.default=n.exports},function(t,e,a){"use strict";a.r(e);var i=a(839).default,r=a(0),n=Object(r.a)(i,void 0,void 0,!1,null,null,null);e.default=n.exports}])]);